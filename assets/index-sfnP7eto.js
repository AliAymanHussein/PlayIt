var j0=e=>{throw TypeError(e)};var Em=(e,t,r)=>t.has(e)||j0("Cannot "+r);var D=(e,t,r)=>(Em(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?j0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),me=(e,t,r,n)=>(Em(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),$e=(e,t,r)=>(Em(e,t,"access private method"),r);var sd=(e,t,r,n)=>({set _(s){me(e,t,s,r)},get _(){return D(e,t,n)}});function CT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ET(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var F_={exports:{}},yh={},$_={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),PT=Symbol.for("react.portal"),TT=Symbol.for("react.fragment"),RT=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),IT=Symbol.for("react.context"),MT=Symbol.for("react.forward_ref"),DT=Symbol.for("react.suspense"),LT=Symbol.for("react.memo"),FT=Symbol.for("react.lazy"),N0=Symbol.iterator;function $T(e){return e===null||typeof e!="object"?null:(e=N0&&e[N0]||e["@@iterator"],typeof e=="function"?e:null)}var U_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,z_={};function hl(e,t,r){this.props=e,this.context=t,this.refs=z_,this.updater=r||U_}hl.prototype.isReactComponent={};hl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function V_(){}V_.prototype=hl.prototype;function Dy(e,t,r){this.props=e,this.context=t,this.refs=z_,this.updater=r||U_}var Ly=Dy.prototype=new V_;Ly.constructor=Dy;B_(Ly,hl.prototype);Ly.isPureReactComponent=!0;var S0=Array.isArray,W_=Object.prototype.hasOwnProperty,Fy={current:null},q_={key:!0,ref:!0,__self:!0,__source:!0};function H_(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)W_.call(t,n)&&!q_.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:wu,type:e,key:o,ref:i,props:s,_owner:Fy.current}}function UT(e,t){return{$$typeof:wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $y(e){return typeof e=="object"&&e!==null&&e.$$typeof===wu}function BT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var k0=/\/+/g;function Pm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?BT(""+e.key):t.toString(36)}function Ld(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case wu:case PT:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Pm(i,0):n,S0(s)?(r="",e!=null&&(r=e.replace(k0,"$&/")+"/"),Ld(s,t,r,"",function(u){return u})):s!=null&&($y(s)&&(s=UT(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(k0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",S0(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Pm(o,l);i+=Ld(o,t,r,c,s)}else if(c=$T(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Pm(o,l++),i+=Ld(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ad(e,t,r){if(e==null)return e;var n=[],s=0;return Ld(e,n,"","",function(o){return t.call(r,o,s++)}),n}function zT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jr={current:null},Fd={transition:null},VT={ReactCurrentDispatcher:jr,ReactCurrentBatchConfig:Fd,ReactCurrentOwner:Fy};function G_(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:ad,forEach:function(e,t,r){ad(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ad(e,function(){t++}),t},toArray:function(e){return ad(e,function(t){return t})||[]},only:function(e){if(!$y(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=hl;Ve.Fragment=TT;Ve.Profiler=AT;Ve.PureComponent=Dy;Ve.StrictMode=RT;Ve.Suspense=DT;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VT;Ve.act=G_;Ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=B_({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Fy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)W_.call(t,c)&&!q_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:wu,type:e.type,key:s,ref:o,props:n,_owner:i}};Ve.createContext=function(e){return e={$$typeof:IT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OT,_context:e},e.Consumer=e};Ve.createElement=H_;Ve.createFactory=function(e){var t=H_.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:MT,render:e}};Ve.isValidElement=$y;Ve.lazy=function(e){return{$$typeof:FT,_payload:{_status:-1,_result:e},_init:zT}};Ve.memo=function(e,t){return{$$typeof:LT,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=Fd.transition;Fd.transition={};try{e()}finally{Fd.transition=t}};Ve.unstable_act=G_;Ve.useCallback=function(e,t){return jr.current.useCallback(e,t)};Ve.useContext=function(e){return jr.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return jr.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return jr.current.useEffect(e,t)};Ve.useId=function(){return jr.current.useId()};Ve.useImperativeHandle=function(e,t,r){return jr.current.useImperativeHandle(e,t,r)};Ve.useInsertionEffect=function(e,t){return jr.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return jr.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return jr.current.useMemo(e,t)};Ve.useReducer=function(e,t,r){return jr.current.useReducer(e,t,r)};Ve.useRef=function(e){return jr.current.useRef(e)};Ve.useState=function(e){return jr.current.useState(e)};Ve.useSyncExternalStore=function(e,t,r){return jr.current.useSyncExternalStore(e,t,r)};Ve.useTransition=function(){return jr.current.useTransition()};Ve.version="18.3.1";$_.exports=Ve;var m=$_.exports;const K=L_(m),K_=CT({__proto__:null,default:K},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=m,qT=Symbol.for("react.element"),HT=Symbol.for("react.fragment"),GT=Object.prototype.hasOwnProperty,KT=WT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YT={key:!0,ref:!0,__self:!0,__source:!0};function Y_(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)GT.call(t,n)&&!YT.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:qT,type:e,key:o,ref:i,props:s,_owner:KT.current}}yh.Fragment=HT;yh.jsx=Y_;yh.jsxs=Y_;F_.exports=yh;var a=F_.exports,Q_={exports:{}},ln={},J_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,P){var W=k.length;k.push(P);e:for(;0<W;){var V=W-1>>>1,Z=k[V];if(0<s(Z,P))k[V]=P,k[W]=Z,W=V;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var P=k[0],W=k.pop();if(W!==P){k[0]=W;e:for(var V=0,Z=k.length,fe=Z>>>1;V<fe;){var le=2*(V+1)-1,ke=k[le],ge=le+1,H=k[ge];if(0>s(ke,W))ge<Z&&0>s(H,ke)?(k[V]=H,k[ge]=W,V=ge):(k[V]=ke,k[le]=W,V=le);else if(ge<Z&&0>s(H,W))k[V]=H,k[ge]=W,V=ge;else break e}}return P}function s(k,P){var W=k.sortIndex-P.sortIndex;return W!==0?W:k.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,v=!1,p=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=k)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(k){if(y=!1,b(k),!p)if(r(c)!==null)p=!0,L(S);else{var P=r(u);P!==null&&M(j,P.startTime-k)}}function S(k,P){p=!1,y&&(y=!1,w(C),C=-1),v=!0;var W=h;try{for(b(P),f=r(c);f!==null&&(!(f.expirationTime>P)||k&&!I());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var Z=V(f.expirationTime<=P);P=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(c)&&n(c),b(P)}else n(c);f=r(c)}if(f!==null)var fe=!0;else{var le=r(u);le!==null&&M(j,le.startTime-P),fe=!1}return fe}finally{f=null,h=W,v=!1}}var N=!1,_=null,C=-1,E=5,T=-1;function I(){return!(e.unstable_now()-T<E)}function F(){if(_!==null){var k=e.unstable_now();T=k;var P=!0;try{P=_(!0,k)}finally{P?R():(N=!1,_=null)}}else N=!1}var R;if(typeof g=="function")R=function(){g(F)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,U=A.port2;A.port1.onmessage=F,R=function(){U.postMessage(null)}}else R=function(){x(F,0)};function L(k){_=k,N||(N=!0,R())}function M(k,P){C=x(function(){k(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){p||v||(p=!0,L(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var W=h;h=P;try{return k()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,P){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=h;h=k;try{return P()}finally{h=W}},e.unstable_scheduleCallback=function(k,P,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,k={id:d++,callback:P,priorityLevel:k,startTime:W,expirationTime:Z,sortIndex:-1},W>V?(k.sortIndex=W,t(u,k),r(c)===null&&k===r(u)&&(y?(w(C),C=-1):y=!0,M(j,W-V))):(k.sortIndex=Z,t(c,k),p||v||(p=!0,L(S))),k},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(k){var P=h;return function(){var W=h;h=P;try{return k.apply(this,arguments)}finally{h=W}}}})(Z_);J_.exports=Z_;var QT=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT=m,an=QT;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,Sc={};function Lo(e,t){Hi(e,t),Hi(e+"Capture",t)}function Hi(e,t){for(Sc[e]=t,e=0;e<t.length;e++)X_.add(t[e])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,ZT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C0={},E0={};function XT(e){return Lp.call(E0,e)?!0:Lp.call(C0,e)?!1:ZT.test(e)?E0[e]=!0:(C0[e]=!0,!1)}function eR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tR(e,t,r,n){if(t===null||typeof t>"u"||eR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nr(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new Nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new Nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new Nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new Nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new Nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new Nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new Nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new Nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new Nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uy=/[\-:]([a-z])/g;function By(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uy,By);tr[t]=new Nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uy,By);tr[t]=new Nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uy,By);tr[t]=new Nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function zy(e,t,r,n){var s=tr.hasOwnProperty(t)?tr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tR(t,r,s,n)&&(r=null),n||s===null?XT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ms=JT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),si=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),e1=Symbol.for("react.provider"),t1=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Up=Symbol.for("react.suspense_list"),qy=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),r1=Symbol.for("react.offscreen"),P0=Symbol.iterator;function Tl(e){return e===null||typeof e!="object"?null:(e=P0&&e[P0]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,Tm;function Hl(e){if(Tm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Tm=t&&t[1]||""}return`
`+Tm+e}var Rm=!1;function Am(e,t){if(!e||Rm)return"";Rm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Rm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hl(e):""}function rR(e){switch(e.tag){case 5:return Hl(e.type);case 16:return Hl("Lazy");case 13:return Hl("Suspense");case 19:return Hl("SuspenseList");case 0:case 2:case 15:return e=Am(e.type,!1),e;case 11:return e=Am(e.type.render,!1),e;case 1:return e=Am(e.type,!0),e;default:return""}}function Bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ai:return"Fragment";case si:return"Portal";case Fp:return"Profiler";case Vy:return"StrictMode";case $p:return"Suspense";case Up:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case t1:return(e.displayName||"Context")+".Consumer";case e1:return(e._context.displayName||"Context")+".Provider";case Wy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qy:return t=e.displayName||null,t!==null?t:Bp(e.type)||"Memo";case Hs:t=e._payload,e=e._init;try{return Bp(e(t))}catch{}}return null}function nR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(t);case 8:return t===Vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sR(e){var t=n1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function id(e){e._valueTracker||(e._valueTracker=sR(e))}function s1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=n1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function cf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zp(e,t){var r=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function T0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function a1(e,t){t=t.checked,t!=null&&zy(e,"checked",t,!1)}function Vp(e,t){a1(e,t);var r=Sa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wp(e,t.type,Sa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function R0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wp(e,t,r){(t!=="number"||cf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gl=Array.isArray;function xi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(Gl(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sa(r)}}function o1(e,t){var r=Sa(t.value),n=Sa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function O0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ld,l1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ld=ld||document.createElement("div"),ld.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ld.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aR=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(e){aR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lc[t]=lc[e]})});function c1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lc.hasOwnProperty(e)&&lc[e]?(""+t).trim():t+"px"}function u1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=c1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var oR=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(e,t){if(t){if(oR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Kp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yp=null;function Hy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qp=null,wi=null,bi=null;function I0(e){if(e=ju(e)){if(typeof Qp!="function")throw Error(re(280));var t=e.stateNode;t&&(t=_h(t),Qp(e.stateNode,e.type,t))}}function d1(e){wi?bi?bi.push(e):bi=[e]:wi=e}function f1(){if(wi){var e=wi,t=bi;if(bi=wi=null,I0(e),t)for(e=0;e<t.length;e++)I0(t[e])}}function h1(e,t){return e(t)}function m1(){}var Om=!1;function p1(e,t,r){if(Om)return e(t,r);Om=!0;try{return h1(e,t,r)}finally{Om=!1,(wi!==null||bi!==null)&&(m1(),f1())}}function Cc(e,t){var r=e.stateNode;if(r===null)return null;var n=_h(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var Jp=!1;if(Es)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Jp=!1}function iR(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var cc=!1,uf=null,df=!1,Zp=null,lR={onError:function(e){cc=!0,uf=e}};function cR(e,t,r,n,s,o,i,l,c){cc=!1,uf=null,iR.apply(lR,arguments)}function uR(e,t,r,n,s,o,i,l,c){if(cR.apply(this,arguments),cc){if(cc){var u=uf;cc=!1,uf=null}else throw Error(re(198));df||(df=!0,Zp=u)}}function Fo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function g1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M0(e){if(Fo(e)!==e)throw Error(re(188))}function dR(e){var t=e.alternate;if(!t){if(t=Fo(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return M0(s),e;if(o===n)return M0(s),t;o=o.sibling}throw Error(re(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function y1(e){return e=dR(e),e!==null?v1(e):null}function v1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=v1(e);if(t!==null)return t;e=e.sibling}return null}var x1=an.unstable_scheduleCallback,D0=an.unstable_cancelCallback,fR=an.unstable_shouldYield,hR=an.unstable_requestPaint,Lt=an.unstable_now,mR=an.unstable_getCurrentPriorityLevel,Gy=an.unstable_ImmediatePriority,w1=an.unstable_UserBlockingPriority,ff=an.unstable_NormalPriority,pR=an.unstable_LowPriority,b1=an.unstable_IdlePriority,vh=null,ss=null;function gR(e){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(vh,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:xR,yR=Math.log,vR=Math.LN2;function xR(e){return e>>>=0,e===0?32:31-(yR(e)/vR|0)|0}var cd=64,ud=4194304;function Kl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Kl(l):(o&=i,o!==0&&(n=Kl(o)))}else i=r&~s,i!==0?n=Kl(i):o!==0&&(n=Kl(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-In(t),s=1<<r,n|=e[r],t&=~s;return n}function wR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-In(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=wR(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Xp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _1(){var e=cd;return cd<<=1,!(cd&4194240)&&(cd=64),e}function Im(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=r}function _R(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-In(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Ky(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-In(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var lt=0;function j1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var N1,Yy,S1,k1,C1,eg=!1,dd=[],ha=null,ma=null,pa=null,Ec=new Map,Pc=new Map,Ys=[],jR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L0(e,t){switch(e){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(t.pointerId)}}function Al(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ju(t),t!==null&&Yy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function NR(e,t,r,n,s){switch(t){case"focusin":return ha=Al(ha,e,t,r,n,s),!0;case"dragenter":return ma=Al(ma,e,t,r,n,s),!0;case"mouseover":return pa=Al(pa,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Ec.set(o,Al(Ec.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Pc.set(o,Al(Pc.get(o)||null,e,t,r,n,s)),!0}return!1}function E1(e){var t=Xa(e.target);if(t!==null){var r=Fo(t);if(r!==null){if(t=r.tag,t===13){if(t=g1(r),t!==null){e.blockedOn=t,C1(e.priority,function(){S1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $d(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yp=n,r.target.dispatchEvent(n),Yp=null}else return t=ju(r),t!==null&&Yy(t),e.blockedOn=r,!1;t.shift()}return!0}function F0(e,t,r){$d(e)&&r.delete(t)}function SR(){eg=!1,ha!==null&&$d(ha)&&(ha=null),ma!==null&&$d(ma)&&(ma=null),pa!==null&&$d(pa)&&(pa=null),Ec.forEach(F0),Pc.forEach(F0)}function Ol(e,t){e.blockedOn===t&&(e.blockedOn=null,eg||(eg=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,SR)))}function Tc(e){function t(s){return Ol(s,e)}if(0<dd.length){Ol(dd[0],e);for(var r=1;r<dd.length;r++){var n=dd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ha!==null&&Ol(ha,e),ma!==null&&Ol(ma,e),pa!==null&&Ol(pa,e),Ec.forEach(t),Pc.forEach(t),r=0;r<Ys.length;r++)n=Ys[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ys.length&&(r=Ys[0],r.blockedOn===null);)E1(r),r.blockedOn===null&&Ys.shift()}var _i=Ms.ReactCurrentBatchConfig,mf=!0;function kR(e,t,r,n){var s=lt,o=_i.transition;_i.transition=null;try{lt=1,Qy(e,t,r,n)}finally{lt=s,_i.transition=o}}function CR(e,t,r,n){var s=lt,o=_i.transition;_i.transition=null;try{lt=4,Qy(e,t,r,n)}finally{lt=s,_i.transition=o}}function Qy(e,t,r,n){if(mf){var s=tg(e,t,r,n);if(s===null)Wm(e,t,n,pf,r),L0(e,n);else if(NR(s,e,t,r,n))n.stopPropagation();else if(L0(e,n),t&4&&-1<jR.indexOf(e)){for(;s!==null;){var o=ju(s);if(o!==null&&N1(o),o=tg(e,t,r,n),o===null&&Wm(e,t,n,pf,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Wm(e,t,n,null,r)}}var pf=null;function tg(e,t,r,n){if(pf=null,e=Hy(n),e=Xa(e),e!==null)if(t=Fo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=g1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pf=e,null}function P1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mR()){case Gy:return 1;case w1:return 4;case ff:case pR:return 16;case b1:return 536870912;default:return 16}default:return 16}}var ua=null,Jy=null,Ud=null;function T1(){if(Ud)return Ud;var e,t=Jy,r=t.length,n,s="value"in ua?ua.value:ua.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return Ud=s.slice(e,1<n?1-n:void 0)}function Bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fd(){return!0}function $0(){return!1}function cn(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fd:$0,this.isPropagationStopped=$0,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),t}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zy=cn(ml),_u=Pt({},ml,{view:0,detail:0}),ER=cn(_u),Mm,Dm,Il,xh=Pt({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Il&&(Il&&e.type==="mousemove"?(Mm=e.screenX-Il.screenX,Dm=e.screenY-Il.screenY):Dm=Mm=0,Il=e),Mm)},movementY:function(e){return"movementY"in e?e.movementY:Dm}}),U0=cn(xh),PR=Pt({},xh,{dataTransfer:0}),TR=cn(PR),RR=Pt({},_u,{relatedTarget:0}),Lm=cn(RR),AR=Pt({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),OR=cn(AR),IR=Pt({},ml,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MR=cn(IR),DR=Pt({},ml,{data:0}),B0=cn(DR),LR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$R={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$R[e])?!!t[e]:!1}function Xy(){return UR}var BR=Pt({},_u,{key:function(e){if(e.key){var t=LR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xy,charCode:function(e){return e.type==="keypress"?Bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zR=cn(BR),VR=Pt({},xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z0=cn(VR),WR=Pt({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xy}),qR=cn(WR),HR=Pt({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),GR=cn(HR),KR=Pt({},xh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YR=cn(KR),QR=[9,13,27,32],ev=Es&&"CompositionEvent"in window,uc=null;Es&&"documentMode"in document&&(uc=document.documentMode);var JR=Es&&"TextEvent"in window&&!uc,R1=Es&&(!ev||uc&&8<uc&&11>=uc),V0=" ",W0=!1;function A1(e,t){switch(e){case"keyup":return QR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function ZR(e,t){switch(e){case"compositionend":return O1(t);case"keypress":return t.which!==32?null:(W0=!0,V0);case"textInput":return e=t.data,e===V0&&W0?null:e;default:return null}}function XR(e,t){if(oi)return e==="compositionend"||!ev&&A1(e,t)?(e=T1(),Ud=Jy=ua=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R1&&t.locale!=="ko"?null:t.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eA[e.type]:t==="textarea"}function I1(e,t,r,n){d1(n),t=gf(t,"onChange"),0<t.length&&(r=new Zy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dc=null,Rc=null;function tA(e){q1(e,0)}function wh(e){var t=ci(e);if(s1(t))return e}function rA(e,t){if(e==="change")return t}var M1=!1;if(Es){var Fm;if(Es){var $m="oninput"in document;if(!$m){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),$m=typeof H0.oninput=="function"}Fm=$m}else Fm=!1;M1=Fm&&(!document.documentMode||9<document.documentMode)}function G0(){dc&&(dc.detachEvent("onpropertychange",D1),Rc=dc=null)}function D1(e){if(e.propertyName==="value"&&wh(Rc)){var t=[];I1(t,Rc,e,Hy(e)),p1(tA,t)}}function nA(e,t,r){e==="focusin"?(G0(),dc=t,Rc=r,dc.attachEvent("onpropertychange",D1)):e==="focusout"&&G0()}function sA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wh(Rc)}function aA(e,t){if(e==="click")return wh(t)}function oA(e,t){if(e==="input"||e==="change")return wh(t)}function iA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fn=typeof Object.is=="function"?Object.is:iA;function Ac(e,t){if(Fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Lp.call(t,s)||!Fn(e[s],t[s]))return!1}return!0}function K0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Y0(e,t){var r=K0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K0(r)}}function L1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function F1(){for(var e=window,t=cf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=cf(e.document)}return t}function tv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lA(e){var t=F1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&L1(r.ownerDocument.documentElement,r)){if(n!==null&&tv(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Y0(r,o);var i=Y0(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cA=Es&&"documentMode"in document&&11>=document.documentMode,ii=null,rg=null,fc=null,ng=!1;function Q0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ng||ii==null||ii!==cf(n)||(n=ii,"selectionStart"in n&&tv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fc&&Ac(fc,n)||(fc=n,n=gf(rg,"onSelect"),0<n.length&&(t=new Zy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ii)))}function hd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var li={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},Um={},$1={};Es&&($1=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function bh(e){if(Um[e])return Um[e];if(!li[e])return e;var t=li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $1)return Um[e]=t[r];return e}var U1=bh("animationend"),B1=bh("animationiteration"),z1=bh("animationstart"),V1=bh("transitionend"),W1=new Map,J0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(e,t){W1.set(e,t),Lo(t,[e])}for(var Bm=0;Bm<J0.length;Bm++){var zm=J0[Bm],uA=zm.toLowerCase(),dA=zm[0].toUpperCase()+zm.slice(1);La(uA,"on"+dA)}La(U1,"onAnimationEnd");La(B1,"onAnimationIteration");La(z1,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(V1,"onTransitionEnd");Hi("onMouseEnter",["mouseout","mouseover"]);Hi("onMouseLeave",["mouseout","mouseover"]);Hi("onPointerEnter",["pointerout","pointerover"]);Hi("onPointerLeave",["pointerout","pointerover"]);Lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function Z0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uR(n,t,void 0,e),e.currentTarget=null}function q1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Z0(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Z0(s,l,u),o=c}}}if(df)throw e=Zp,df=!1,Zp=null,e}function wt(e,t){var r=t[lg];r===void 0&&(r=t[lg]=new Set);var n=e+"__bubble";r.has(n)||(H1(t,e,2,!1),r.add(n))}function Vm(e,t,r){var n=0;t&&(n|=4),H1(r,e,n,t)}var md="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[md]){e[md]=!0,X_.forEach(function(r){r!=="selectionchange"&&(fA.has(r)||Vm(r,!1,e),Vm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[md]||(t[md]=!0,Vm("selectionchange",!1,t))}}function H1(e,t,r,n){switch(P1(t)){case 1:var s=kR;break;case 4:s=CR;break;default:s=Qy}r=s.bind(null,t,r,e),s=void 0,!Jp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Wm(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Xa(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}p1(function(){var u=o,d=Hy(r),f=[];e:{var h=W1.get(e);if(h!==void 0){var v=Zy,p=e;switch(e){case"keypress":if(Bd(r)===0)break e;case"keydown":case"keyup":v=zR;break;case"focusin":p="focus",v=Lm;break;case"focusout":p="blur",v=Lm;break;case"beforeblur":case"afterblur":v=Lm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=TR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=qR;break;case U1:case B1:case z1:v=OR;break;case V1:v=GR;break;case"scroll":v=ER;break;case"wheel":v=YR;break;case"copy":case"cut":case"paste":v=MR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=z0}var y=(t&4)!==0,x=!y&&e==="scroll",w=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,b;g!==null;){b=g;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,w!==null&&(j=Cc(g,w),j!=null&&y.push(Ic(g,j,b)))),x)break;g=g.return}0<y.length&&(h=new v(h,p,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Yp&&(p=r.relatedTarget||r.fromElement)&&(Xa(p)||p[Ps]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(p=r.relatedTarget||r.toElement,v=u,p=p?Xa(p):null,p!==null&&(x=Fo(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=u),v!==p)){if(y=U0,j="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=z0,j="onPointerLeave",w="onPointerEnter",g="pointer"),x=v==null?h:ci(v),b=p==null?h:ci(p),h=new y(j,g+"leave",v,r,d),h.target=x,h.relatedTarget=b,j=null,Xa(d)===u&&(y=new y(w,g+"enter",p,r,d),y.target=b,y.relatedTarget=x,j=y),x=j,v&&p)t:{for(y=v,w=p,g=0,b=y;b;b=Ho(b))g++;for(b=0,j=w;j;j=Ho(j))b++;for(;0<g-b;)y=Ho(y),g--;for(;0<b-g;)w=Ho(w),b--;for(;g--;){if(y===w||w!==null&&y===w.alternate)break t;y=Ho(y),w=Ho(w)}y=null}else y=null;v!==null&&X0(f,h,v,y,!1),p!==null&&x!==null&&X0(f,x,p,y,!0)}}e:{if(h=u?ci(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var S=rA;else if(q0(h))if(M1)S=oA;else{S=sA;var N=nA}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=aA);if(S&&(S=S(e,u))){I1(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Wp(h,"number",h.value)}switch(N=u?ci(u):window,e){case"focusin":(q0(N)||N.contentEditable==="true")&&(ii=N,rg=u,fc=null);break;case"focusout":fc=rg=ii=null;break;case"mousedown":ng=!0;break;case"contextmenu":case"mouseup":case"dragend":ng=!1,Q0(f,r,d);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":Q0(f,r,d)}var _;if(ev)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else oi?A1(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(R1&&r.locale!=="ko"&&(oi||C!=="onCompositionStart"?C==="onCompositionEnd"&&oi&&(_=T1()):(ua=d,Jy="value"in ua?ua.value:ua.textContent,oi=!0)),N=gf(u,C),0<N.length&&(C=new B0(C,e,null,r,d),f.push({event:C,listeners:N}),_?C.data=_:(_=O1(r),_!==null&&(C.data=_)))),(_=JR?ZR(e,r):XR(e,r))&&(u=gf(u,"onBeforeInput"),0<u.length&&(d=new B0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}q1(f,t)})}function Ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gf(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Cc(e,r),o!=null&&n.unshift(Ic(e,o,s)),o=Cc(e,t),o!=null&&n.push(Ic(e,o,s))),e=e.return}return n}function Ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function X0(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Cc(r,o),c!=null&&i.unshift(Ic(r,c,l))):s||(c=Cc(r,o),c!=null&&i.push(Ic(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var hA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function ew(e){return(typeof e=="string"?e:""+e).replace(hA,`
`).replace(mA,"")}function pd(e,t,r){if(t=ew(t),ew(e)!==t&&r)throw Error(re(425))}function yf(){}var sg=null,ag=null;function og(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(e){return tw.resolve(null).then(e).catch(yA)}:ig;function yA(e){setTimeout(function(){throw e})}function qm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Tc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Tc(t)}function ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var pl=Math.random().toString(36).slice(2),es="__reactFiber$"+pl,Mc="__reactProps$"+pl,Ps="__reactContainer$"+pl,lg="__reactEvents$"+pl,vA="__reactListeners$"+pl,xA="__reactHandles$"+pl;function Xa(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ps]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rw(e);e!==null;){if(r=e[es])return r;e=rw(e)}return t}e=r,r=e.parentNode}return null}function ju(e){return e=e[es]||e[Ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ci(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function _h(e){return e[Mc]||null}var cg=[],ui=-1;function Fa(e){return{current:e}}function bt(e){0>ui||(e.current=cg[ui],cg[ui]=null,ui--)}function gt(e,t){ui++,cg[ui]=e.current,e.current=t}var ka={},ur=Fa(ka),Fr=Fa(!1),yo=ka;function Gi(e,t){var r=e.type.contextTypes;if(!r)return ka;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $r(e){return e=e.childContextTypes,e!=null}function vf(){bt(Fr),bt(ur)}function nw(e,t,r){if(ur.current!==ka)throw Error(re(168));gt(ur,t),gt(Fr,r)}function G1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(re(108,nR(e)||"Unknown",s));return Pt({},r,n)}function xf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,yo=ur.current,gt(ur,e),gt(Fr,Fr.current),!0}function sw(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=G1(e,t,yo),n.__reactInternalMemoizedMergedChildContext=e,bt(Fr),bt(ur),gt(ur,e)):bt(Fr),gt(Fr,r)}var ws=null,jh=!1,Hm=!1;function K1(e){ws===null?ws=[e]:ws.push(e)}function wA(e){jh=!0,K1(e)}function $a(){if(!Hm&&ws!==null){Hm=!0;var e=0,t=lt;try{var r=ws;for(lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ws=null,jh=!1}catch(s){throw ws!==null&&(ws=ws.slice(e+1)),x1(Gy,$a),s}finally{lt=t,Hm=!1}}return null}var di=[],fi=0,wf=null,bf=0,mn=[],pn=0,vo=null,js=1,Ns="";function Ka(e,t){di[fi++]=bf,di[fi++]=wf,wf=e,bf=t}function Y1(e,t,r){mn[pn++]=js,mn[pn++]=Ns,mn[pn++]=vo,vo=e;var n=js;e=Ns;var s=32-In(n)-1;n&=~(1<<s),r+=1;var o=32-In(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,js=1<<32-In(t)+s|r<<s|n,Ns=o+e}else js=1<<o|r<<s|n,Ns=e}function rv(e){e.return!==null&&(Ka(e,1),Y1(e,1,0))}function nv(e){for(;e===wf;)wf=di[--fi],di[fi]=null,bf=di[--fi],di[fi]=null;for(;e===vo;)vo=mn[--pn],mn[pn]=null,Ns=mn[--pn],mn[pn]=null,js=mn[--pn],mn[pn]=null}var Xr=null,Jr=null,_t=!1,Pn=null;function Q1(e,t){var r=gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function aw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xr=e,Jr=ga(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xr=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vo!==null?{id:js,overflow:Ns}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xr=e,Jr=null,!0):!1;default:return!1}}function ug(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dg(e){if(_t){var t=Jr;if(t){var r=t;if(!aw(e,t)){if(ug(e))throw Error(re(418));t=ga(r.nextSibling);var n=Xr;t&&aw(e,t)?Q1(n,r):(e.flags=e.flags&-4097|2,_t=!1,Xr=e)}}else{if(ug(e))throw Error(re(418));e.flags=e.flags&-4097|2,_t=!1,Xr=e}}}function ow(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xr=e}function gd(e){if(e!==Xr)return!1;if(!_t)return ow(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!og(e.type,e.memoizedProps)),t&&(t=Jr)){if(ug(e))throw J1(),Error(re(418));for(;t;)Q1(e,t),t=ga(t.nextSibling)}if(ow(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jr=ga(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=Xr?ga(e.stateNode.nextSibling):null;return!0}function J1(){for(var e=Jr;e;)e=ga(e.nextSibling)}function Ki(){Jr=Xr=null,_t=!1}function sv(e){Pn===null?Pn=[e]:Pn.push(e)}var bA=Ms.ReactCurrentBatchConfig;function Ml(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function yd(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iw(e){var t=e._init;return t(e._payload)}function Z1(e){function t(w,g){if(e){var b=w.deletions;b===null?(w.deletions=[g],w.flags|=16):b.push(g)}}function r(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function n(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=wa(w,g),w.index=0,w.sibling=null,w}function o(w,g,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<g?(w.flags|=2,g):b):(w.flags|=2,g)):(w.flags|=1048576,g)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,b,j){return g===null||g.tag!==6?(g=Xm(b,w.mode,j),g.return=w,g):(g=s(g,b),g.return=w,g)}function c(w,g,b,j){var S=b.type;return S===ai?d(w,g,b.props.children,j,b.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hs&&iw(S)===g.type)?(j=s(g,b.props),j.ref=Ml(w,g,b),j.return=w,j):(j=Kd(b.type,b.key,b.props,null,w.mode,j),j.ref=Ml(w,g,b),j.return=w,j)}function u(w,g,b,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=ep(b,w.mode,j),g.return=w,g):(g=s(g,b.children||[]),g.return=w,g)}function d(w,g,b,j,S){return g===null||g.tag!==7?(g=ho(b,w.mode,j,S),g.return=w,g):(g=s(g,b),g.return=w,g)}function f(w,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Xm(""+g,w.mode,b),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case od:return b=Kd(g.type,g.key,g.props,null,w.mode,b),b.ref=Ml(w,null,g),b.return=w,b;case si:return g=ep(g,w.mode,b),g.return=w,g;case Hs:var j=g._init;return f(w,j(g._payload),b)}if(Gl(g)||Tl(g))return g=ho(g,w.mode,b,null),g.return=w,g;yd(w,g)}return null}function h(w,g,b,j){var S=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(w,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case od:return b.key===S?c(w,g,b,j):null;case si:return b.key===S?u(w,g,b,j):null;case Hs:return S=b._init,h(w,g,S(b._payload),j)}if(Gl(b)||Tl(b))return S!==null?null:d(w,g,b,j,null);yd(w,b)}return null}function v(w,g,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(b)||null,l(g,w,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case od:return w=w.get(j.key===null?b:j.key)||null,c(g,w,j,S);case si:return w=w.get(j.key===null?b:j.key)||null,u(g,w,j,S);case Hs:var N=j._init;return v(w,g,b,N(j._payload),S)}if(Gl(j)||Tl(j))return w=w.get(b)||null,d(g,w,j,S,null);yd(g,j)}return null}function p(w,g,b,j){for(var S=null,N=null,_=g,C=g=0,E=null;_!==null&&C<b.length;C++){_.index>C?(E=_,_=null):E=_.sibling;var T=h(w,_,b[C],j);if(T===null){_===null&&(_=E);break}e&&_&&T.alternate===null&&t(w,_),g=o(T,g,C),N===null?S=T:N.sibling=T,N=T,_=E}if(C===b.length)return r(w,_),_t&&Ka(w,C),S;if(_===null){for(;C<b.length;C++)_=f(w,b[C],j),_!==null&&(g=o(_,g,C),N===null?S=_:N.sibling=_,N=_);return _t&&Ka(w,C),S}for(_=n(w,_);C<b.length;C++)E=v(_,w,C,b[C],j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?C:E.key),g=o(E,g,C),N===null?S=E:N.sibling=E,N=E);return e&&_.forEach(function(I){return t(w,I)}),_t&&Ka(w,C),S}function y(w,g,b,j){var S=Tl(b);if(typeof S!="function")throw Error(re(150));if(b=S.call(b),b==null)throw Error(re(151));for(var N=S=null,_=g,C=g=0,E=null,T=b.next();_!==null&&!T.done;C++,T=b.next()){_.index>C?(E=_,_=null):E=_.sibling;var I=h(w,_,T.value,j);if(I===null){_===null&&(_=E);break}e&&_&&I.alternate===null&&t(w,_),g=o(I,g,C),N===null?S=I:N.sibling=I,N=I,_=E}if(T.done)return r(w,_),_t&&Ka(w,C),S;if(_===null){for(;!T.done;C++,T=b.next())T=f(w,T.value,j),T!==null&&(g=o(T,g,C),N===null?S=T:N.sibling=T,N=T);return _t&&Ka(w,C),S}for(_=n(w,_);!T.done;C++,T=b.next())T=v(_,w,C,T.value,j),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?C:T.key),g=o(T,g,C),N===null?S=T:N.sibling=T,N=T);return e&&_.forEach(function(F){return t(w,F)}),_t&&Ka(w,C),S}function x(w,g,b,j){if(typeof b=="object"&&b!==null&&b.type===ai&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case od:e:{for(var S=b.key,N=g;N!==null;){if(N.key===S){if(S=b.type,S===ai){if(N.tag===7){r(w,N.sibling),g=s(N,b.props.children),g.return=w,w=g;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hs&&iw(S)===N.type){r(w,N.sibling),g=s(N,b.props),g.ref=Ml(w,N,b),g.return=w,w=g;break e}r(w,N);break}else t(w,N);N=N.sibling}b.type===ai?(g=ho(b.props.children,w.mode,j,b.key),g.return=w,w=g):(j=Kd(b.type,b.key,b.props,null,w.mode,j),j.ref=Ml(w,g,b),j.return=w,w=j)}return i(w);case si:e:{for(N=b.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(w,g.sibling),g=s(g,b.children||[]),g.return=w,w=g;break e}else{r(w,g);break}else t(w,g);g=g.sibling}g=ep(b,w.mode,j),g.return=w,w=g}return i(w);case Hs:return N=b._init,x(w,g,N(b._payload),j)}if(Gl(b))return p(w,g,b,j);if(Tl(b))return y(w,g,b,j);yd(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(w,g.sibling),g=s(g,b),g.return=w,w=g):(r(w,g),g=Xm(b,w.mode,j),g.return=w,w=g),i(w)):r(w,g)}return x}var Yi=Z1(!0),X1=Z1(!1),_f=Fa(null),jf=null,hi=null,av=null;function ov(){av=hi=jf=null}function iv(e){var t=_f.current;bt(_f),e._currentValue=t}function fg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ji(e,t){jf=e,av=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mr=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(av!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(jf===null)throw Error(re(308));hi=e,jf.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var eo=null;function lv(e){eo===null?eo=[e]:eo.push(e)}function ej(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,lv(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ts(e,n)}function Ts(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gs=!1;function cv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ya(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ts(e,r)}return s=n.interleaved,s===null?(t.next=t,lv(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ts(e,r)}function zd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ky(e,r)}}function lw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nf(e,t,r,n){var s=e.updateQueue;Gs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,v=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(h=t,v=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(v,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(v,f,h):p,h==null)break e;f=Pt({},f,h);break e;case 2:Gs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);wo|=i,e.lanes=i,e.memoizedState=f}}function cw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(re(191,s));s.call(n)}}}var Nu={},as=Fa(Nu),Dc=Fa(Nu),Lc=Fa(Nu);function to(e){if(e===Nu)throw Error(re(174));return e}function uv(e,t){switch(gt(Lc,t),gt(Dc,e),gt(as,Nu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hp(t,e)}bt(as),gt(as,t)}function Qi(){bt(as),bt(Dc),bt(Lc)}function rj(e){to(Lc.current);var t=to(as.current),r=Hp(t,e.type);t!==r&&(gt(Dc,e),gt(as,r))}function dv(e){Dc.current===e&&(bt(as),bt(Dc))}var kt=Fa(0);function Sf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gm=[];function fv(){for(var e=0;e<Gm.length;e++)Gm[e]._workInProgressVersionPrimary=null;Gm.length=0}var Vd=Ms.ReactCurrentDispatcher,Km=Ms.ReactCurrentBatchConfig,xo=0,Et=null,Vt=null,Qt=null,kf=!1,hc=!1,Fc=0,_A=0;function sr(){throw Error(re(321))}function hv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Fn(e[r],t[r]))return!1;return!0}function mv(e,t,r,n,s,o){if(xo=o,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vd.current=e===null||e.memoizedState===null?kA:CA,e=r(n,s),hc){o=0;do{if(hc=!1,Fc=0,25<=o)throw Error(re(301));o+=1,Qt=Vt=null,t.updateQueue=null,Vd.current=EA,e=r(n,s)}while(hc)}if(Vd.current=Cf,t=Vt!==null&&Vt.next!==null,xo=0,Qt=Vt=Et=null,kf=!1,t)throw Error(re(300));return e}function pv(){var e=Fc!==0;return Fc=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Et.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function bn(){if(Vt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Vt.next;var t=Qt===null?Et.memoizedState:Qt.next;if(t!==null)Qt=t,Vt=e;else{if(e===null)throw Error(re(310));Vt=e,e={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Qt===null?Et.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function $c(e,t){return typeof t=="function"?t(e):t}function Ym(e){var t=bn(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=Vt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((xo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Et.lanes|=d,wo|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Fn(n,t.memoizedState)||(Mr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Et.lanes|=o,wo|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qm(e){var t=bn(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Fn(o,t.memoizedState)||(Mr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function nj(){}function sj(e,t){var r=Et,n=bn(),s=t(),o=!Fn(n.memoizedState,s);if(o&&(n.memoizedState=s,Mr=!0),n=n.queue,gv(ij.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Qt!==null&&Qt.memoizedState.tag&1){if(r.flags|=2048,Uc(9,oj.bind(null,r,n,s,t),void 0,null),Jt===null)throw Error(re(349));xo&30||aj(r,t,s)}return s}function aj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function oj(e,t,r,n){t.value=r,t.getSnapshot=n,lj(t)&&cj(e)}function ij(e,t,r){return r(function(){lj(t)&&cj(e)})}function lj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fn(e,r)}catch{return!0}}function cj(e){var t=Ts(e,1);t!==null&&Mn(t,e,1,-1)}function uw(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:e},t.queue=e,e=e.dispatch=SA.bind(null,Et,e),[t.memoizedState,e]}function Uc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uj(){return bn().memoizedState}function Wd(e,t,r,n){var s=Yn();Et.flags|=e,s.memoizedState=Uc(1|t,r,void 0,n===void 0?null:n)}function Nh(e,t,r,n){var s=bn();n=n===void 0?null:n;var o=void 0;if(Vt!==null){var i=Vt.memoizedState;if(o=i.destroy,n!==null&&hv(n,i.deps)){s.memoizedState=Uc(t,r,o,n);return}}Et.flags|=e,s.memoizedState=Uc(1|t,r,o,n)}function dw(e,t){return Wd(8390656,8,e,t)}function gv(e,t){return Nh(2048,8,e,t)}function dj(e,t){return Nh(4,2,e,t)}function fj(e,t){return Nh(4,4,e,t)}function hj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mj(e,t,r){return r=r!=null?r.concat([e]):null,Nh(4,4,hj.bind(null,t,e),r)}function yv(){}function pj(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gj(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yj(e,t,r){return xo&21?(Fn(r,t)||(r=_1(),Et.lanes|=r,wo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mr=!0),e.memoizedState=r)}function jA(e,t){var r=lt;lt=r!==0&&4>r?r:4,e(!0);var n=Km.transition;Km.transition={};try{e(!1),t()}finally{lt=r,Km.transition=n}}function vj(){return bn().memoizedState}function NA(e,t,r){var n=xa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xj(e))wj(t,r);else if(r=ej(e,t,r,n),r!==null){var s=br();Mn(r,e,n,s),bj(r,t,n)}}function SA(e,t,r){var n=xa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xj(e))wj(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Fn(l,i)){var c=t.interleaved;c===null?(s.next=s,lv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=ej(e,t,s,n),r!==null&&(s=br(),Mn(r,e,n,s),bj(r,t,n))}}function xj(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function wj(e,t){hc=kf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ky(e,r)}}var Cf={readContext:wn,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},kA={readContext:wn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:dw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wd(4194308,4,hj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wd(4,2,e,t)},useMemo:function(e,t){var r=Yn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=NA.bind(null,Et,e),[n.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:uw,useDebugValue:yv,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=uw(!1),t=e[0];return e=jA.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Et,s=Yn();if(_t){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),Jt===null)throw Error(re(349));xo&30||aj(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,dw(ij.bind(null,n,o,e),[e]),n.flags|=2048,Uc(9,oj.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Yn(),t=Jt.identifierPrefix;if(_t){var r=Ns,n=js;r=(n&~(1<<32-In(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_A++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CA={readContext:wn,useCallback:pj,useContext:wn,useEffect:gv,useImperativeHandle:mj,useInsertionEffect:dj,useLayoutEffect:fj,useMemo:gj,useReducer:Ym,useRef:uj,useState:function(){return Ym($c)},useDebugValue:yv,useDeferredValue:function(e){var t=bn();return yj(t,Vt.memoizedState,e)},useTransition:function(){var e=Ym($c)[0],t=bn().memoizedState;return[e,t]},useMutableSource:nj,useSyncExternalStore:sj,useId:vj,unstable_isNewReconciler:!1},EA={readContext:wn,useCallback:pj,useContext:wn,useEffect:gv,useImperativeHandle:mj,useInsertionEffect:dj,useLayoutEffect:fj,useMemo:gj,useReducer:Qm,useRef:uj,useState:function(){return Qm($c)},useDebugValue:yv,useDeferredValue:function(e){var t=bn();return Vt===null?t.memoizedState=e:yj(t,Vt.memoizedState,e)},useTransition:function(){var e=Qm($c)[0],t=bn().memoizedState;return[e,t]},useMutableSource:nj,useSyncExternalStore:sj,useId:vj,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sh={isMounted:function(e){return(e=e._reactInternals)?Fo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=br(),s=xa(e),o=ks(n,s);o.payload=t,r!=null&&(o.callback=r),t=ya(e,o,s),t!==null&&(Mn(t,e,s,n),zd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=br(),s=xa(e),o=ks(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=ya(e,o,s),t!==null&&(Mn(t,e,s,n),zd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=br(),n=xa(e),s=ks(r,n);s.tag=2,t!=null&&(s.callback=t),t=ya(e,s,n),t!==null&&(Mn(t,e,n,r),zd(t,e,n))}};function fw(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ac(r,n)||!Ac(s,o):!0}function _j(e,t,r){var n=!1,s=ka,o=t.contextType;return typeof o=="object"&&o!==null?o=wn(o):(s=$r(t)?yo:ur.current,n=t.contextTypes,o=(n=n!=null)?Gi(e,s):ka),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sh.enqueueReplaceState(t,t.state,null)}function mg(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cv(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=wn(o):(o=$r(t)?yo:ur.current,s.context=Gi(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(hg(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sh.enqueueReplaceState(s,s.state,null),Nf(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,t){try{var r="",n=t;do r+=rR(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Jm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PA=typeof WeakMap=="function"?WeakMap:Map;function jj(e,t,r){r=ks(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pf||(Pf=!0,Sg=n),pg(e,t)},r}function Nj(e,t,r){r=ks(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){pg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){pg(e,t),typeof n!="function"&&(va===null?va=new Set([this]):va.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function mw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PA;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=VA.bind(null,e,t,r),t.then(e,e))}function pw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gw(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ks(-1,1),t.tag=2,ya(r,t,1))),r.lanes|=1),e)}var TA=Ms.ReactCurrentOwner,Mr=!1;function yr(e,t,r,n){t.child=e===null?X1(t,null,r,n):Yi(t,e.child,r,n)}function yw(e,t,r,n,s){r=r.render;var o=t.ref;return ji(t,s),n=mv(e,t,r,n,o,s),r=pv(),e!==null&&!Mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rs(e,t,s)):(_t&&r&&rv(t),t.flags|=1,yr(e,t,n,s),t.child)}function vw(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Sv(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Sj(e,t,o,n,s)):(e=Kd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ac,r(i,n)&&e.ref===t.ref)return Rs(e,t,s)}return t.flags|=1,e=wa(o,n),e.ref=t.ref,e.return=t,t.child=e}function Sj(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ac(o,n)&&e.ref===t.ref)if(Mr=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Mr=!0);else return t.lanes=e.lanes,Rs(e,t,s)}return gg(e,t,r,n,s)}function kj(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(pi,Yr),Yr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(pi,Yr),Yr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,gt(pi,Yr),Yr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,gt(pi,Yr),Yr|=n;return yr(e,t,s,r),t.child}function Cj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gg(e,t,r,n,s){var o=$r(r)?yo:ur.current;return o=Gi(t,o),ji(t,s),r=mv(e,t,r,n,o,s),n=pv(),e!==null&&!Mr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rs(e,t,s)):(_t&&n&&rv(t),t.flags|=1,yr(e,t,r,s),t.child)}function xw(e,t,r,n,s){if($r(r)){var o=!0;xf(t)}else o=!1;if(ji(t,s),t.stateNode===null)qd(e,t),_j(t,r,n),mg(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=$r(r)?yo:ur.current,u=Gi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&hw(t,i,n,u),Gs=!1;var h=t.memoizedState;i.state=h,Nf(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Fr.current||Gs?(typeof d=="function"&&(hg(t,r,d,n),c=t.memoizedState),(l=Gs||fw(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,tj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Sn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=wn(c):(c=$r(r)?yo:ur.current,c=Gi(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&hw(t,i,n,c),Gs=!1,h=t.memoizedState,i.state=h,Nf(t,n,i,s);var p=t.memoizedState;l!==f||h!==p||Fr.current||Gs?(typeof v=="function"&&(hg(t,r,v,n),p=t.memoizedState),(u=Gs||fw(t,r,u,n,h,p,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return yg(e,t,r,n,o,s)}function yg(e,t,r,n,s,o){Cj(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&sw(t,r,!1),Rs(e,t,o);n=t.stateNode,TA.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Yi(t,e.child,null,o),t.child=Yi(t,null,l,o)):yr(e,t,l,o),t.memoizedState=n.state,s&&sw(t,r,!0),t.child}function Ej(e){var t=e.stateNode;t.pendingContext?nw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nw(e,t.context,!1),uv(e,t.containerInfo)}function ww(e,t,r,n,s){return Ki(),sv(s),t.flags|=256,yr(e,t,r,n),t.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function xg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pj(e,t,r){var n=t.pendingProps,s=kt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),gt(kt,s&1),e===null)return dg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Eh(i,n,0,null),e=ho(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=xg(r),t.memoizedState=vg,e):vv(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return RA(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wa(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=wa(l,o):(o=ho(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?xg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=vg,n}return o=e.child,e=o.sibling,n=wa(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function vv(e,t){return t=Eh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vd(e,t,r,n){return n!==null&&sv(n),Yi(t,e.child,null,r),e=vv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RA(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Jm(Error(re(422))),vd(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Eh({mode:"visible",children:n.children},s,0,null),o=ho(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Yi(t,e.child,null,i),t.child.memoizedState=xg(i),t.memoizedState=vg,o);if(!(t.mode&1))return vd(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(re(419)),n=Jm(o,n,void 0),vd(e,t,i,n)}if(l=(i&e.childLanes)!==0,Mr||l){if(n=Jt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ts(e,s),Mn(n,e,s,-1))}return Nv(),n=Jm(Error(re(421))),vd(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=WA.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Jr=ga(s.nextSibling),Xr=t,_t=!0,Pn=null,e!==null&&(mn[pn++]=js,mn[pn++]=Ns,mn[pn++]=vo,js=e.id,Ns=e.overflow,vo=t),t=vv(t,n.children),t.flags|=4096,t)}function bw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fg(e.return,t,r)}function Zm(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Tj(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(yr(e,t,n.children,r),n=kt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bw(e,r,t);else if(e.tag===19)bw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(gt(kt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Sf(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zm(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sf(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zm(t,!0,r,null,o);break;case"together":Zm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=wa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AA(e,t,r){switch(t.tag){case 3:Ej(t),Ki();break;case 5:rj(t);break;case 1:$r(t.type)&&xf(t);break;case 4:uv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;gt(_f,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(gt(kt,kt.current&1),t.flags|=128,null):r&t.child.childLanes?Pj(e,t,r):(gt(kt,kt.current&1),e=Rs(e,t,r),e!==null?e.sibling:null);gt(kt,kt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Tj(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(kt,kt.current),n)break;return null;case 22:case 23:return t.lanes=0,kj(e,t,r)}return Rs(e,t,r)}var Rj,wg,Aj,Oj;Rj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wg=function(){};Aj=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,to(as.current);var o=null;switch(r){case"input":s=zp(e,s),n=zp(e,n),o=[];break;case"select":s=Pt({},s,{value:void 0}),n=Pt({},n,{value:void 0}),o=[];break;case"textarea":s=qp(e,s),n=qp(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yf)}Gp(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&wt("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Oj=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dl(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ar(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function OA(e,t,r){var n=t.pendingProps;switch(nv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(t),null;case 1:return $r(t.type)&&vf(),ar(t),null;case 3:return n=t.stateNode,Qi(),bt(Fr),bt(ur),fv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(Eg(Pn),Pn=null))),wg(e,t),ar(t),null;case 5:dv(t);var s=to(Lc.current);if(r=t.type,e!==null&&t.stateNode!=null)Aj(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return ar(t),null}if(e=to(as.current),gd(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[es]=t,n[Mc]=o,e=(t.mode&1)!==0,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<Yl.length;s++)wt(Yl[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":T0(n,o),wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},wt("invalid",n);break;case"textarea":A0(n,o),wt("invalid",n)}Gp(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&pd(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&pd(n.textContent,l,e),s=["children",""+l]):Sc.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&wt("scroll",n)}switch(r){case"input":id(n),R0(n,o,!0);break;case"textarea":id(n),O0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=yf)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[es]=t,e[Mc]=n,Rj(e,t,!1,!1),t.stateNode=e;e:{switch(i=Kp(r,n),r){case"dialog":wt("cancel",e),wt("close",e),s=n;break;case"iframe":case"object":case"embed":wt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Yl.length;s++)wt(Yl[s],e);s=n;break;case"source":wt("error",e),s=n;break;case"img":case"image":case"link":wt("error",e),wt("load",e),s=n;break;case"details":wt("toggle",e),s=n;break;case"input":T0(e,n),s=zp(e,n),wt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Pt({},n,{value:void 0}),wt("invalid",e);break;case"textarea":A0(e,n),s=qp(e,n),wt("invalid",e);break;default:s=n}Gp(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?u1(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&l1(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kc(e,c):typeof c=="number"&&kc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Sc.hasOwnProperty(o)?c!=null&&o==="onScroll"&&wt("scroll",e):c!=null&&zy(e,o,c,i))}switch(r){case"input":id(e),R0(e,n,!1);break;case"textarea":id(e),O0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sa(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?xi(e,!!n.multiple,o,!1):n.defaultValue!=null&&xi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ar(t),null;case 6:if(e&&t.stateNode!=null)Oj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=to(Lc.current),to(as.current),gd(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(o=n.nodeValue!==r)&&(e=Xr,e!==null))switch(e.tag){case 3:pd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pd(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return ar(t),null;case 13:if(bt(kt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&Jr!==null&&t.mode&1&&!(t.flags&128))J1(),Ki(),t.flags|=98560,o=!1;else if(o=gd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(re(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[es]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ar(t),o=!1}else Pn!==null&&(Eg(Pn),Pn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||kt.current&1?Gt===0&&(Gt=3):Nv())),t.updateQueue!==null&&(t.flags|=4),ar(t),null);case 4:return Qi(),wg(e,t),e===null&&Oc(t.stateNode.containerInfo),ar(t),null;case 10:return iv(t.type._context),ar(t),null;case 17:return $r(t.type)&&vf(),ar(t),null;case 19:if(bt(kt),o=t.memoizedState,o===null)return ar(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Dl(o,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Sf(e),i!==null){for(t.flags|=128,Dl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return gt(kt,kt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Lt()>Zi&&(t.flags|=128,n=!0,Dl(o,!1),t.lanes=4194304)}else{if(!n)if(e=Sf(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!_t)return ar(t),null}else 2*Lt()-o.renderingStartTime>Zi&&r!==1073741824&&(t.flags|=128,n=!0,Dl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Lt(),t.sibling=null,r=kt.current,gt(kt,n?r&1|2:r&1),t):(ar(t),null);case 22:case 23:return jv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yr&1073741824&&(ar(t),t.subtreeFlags&6&&(t.flags|=8192)):ar(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function IA(e,t){switch(nv(t),t.tag){case 1:return $r(t.type)&&vf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qi(),bt(Fr),bt(ur),fv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dv(t),null;case 13:if(bt(kt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(kt),null;case 4:return Qi(),null;case 10:return iv(t.type._context),null;case 22:case 23:return jv(),null;case 24:return null;default:return null}}var xd=!1,lr=!1,MA=typeof WeakSet=="function"?WeakSet:Set,ve=null;function mi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(e,t,n)}else r.current=null}function bg(e,t,r){try{r()}catch(n){It(e,t,n)}}var _w=!1;function DA(e,t){if(sg=mf,e=F1(),tv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===o&&++d===n&&(c=i),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ag={focusedElem:e,selectionRange:r},mf=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,x=p.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Sn(t.type,y),x);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(j){It(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return p=_w,_w=!1,p}function mc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&bg(t,r,o)}s=s.next}while(s!==n)}}function kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _g(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ij(e){var t=e.alternate;t!==null&&(e.alternate=null,Ij(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[Mc],delete t[lg],delete t[vA],delete t[xA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mj(e){return e.tag===5||e.tag===3||e.tag===4}function jw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yf));else if(n!==4&&(e=e.child,e!==null))for(jg(e,t,r),e=e.sibling;e!==null;)jg(e,t,r),e=e.sibling}function Ng(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ng(e,t,r),e=e.sibling;e!==null;)Ng(e,t,r),e=e.sibling}var Zt=null,Cn=!1;function Fs(e,t,r){for(r=r.child;r!==null;)Dj(e,t,r),r=r.sibling}function Dj(e,t,r){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(vh,r)}catch{}switch(r.tag){case 5:lr||mi(r,t);case 6:var n=Zt,s=Cn;Zt=null,Fs(e,t,r),Zt=n,Cn=s,Zt!==null&&(Cn?(e=Zt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zt.removeChild(r.stateNode));break;case 18:Zt!==null&&(Cn?(e=Zt,r=r.stateNode,e.nodeType===8?qm(e.parentNode,r):e.nodeType===1&&qm(e,r),Tc(e)):qm(Zt,r.stateNode));break;case 4:n=Zt,s=Cn,Zt=r.stateNode.containerInfo,Cn=!0,Fs(e,t,r),Zt=n,Cn=s;break;case 0:case 11:case 14:case 15:if(!lr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&bg(r,t,i),s=s.next}while(s!==n)}Fs(e,t,r);break;case 1:if(!lr&&(mi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){It(r,t,l)}Fs(e,t,r);break;case 21:Fs(e,t,r);break;case 22:r.mode&1?(lr=(n=lr)||r.memoizedState!==null,Fs(e,t,r),lr=n):Fs(e,t,r);break;default:Fs(e,t,r)}}function Nw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new MA),t.forEach(function(n){var s=qA.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _n(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Zt=l.stateNode,Cn=!1;break e;case 3:Zt=l.stateNode.containerInfo,Cn=!0;break e;case 4:Zt=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(Zt===null)throw Error(re(160));Dj(o,i,s),Zt=null,Cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){It(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lj(t,e),t=t.sibling}function Lj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Gn(e),n&4){try{mc(3,e,e.return),kh(3,e)}catch(y){It(e,e.return,y)}try{mc(5,e,e.return)}catch(y){It(e,e.return,y)}}break;case 1:_n(t,e),Gn(e),n&512&&r!==null&&mi(r,r.return);break;case 5:if(_n(t,e),Gn(e),n&512&&r!==null&&mi(r,r.return),e.flags&32){var s=e.stateNode;try{kc(s,"")}catch(y){It(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&a1(s,o),Kp(l,i);var u=Kp(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?u1(s,f):d==="dangerouslySetInnerHTML"?l1(s,f):d==="children"?kc(s,f):zy(s,d,f,u)}switch(l){case"input":Vp(s,o);break;case"textarea":o1(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?xi(s,!!o.multiple,v,!1):h!==!!o.multiple&&(o.defaultValue!=null?xi(s,!!o.multiple,o.defaultValue,!0):xi(s,!!o.multiple,o.multiple?[]:"",!1))}s[Mc]=o}catch(y){It(e,e.return,y)}}break;case 6:if(_n(t,e),Gn(e),n&4){if(e.stateNode===null)throw Error(re(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){It(e,e.return,y)}}break;case 3:if(_n(t,e),Gn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tc(t.containerInfo)}catch(y){It(e,e.return,y)}break;case 4:_n(t,e),Gn(e);break;case 13:_n(t,e),Gn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(bv=Lt())),n&4&&Nw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(lr=(u=lr)||d,_n(t,e),lr=u):_n(t,e),Gn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ve=e,d=e.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,v=h.child,h.tag){case 0:case 11:case 14:case 15:mc(4,h,h.return);break;case 1:mi(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){It(n,r,y)}}break;case 5:mi(h,h.return);break;case 22:if(h.memoizedState!==null){kw(f);continue}}v!==null?(v.return=h,ve=v):kw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=c1("display",i))}catch(y){It(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){It(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_n(t,e),Gn(e),n&4&&Nw(e);break;case 21:break;default:_n(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mj(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(kc(s,""),n.flags&=-33);var o=jw(e);Ng(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=jw(e);jg(e,l,i);break;default:throw Error(re(161))}}catch(c){It(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LA(e,t,r){ve=e,Fj(e)}function Fj(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var s=ve,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||xd;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||lr;l=xd;var u=lr;if(xd=i,(lr=c)&&!u)for(ve=s;ve!==null;)i=ve,c=i.child,i.tag===22&&i.memoizedState!==null?Cw(s):c!==null?(c.return=i,ve=c):Cw(s);for(;o!==null;)ve=o,Fj(o),o=o.sibling;ve=s,xd=l,lr=u}Sw(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ve=o):Sw(e)}}function Sw(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||kh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Sn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cw(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cw(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}lr||t.flags&512&&_g(t)}catch(h){It(t,t.return,h)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function kw(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function Cw(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kh(4,t)}catch(c){It(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){It(t,s,c)}}var o=t.return;try{_g(t)}catch(c){It(t,o,c)}break;case 5:var i=t.return;try{_g(t)}catch(c){It(t,i,c)}}}catch(c){It(t,t.return,c)}if(t===e){ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ve=l;break}ve=t.return}}var FA=Math.ceil,Ef=Ms.ReactCurrentDispatcher,xv=Ms.ReactCurrentOwner,yn=Ms.ReactCurrentBatchConfig,Qe=0,Jt=null,Ut=null,er=0,Yr=0,pi=Fa(0),Gt=0,Bc=null,wo=0,Ch=0,wv=0,pc=null,Or=null,bv=0,Zi=1/0,vs=null,Pf=!1,Sg=null,va=null,wd=!1,da=null,Tf=0,gc=0,kg=null,Hd=-1,Gd=0;function br(){return Qe&6?Lt():Hd!==-1?Hd:Hd=Lt()}function xa(e){return e.mode&1?Qe&2&&er!==0?er&-er:bA.transition!==null?(Gd===0&&(Gd=_1()),Gd):(e=lt,e!==0||(e=window.event,e=e===void 0?16:P1(e.type)),e):1}function Mn(e,t,r,n){if(50<gc)throw gc=0,kg=null,Error(re(185));bu(e,r,n),(!(Qe&2)||e!==Jt)&&(e===Jt&&(!(Qe&2)&&(Ch|=r),Gt===4&&Qs(e,er)),Ur(e,n),r===1&&Qe===0&&!(t.mode&1)&&(Zi=Lt()+500,jh&&$a()))}function Ur(e,t){var r=e.callbackNode;bR(e,t);var n=hf(e,e===Jt?er:0);if(n===0)r!==null&&D0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&D0(r),t===1)e.tag===0?wA(Ew.bind(null,e)):K1(Ew.bind(null,e)),gA(function(){!(Qe&6)&&$a()}),r=null;else{switch(j1(n)){case 1:r=Gy;break;case 4:r=w1;break;case 16:r=ff;break;case 536870912:r=b1;break;default:r=ff}r=Hj(r,$j.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $j(e,t){if(Hd=-1,Gd=0,Qe&6)throw Error(re(327));var r=e.callbackNode;if(Ni()&&e.callbackNode!==r)return null;var n=hf(e,e===Jt?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rf(e,n);else{t=n;var s=Qe;Qe|=2;var o=Bj();(Jt!==e||er!==t)&&(vs=null,Zi=Lt()+500,fo(e,t));do try{BA();break}catch(l){Uj(e,l)}while(!0);ov(),Ef.current=o,Qe=s,Ut!==null?t=0:(Jt=null,er=0,t=Gt)}if(t!==0){if(t===2&&(s=Xp(e),s!==0&&(n=s,t=Cg(e,s))),t===1)throw r=Bc,fo(e,0),Qs(e,n),Ur(e,Lt()),r;if(t===6)Qs(e,n);else{if(s=e.current.alternate,!(n&30)&&!$A(s)&&(t=Rf(e,n),t===2&&(o=Xp(e),o!==0&&(n=o,t=Cg(e,o))),t===1))throw r=Bc,fo(e,0),Qs(e,n),Ur(e,Lt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:Ya(e,Or,vs);break;case 3:if(Qs(e,n),(n&130023424)===n&&(t=bv+500-Lt(),10<t)){if(hf(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){br(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ig(Ya.bind(null,e,Or,vs),t);break}Ya(e,Or,vs);break;case 4:if(Qs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-In(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FA(n/1960))-n,10<n){e.timeoutHandle=ig(Ya.bind(null,e,Or,vs),n);break}Ya(e,Or,vs);break;case 5:Ya(e,Or,vs);break;default:throw Error(re(329))}}}return Ur(e,Lt()),e.callbackNode===r?$j.bind(null,e):null}function Cg(e,t){var r=pc;return e.current.memoizedState.isDehydrated&&(fo(e,t).flags|=256),e=Rf(e,t),e!==2&&(t=Or,Or=r,t!==null&&Eg(t)),e}function Eg(e){Or===null?Or=e:Or.push.apply(Or,e)}function $A(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Fn(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qs(e,t){for(t&=~wv,t&=~Ch,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-In(t),n=1<<r;e[r]=-1,t&=~n}}function Ew(e){if(Qe&6)throw Error(re(327));Ni();var t=hf(e,0);if(!(t&1))return Ur(e,Lt()),null;var r=Rf(e,t);if(e.tag!==0&&r===2){var n=Xp(e);n!==0&&(t=n,r=Cg(e,n))}if(r===1)throw r=Bc,fo(e,0),Qs(e,t),Ur(e,Lt()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ya(e,Or,vs),Ur(e,Lt()),null}function _v(e,t){var r=Qe;Qe|=1;try{return e(t)}finally{Qe=r,Qe===0&&(Zi=Lt()+500,jh&&$a())}}function bo(e){da!==null&&da.tag===0&&!(Qe&6)&&Ni();var t=Qe;Qe|=1;var r=yn.transition,n=lt;try{if(yn.transition=null,lt=1,e)return e()}finally{lt=n,yn.transition=r,Qe=t,!(Qe&6)&&$a()}}function jv(){Yr=pi.current,bt(pi)}function fo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pA(r)),Ut!==null)for(r=Ut.return;r!==null;){var n=r;switch(nv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vf();break;case 3:Qi(),bt(Fr),bt(ur),fv();break;case 5:dv(n);break;case 4:Qi();break;case 13:bt(kt);break;case 19:bt(kt);break;case 10:iv(n.type._context);break;case 22:case 23:jv()}r=r.return}if(Jt=e,Ut=e=wa(e.current,null),er=Yr=t,Gt=0,Bc=null,wv=Ch=wo=0,Or=pc=null,eo!==null){for(t=0;t<eo.length;t++)if(r=eo[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}eo=null}return e}function Uj(e,t){do{var r=Ut;try{if(ov(),Vd.current=Cf,kf){for(var n=Et.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kf=!1}if(xo=0,Qt=Vt=Et=null,hc=!1,Fc=0,xv.current=null,r===null||r.return===null){Gt=1,Bc=t,Ut=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=pw(i);if(v!==null){v.flags&=-257,gw(v,i,l,o,t),v.mode&1&&mw(o,u,t),t=v,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){mw(o,u,t),Nv();break e}c=Error(re(426))}}else if(_t&&l.mode&1){var x=pw(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gw(x,i,l,o,t),sv(Ji(c,l));break e}}o=c=Ji(c,l),Gt!==4&&(Gt=2),pc===null?pc=[o]:pc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=jj(o,c,t);lw(o,w);break e;case 1:l=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(va===null||!va.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=Nj(o,l,t);lw(o,j);break e}}o=o.return}while(o!==null)}Vj(r)}catch(S){t=S,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(!0)}function Bj(){var e=Ef.current;return Ef.current=Cf,e===null?Cf:e}function Nv(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Jt===null||!(wo&268435455)&&!(Ch&268435455)||Qs(Jt,er)}function Rf(e,t){var r=Qe;Qe|=2;var n=Bj();(Jt!==e||er!==t)&&(vs=null,fo(e,t));do try{UA();break}catch(s){Uj(e,s)}while(!0);if(ov(),Qe=r,Ef.current=n,Ut!==null)throw Error(re(261));return Jt=null,er=0,Gt}function UA(){for(;Ut!==null;)zj(Ut)}function BA(){for(;Ut!==null&&!fR();)zj(Ut)}function zj(e){var t=qj(e.alternate,e,Yr);e.memoizedProps=e.pendingProps,t===null?Vj(e):Ut=t,xv.current=null}function Vj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=IA(r,t),r!==null){r.flags&=32767,Ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Ut=null;return}}else if(r=OA(r,t,Yr),r!==null){Ut=r;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);Gt===0&&(Gt=5)}function Ya(e,t,r){var n=lt,s=yn.transition;try{yn.transition=null,lt=1,zA(e,t,r,n)}finally{yn.transition=s,lt=n}return null}function zA(e,t,r,n){do Ni();while(da!==null);if(Qe&6)throw Error(re(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(_R(e,o),e===Jt&&(Ut=Jt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wd||(wd=!0,Hj(ff,function(){return Ni(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=yn.transition,yn.transition=null;var i=lt;lt=1;var l=Qe;Qe|=4,xv.current=null,DA(e,r),Lj(r,e),lA(ag),mf=!!sg,ag=sg=null,e.current=r,LA(r),hR(),Qe=l,lt=i,yn.transition=o}else e.current=r;if(wd&&(wd=!1,da=e,Tf=s),o=e.pendingLanes,o===0&&(va=null),gR(r.stateNode),Ur(e,Lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Pf)throw Pf=!1,e=Sg,Sg=null,e;return Tf&1&&e.tag!==0&&Ni(),o=e.pendingLanes,o&1?e===kg?gc++:(gc=0,kg=e):gc=0,$a(),null}function Ni(){if(da!==null){var e=j1(Tf),t=yn.transition,r=lt;try{if(yn.transition=null,lt=16>e?16:e,da===null)var n=!1;else{if(e=da,da=null,Tf=0,Qe&6)throw Error(re(331));var s=Qe;for(Qe|=4,ve=e.current;ve!==null;){var o=ve,i=o.child;if(ve.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:mc(8,d,o)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,v=d.return;if(Ij(d),d===u){ve=null;break}if(h!==null){h.return=v,ve=h;break}ve=v}}}var p=o.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ve=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ve=i;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ve=w;break e}ve=o.return}}var g=e.current;for(ve=g;ve!==null;){i=ve;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,ve=b;else e:for(i=g;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kh(9,l)}}catch(S){It(l,l.return,S)}if(l===i){ve=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ve=j;break e}ve=l.return}}if(Qe=s,$a(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(vh,e)}catch{}n=!0}return n}finally{lt=r,yn.transition=t}}return!1}function Pw(e,t,r){t=Ji(r,t),t=jj(e,t,1),e=ya(e,t,1),t=br(),e!==null&&(bu(e,1,t),Ur(e,t))}function It(e,t,r){if(e.tag===3)Pw(e,e,r);else for(;t!==null;){if(t.tag===3){Pw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(va===null||!va.has(n))){e=Ji(r,e),e=Nj(t,e,1),t=ya(t,e,1),e=br(),t!==null&&(bu(t,1,e),Ur(t,e));break}}t=t.return}}function VA(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&r,Jt===e&&(er&r)===r&&(Gt===4||Gt===3&&(er&130023424)===er&&500>Lt()-bv?fo(e,0):wv|=r),Ur(e,t)}function Wj(e,t){t===0&&(e.mode&1?(t=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):t=1);var r=br();e=Ts(e,t),e!==null&&(bu(e,t,r),Ur(e,r))}function WA(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wj(e,r)}function qA(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),Wj(e,r)}var qj;qj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fr.current)Mr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mr=!1,AA(e,t,r);Mr=!!(e.flags&131072)}else Mr=!1,_t&&t.flags&1048576&&Y1(t,bf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qd(e,t),e=t.pendingProps;var s=Gi(t,ur.current);ji(t,r),s=mv(null,t,n,e,s,r);var o=pv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$r(n)?(o=!0,xf(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cv(t),s.updater=Sh,t.stateNode=s,s._reactInternals=t,mg(t,n,e,r),t=yg(null,t,n,!0,o,r)):(t.tag=0,_t&&o&&rv(t),yr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=GA(n),e=Sn(n,e),s){case 0:t=gg(null,t,n,e,r);break e;case 1:t=xw(null,t,n,e,r);break e;case 11:t=yw(null,t,n,e,r);break e;case 14:t=vw(null,t,n,Sn(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),gg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),xw(e,t,n,s,r);case 3:e:{if(Ej(t),e===null)throw Error(re(387));n=t.pendingProps,o=t.memoizedState,s=o.element,tj(e,t),Nf(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ji(Error(re(423)),t),t=ww(e,t,n,r,s);break e}else if(n!==s){s=Ji(Error(re(424)),t),t=ww(e,t,n,r,s);break e}else for(Jr=ga(t.stateNode.containerInfo.firstChild),Xr=t,_t=!0,Pn=null,r=X1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ki(),n===s){t=Rs(e,t,r);break e}yr(e,t,n,r)}t=t.child}return t;case 5:return rj(t),e===null&&dg(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,og(n,s)?i=null:o!==null&&og(n,o)&&(t.flags|=32),Cj(e,t),yr(e,t,i,r),t.child;case 6:return e===null&&dg(t),null;case 13:return Pj(e,t,r);case 4:return uv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yi(t,null,n,r):yr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),yw(e,t,n,s,r);case 7:return yr(e,t,t.pendingProps,r),t.child;case 8:return yr(e,t,t.pendingProps.children,r),t.child;case 12:return yr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,gt(_f,n._currentValue),n._currentValue=i,o!==null)if(Fn(o.value,i)){if(o.children===s.children&&!Fr.current){t=Rs(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=ks(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),fg(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(re(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),fg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}yr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ji(t,r),s=wn(s),n=n(s),t.flags|=1,yr(e,t,n,r),t.child;case 14:return n=t.type,s=Sn(n,t.pendingProps),s=Sn(n.type,s),vw(e,t,n,s,r);case 15:return Sj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Sn(n,s),qd(e,t),t.tag=1,$r(n)?(e=!0,xf(t)):e=!1,ji(t,r),_j(t,n,s),mg(t,n,s,r),yg(null,t,n,!0,e,r);case 19:return Tj(e,t,r);case 22:return kj(e,t,r)}throw Error(re(156,t.tag))};function Hj(e,t){return x1(e,t)}function HA(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,r,n){return new HA(e,t,r,n)}function Sv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GA(e){if(typeof e=="function")return Sv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wy)return 11;if(e===qy)return 14}return 2}function wa(e,t){var r=e.alternate;return r===null?(r=gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kd(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Sv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ai:return ho(r.children,s,o,t);case Vy:i=8,s|=8;break;case Fp:return e=gn(12,r,t,s|2),e.elementType=Fp,e.lanes=o,e;case $p:return e=gn(13,r,t,s),e.elementType=$p,e.lanes=o,e;case Up:return e=gn(19,r,t,s),e.elementType=Up,e.lanes=o,e;case r1:return Eh(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case e1:i=10;break e;case t1:i=9;break e;case Wy:i=11;break e;case qy:i=14;break e;case Hs:i=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=gn(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function ho(e,t,r,n){return e=gn(7,e,n,t),e.lanes=r,e}function Eh(e,t,r,n){return e=gn(22,e,n,t),e.elementType=r1,e.lanes=r,e.stateNode={isHidden:!1},e}function Xm(e,t,r){return e=gn(6,e,null,t),e.lanes=r,e}function ep(e,t,r){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KA(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kv(e,t,r,n,s,o,i,l,c){return e=new KA(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(o),e}function YA(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Gj(e){if(!e)return ka;e=e._reactInternals;e:{if(Fo(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if($r(r))return G1(e,r,t)}return t}function Kj(e,t,r,n,s,o,i,l,c){return e=kv(r,n,!0,e,s,o,i,l,c),e.context=Gj(null),r=e.current,n=br(),s=xa(r),o=ks(n,s),o.callback=t??null,ya(r,o,s),e.current.lanes=s,bu(e,s,n),Ur(e,n),e}function Ph(e,t,r,n){var s=t.current,o=br(),i=xa(s);return r=Gj(r),t.context===null?t.context=r:t.pendingContext=r,t=ks(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ya(s,t,i),e!==null&&(Mn(e,s,i,o),zd(e,s,i)),i}function Af(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cv(e,t){Tw(e,t),(e=e.alternate)&&Tw(e,t)}function QA(){return null}var Yj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ev(e){this._internalRoot=e}Th.prototype.render=Ev.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Ph(e,t,null,null)};Th.prototype.unmount=Ev.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bo(function(){Ph(null,e,null,null)}),t[Ps]=null}};function Th(e){this._internalRoot=e}Th.prototype.unstable_scheduleHydration=function(e){if(e){var t=k1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ys.length&&t!==0&&t<Ys[r].priority;r++);Ys.splice(r,0,e),r===0&&E1(e)}};function Pv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function JA(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Af(i);o.call(u)}}var i=Kj(t,n,e,0,null,!1,!1,"",Rw);return e._reactRootContainer=i,e[Ps]=i.current,Oc(e.nodeType===8?e.parentNode:e),bo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Af(c);l.call(u)}}var c=kv(e,0,!1,null,null,!1,!1,"",Rw);return e._reactRootContainer=c,e[Ps]=c.current,Oc(e.nodeType===8?e.parentNode:e),bo(function(){Ph(t,c,r,n)}),c}function Ah(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Af(i);l.call(c)}}Ph(t,i,e,s)}else i=JA(r,t,e,s,n);return Af(i)}N1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Kl(t.pendingLanes);r!==0&&(Ky(t,r|1),Ur(t,Lt()),!(Qe&6)&&(Zi=Lt()+500,$a()))}break;case 13:bo(function(){var n=Ts(e,1);if(n!==null){var s=br();Mn(n,e,1,s)}}),Cv(e,1)}};Yy=function(e){if(e.tag===13){var t=Ts(e,134217728);if(t!==null){var r=br();Mn(t,e,134217728,r)}Cv(e,134217728)}};S1=function(e){if(e.tag===13){var t=xa(e),r=Ts(e,t);if(r!==null){var n=br();Mn(r,e,t,n)}Cv(e,t)}};k1=function(){return lt};C1=function(e,t){var r=lt;try{return lt=e,t()}finally{lt=r}};Qp=function(e,t,r){switch(t){case"input":if(Vp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=_h(n);if(!s)throw Error(re(90));s1(n),Vp(n,s)}}}break;case"textarea":o1(e,r);break;case"select":t=r.value,t!=null&&xi(e,!!r.multiple,t,!1)}};h1=_v;m1=bo;var ZA={usingClientEntryPoint:!1,Events:[ju,ci,_h,d1,f1,_v]},Ll={findFiberByHostInstance:Xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XA={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=y1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||QA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{vh=bd.inject(XA),ss=bd}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZA;ln.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pv(t))throw Error(re(200));return YA(e,t,null,r)};ln.createRoot=function(e,t){if(!Pv(e))throw Error(re(299));var r=!1,n="",s=Yj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kv(e,1,!1,null,null,r,!1,n,s),e[Ps]=t.current,Oc(e.nodeType===8?e.parentNode:e),new Ev(t)};ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=y1(t),e=e===null?null:e.stateNode,e};ln.flushSync=function(e){return bo(e)};ln.hydrate=function(e,t,r){if(!Rh(t))throw Error(re(200));return Ah(null,e,t,!0,r)};ln.hydrateRoot=function(e,t,r){if(!Pv(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Yj;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Kj(t,null,e,1,r??null,s,!1,o,i),e[Ps]=t.current,Oc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Th(t)};ln.render=function(e,t,r){if(!Rh(t))throw Error(re(200));return Ah(null,e,t,!1,r)};ln.unmountComponentAtNode=function(e){if(!Rh(e))throw Error(re(40));return e._reactRootContainer?(bo(function(){Ah(null,null,e,!1,function(){e._reactRootContainer=null,e[Ps]=null})}),!0):!1};ln.unstable_batchedUpdates=_v;ln.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Rh(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Ah(e,t,r,!1,n)};ln.version="18.3.1-next-f1338f8080-20240426";function Qj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qj)}catch(e){console.error(e)}}Qj(),Q_.exports=ln;var $o=Q_.exports;const Jj=L_($o);var Zj,Aw=$o;Zj=Aw.createRoot,Aw.hydrateRoot;const e4=1,t4=1e6;let tp=0;function r4(){return tp=(tp+1)%Number.MAX_SAFE_INTEGER,tp.toString()}const rp=new Map,Ow=e=>{if(rp.has(e))return;const t=setTimeout(()=>{rp.delete(e),yc({type:"REMOVE_TOAST",toastId:e})},t4);rp.set(e,t)},n4=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,e4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Ow(r):e.toasts.forEach(n=>{Ow(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Yd=[];let Qd={toasts:[]};function yc(e){Qd=n4(Qd,e),Yd.forEach(t=>{t(Qd)})}function Xt({...e}){const t=r4(),r=s=>yc({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>yc({type:"DISMISS_TOAST",toastId:t});return yc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}Xt.success=e=>{const t=typeof e=="string"?{description:e}:e;return Xt({...t,variant:"default",title:t.title||"Success"})};Xt.error=e=>{const t=typeof e=="string"?{description:e}:e;return Xt({...t,variant:"destructive",title:t.title||"Error"})};Xt.warning=e=>{const t=typeof e=="string"?{description:e}:e;return Xt({...t,variant:"default",title:t.title||"Warning"})};Xt.info=e=>{const t=typeof e=="string"?{description:e}:e;return Xt({...t,variant:"default",title:t.title||"Info"})};function Wn(){const[e,t]=m.useState(Qd);return m.useEffect(()=>(Yd.push(t),()=>{const r=Yd.indexOf(t);r>-1&&Yd.splice(r,1)}),[e]),{...e,toast:Xt,dismiss:r=>yc({type:"DISMISS_TOAST",toastId:r})}}function ae(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function s4(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Oh(...e){return t=>e.forEach(r=>s4(r,t))}function Fe(...e){return m.useCallback(Oh(...e),e)}function a4(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:v,...p}=f,y=(h==null?void 0:h[e][c])||l,x=m.useMemo(()=>p,Object.values(p));return a.jsx(y.Provider,{value:x,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,p=m.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,o4(s,...t)]}function o4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var is=m.forwardRef((e,t)=>{const{children:r,...n}=e,s=m.Children.toArray(r),o=s.find(i4);if(o){const i=o.props.children,l=s.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return a.jsx(Pg,{...n,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return a.jsx(Pg,{...n,ref:t,children:r})});is.displayName="Slot";var Pg=m.forwardRef((e,t)=>{const{children:r,...n}=e;if(m.isValidElement(r)){const s=c4(r);return m.cloneElement(r,{...l4(n,r.props),ref:t?Oh(t,s):s})}return m.Children.count(r)>1?m.Children.only(null):null});Pg.displayName="SlotClone";var Tv=({children:e})=>a.jsx(a.Fragment,{children:e});function i4(e){return m.isValidElement(e)&&e.type===Tv}function l4(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function c4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Su(e){const t=e+"CollectionProvider",[r,n]=a4(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:p,children:y}=v,x=K.useRef(null),w=K.useRef(new Map).current;return a.jsx(s,{scope:p,itemMap:w,collectionRef:x,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=K.forwardRef((v,p)=>{const{scope:y,children:x}=v,w=o(l,y),g=Fe(p,w.collectionRef);return a.jsx(is,{ref:g,children:x})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=K.forwardRef((v,p)=>{const{scope:y,children:x,...w}=v,g=K.useRef(null),b=Fe(p,g),j=o(u,y);return K.useEffect(()=>(j.itemMap.set(g,{ref:g,...w}),()=>void j.itemMap.delete(g))),a.jsx(is,{[d]:"",ref:b,children:x})});f.displayName=u;function h(v){const p=o(e+"CollectionConsumer",v);return K.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(p.itemMap.values()).sort((j,S)=>w.indexOf(j.ref.current)-w.indexOf(S.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function u4(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function fr(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:h,children:v,...p}=f,y=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,x=m.useMemo(()=>p,Object.values(p));return a.jsx(y.Provider,{value:x,children:v})};u.displayName=o+"Provider";function d(f,h){var y;const v=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,p=m.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,d4(s,...t)]}function d4(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var f4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=f4.reduce((e,t)=>{const r=m.forwardRef((n,s)=>{const{asChild:o,...i}=n,l=o?is:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Rv(e,t){e&&$o.flushSync(()=>e.dispatchEvent(t))}function rr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function h4(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var m4="DismissableLayer",Tg="dismissableLayer.update",p4="dismissableLayer.pointerDownOutside",g4="dismissableLayer.focusOutside",Iw,Xj=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uo=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(Xj),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),p=Fe(t,_=>f(_)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(x),g=d?y.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=w,S=v4(_=>{const C=_.target,E=[...u.branches].some(T=>T.contains(C));!j||E||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),N=x4(_=>{const C=_.target;[...u.branches].some(T=>T.contains(C))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return h4(_=>{g===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Iw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Mw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Iw)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Mw())},[d,u]),m.useEffect(()=>{const _=()=>v({});return document.addEventListener(Tg,_),()=>document.removeEventListener(Tg,_)},[]),a.jsx(xe.div,{...c,ref:p,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,S.onPointerDownCapture)})});Uo.displayName=m4;var y4="DismissableLayerBranch",eN=m.forwardRef((e,t)=>{const r=m.useContext(Xj),n=m.useRef(null),s=Fe(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(xe.div,{...e,ref:s})});eN.displayName=y4;function v4(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){tN(p4,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function x4(e,t=globalThis==null?void 0:globalThis.document){const r=rr(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&tN(g4,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Mw(){const e=new CustomEvent(Tg);document.dispatchEvent(e)}function tN(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Rv(s,o):s.dispatchEvent(o)}var w4=Uo,b4=eN,Kt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},_4="Portal",gl=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);Kt(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?Jj.createPortal(a.jsx(xe.div,{...n,ref:t}),i):null});gl.displayName=_4;function j4(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var hr=e=>{const{present:t,children:r}=e,n=N4(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=Fe(n.ref,S4(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};hr.displayName="Presence";function N4(e){const[t,r]=m.useState(),n=m.useRef({}),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=j4(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=_d(n.current);o.current=l==="mounted"?u:"none"},[l]),Kt(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,v=_d(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Kt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=v=>{const y=_d(n.current).includes(v.animationName);if(v.target===t&&y&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=v=>{v.target===t&&(o.current=_d(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function _d(e){return(e==null?void 0:e.animationName)||"none"}function S4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zr({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=k4({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=rr(r),c=m.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[i,c]}function k4({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,s=m.useRef(n),o=rr(t);return m.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var C4="VisuallyHidden",ku=m.forwardRef((e,t)=>a.jsx(xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ku.displayName=C4;var E4=ku,Av="ToastProvider",[Ov,P4,T4]=Su("Toast"),[rN,FW]=fr("Toast",[T4]),[R4,Ih]=rN(Av),nN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Av}\`. Expected non-empty \`string\`.`),a.jsx(Ov.Provider,{scope:t,children:a.jsx(R4,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(v=>v+1),[]),onToastRemove:m.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};nN.displayName=Av;var sN="ToastViewport",A4=["F8"],Rg="toast.viewportPause",Ag="toast.viewportResume",aN=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=A4,label:s="Notifications ({hotkey})",...o}=e,i=Ih(sN,r),l=P4(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Fe(t,f,i.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=i.toastCount>0;m.useEffect(()=>{const x=w=>{var b;n.length!==0&&n.every(j=>w[j]||w.code===j)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),m.useEffect(()=>{const x=c.current,w=f.current;if(p&&x&&w){const g=()=>{if(!i.isClosePausedRef.current){const N=new CustomEvent(Rg);w.dispatchEvent(N),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const N=new CustomEvent(Ag);w.dispatchEvent(N),i.isClosePausedRef.current=!1}},j=N=>{!x.contains(N.relatedTarget)&&b()},S=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",g),x.addEventListener("focusout",j),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[p,i.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:x})=>{const g=l().map(b=>{const j=b.ref.current,S=[j,...q4(j)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const x=f.current;if(x){const w=g=>{var S,N,_;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const C=document.activeElement,E=g.shiftKey;if(g.target===x&&E){(S=u.current)==null||S.focus();return}const F=y({tabbingDirection:E?"backwards":"forwards"}),R=F.findIndex(A=>A===C);np(F.slice(R+1))?g.preventDefault():E?(N=u.current)==null||N.focus():(_=d.current)==null||_.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[l,y]),a.jsxs(b4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&a.jsx(Og,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});np(x)}}),a.jsx(Ov.Slot,{scope:r,children:a.jsx(xe.ol,{tabIndex:-1,...o,ref:h})}),p&&a.jsx(Og,{ref:d,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});np(x)}})]})});aN.displayName=sN;var oN="ToastFocusProxy",Og=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Ih(oN,r);return a.jsx(ku,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Og.displayName=oN;var Mh="Toast",O4="toast.swipeStart",I4="toast.swipeMove",M4="toast.swipeCancel",D4="toast.swipeEnd",iN=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l=!0,c]=zr({prop:n,defaultProp:s,onChange:o});return a.jsx(hr,{present:r||l,children:a.jsx($4,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:rr(e.onPause),onResume:rr(e.onResume),onSwipeStart:ae(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ae(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});iN.displayName=Mh;var[L4,F4]=rN(Mh,{onClose(){}}),$4=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:v,...p}=e,y=Ih(Mh,r),[x,w]=m.useState(null),g=Fe(t,A=>w(A)),b=m.useRef(null),j=m.useRef(null),S=s||y.duration,N=m.useRef(0),_=m.useRef(S),C=m.useRef(0),{onToastAdd:E,onToastRemove:T}=y,I=rr(()=>{var U;(x==null?void 0:x.contains(document.activeElement))&&((U=y.viewport)==null||U.focus()),i()}),F=m.useCallback(A=>{!A||A===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(I,A))},[I]);m.useEffect(()=>{const A=y.viewport;if(A){const U=()=>{F(_.current),u==null||u()},L=()=>{const M=new Date().getTime()-N.current;_.current=_.current-M,window.clearTimeout(C.current),c==null||c()};return A.addEventListener(Rg,L),A.addEventListener(Ag,U),()=>{A.removeEventListener(Rg,L),A.removeEventListener(Ag,U)}}},[y.viewport,S,c,u,F]),m.useEffect(()=>{o&&!y.isClosePausedRef.current&&F(S)},[o,S,y.isClosePausedRef,F]),m.useEffect(()=>(E(),()=>T()),[E,T]);const R=m.useMemo(()=>x?mN(x):null,[x]);return y.viewport?a.jsxs(a.Fragment,{children:[R&&a.jsx(U4,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),a.jsx(L4,{scope:r,onClose:I,children:$o.createPortal(a.jsx(Ov.ItemSlot,{scope:r,children:a.jsx(w4,{asChild:!0,onEscapeKeyDown:ae(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...p,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ae(e.onKeyDown,A=>{A.key==="Escape"&&(l==null||l(A.nativeEvent),A.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ae(e.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:ae(e.onPointerMove,A=>{if(!b.current)return;const U=A.clientX-b.current.x,L=A.clientY-b.current.y,M=!!j.current,k=["left","right"].includes(y.swipeDirection),P=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,W=k?P(0,U):0,V=k?0:P(0,L),Z=A.pointerType==="touch"?10:2,fe={x:W,y:V},le={originalEvent:A,delta:fe};M?(j.current=fe,jd(I4,f,le,{discrete:!1})):Dw(fe,y.swipeDirection,Z)?(j.current=fe,jd(O4,d,le,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(U)>Z||Math.abs(L)>Z)&&(b.current=null)}),onPointerUp:ae(e.onPointerUp,A=>{const U=j.current,L=A.target;if(L.hasPointerCapture(A.pointerId)&&L.releasePointerCapture(A.pointerId),j.current=null,b.current=null,U){const M=A.currentTarget,k={originalEvent:A,delta:U};Dw(U,y.swipeDirection,y.swipeThreshold)?jd(D4,v,k,{discrete:!0}):jd(M4,h,k,{discrete:!0}),M.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),U4=e=>{const{__scopeToast:t,children:r,...n}=e,s=Ih(Mh,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return V4(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(gl,{asChild:!0,children:a.jsx(ku,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},B4="ToastTitle",lN=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(xe.div,{...n,ref:t})});lN.displayName=B4;var z4="ToastDescription",cN=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(xe.div,{...n,ref:t})});cN.displayName=z4;var uN="ToastAction",dN=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(hN,{altText:r,asChild:!0,children:a.jsx(Iv,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${uN}\`. Expected non-empty \`string\`.`),null)});dN.displayName=uN;var fN="ToastClose",Iv=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=F4(fN,r);return a.jsx(hN,{asChild:!0,children:a.jsx(xe.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,s.onClose)})})});Iv.displayName=fN;var hN=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function mN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),W4(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...mN(n))}}),t}function jd(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Rv(s,o):s.dispatchEvent(o)}var Dw=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function V4(e=()=>{}){const t=rr(e);Kt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function W4(e){return e.nodeType===e.ELEMENT_NODE}function q4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function np(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var H4=nN,pN=aN,gN=iN,yN=lN,vN=cN,xN=dN,wN=Iv;function bN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=bN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _N(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=bN(e))&&(n&&(n+=" "),n+=t);return n}const Lw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Fw=_N,Dh=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Fw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const h=Lw(d)||Lw(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...v}=d;return Object.entries(v).every(p=>{let[y,x]=p;return Array.isArray(x)?x.includes({...o,...l}[y]):{...o,...l}[y]===x})?[...u,f,h]:u},[]);return Fw(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jN=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...K4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:jN("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(Y4,{ref:o,iconNode:t,className:jN(`lucide-${G4(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=be("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=be("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=be("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=be("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=be("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=be("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=be("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=be("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=be("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=be("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=be("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Bv="-",xO=e=>{const t=bO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Bv);return l[0]===""&&l.length!==1&&l.shift(),EN(l,t)||wO(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},EN=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?EN(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Bv);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Ww=/^\[(.+)\]$/,wO=e=>{if(Ww.test(e)){const t=Ww.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},bO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return jO(Object.entries(e.classGroups),r).forEach(([o,i])=>{Lg(i,n,o,t)}),n},Lg=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:qw(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(_O(s)){Lg(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Lg(i,qw(t,o),r,n)})})},qw=(e,t)=>{let r=e;return t.split(Bv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_O=e=>e.isThemeGetter,jO=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,NO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},PN="!",SO=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let w=l[x];if(u===0){if(w===s&&(n||l.slice(x,x+o)===t)){c.push(l.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),v=h.startsWith(PN),p=v?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:i}):i},kO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},CO=e=>({cache:NO(e.cacheSize),parseClassName:SO(e),...xO(e)}),EO=/\s+/,PO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(EO);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:v}=r(u);let p=!!v,y=n(p?h.substring(0,v):h);if(!y){if(!p){l=u+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=u+(l.length>0?" "+l:l);continue}p=!1}const x=kO(d).join(":"),w=f?x+PN:x,g=w+y;if(o.includes(g))continue;o.push(g);const b=s(y,p);for(let j=0;j<b.length;++j){const S=b[j];o.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function TO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=TN(t))&&(n&&(n+=" "),n+=r);return n}const TN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=TN(e[n]))&&(r&&(r+=" "),r+=t);return r};function RO(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=CO(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=PO(c,r);return s(c,d),d}return function(){return o(TO.apply(null,arguments))}}const xt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},RN=/^\[(?:([a-z-]+):)?(.+)\]$/i,AO=/^\d+\/\d+$/,OO=new Set(["px","full","screen"]),IO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hs=e=>ki(e)||OO.has(e)||AO.test(e),$s=e=>xl(e,"length",HO),ki=e=>!!e&&!Number.isNaN(Number(e)),ap=e=>xl(e,"number",ki),Fl=e=>!!e&&Number.isInteger(Number(e)),$O=e=>e.endsWith("%")&&ki(e.slice(0,-1)),De=e=>RN.test(e),Us=e=>IO.test(e),UO=new Set(["length","size","percentage"]),BO=e=>xl(e,UO,AN),zO=e=>xl(e,"position",AN),VO=new Set(["image","url"]),WO=e=>xl(e,VO,KO),qO=e=>xl(e,"",GO),$l=()=>!0,xl=(e,t,r)=>{const n=RN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},HO=e=>MO.test(e)&&!DO.test(e),AN=()=>!1,GO=e=>LO.test(e),KO=e=>FO.test(e),YO=()=>{const e=xt("colors"),t=xt("spacing"),r=xt("blur"),n=xt("brightness"),s=xt("borderColor"),o=xt("borderRadius"),i=xt("borderSpacing"),l=xt("borderWidth"),c=xt("contrast"),u=xt("grayscale"),d=xt("hueRotate"),f=xt("invert"),h=xt("gap"),v=xt("gradientColorStops"),p=xt("gradientColorStopPositions"),y=xt("inset"),x=xt("margin"),w=xt("opacity"),g=xt("padding"),b=xt("saturate"),j=xt("scale"),S=xt("sepia"),N=xt("skew"),_=xt("space"),C=xt("translate"),E=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",De,t],F=()=>[De,t],R=()=>["",hs,$s],A=()=>["auto",ki,De],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",De],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ki,De];return{cacheSize:500,separator:":",theme:{colors:[$l],spacing:[hs,$s],blur:["none","",Us,De],brightness:V(),borderColor:[e],borderRadius:["none","","full",Us,De],borderSpacing:F(),borderWidth:R(),contrast:V(),grayscale:P(),hueRotate:V(),invert:P(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[$O,$s],inset:I(),margin:I(),opacity:V(),padding:F(),saturate:V(),scale:V(),sepia:P(),skew:V(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Us]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),De]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,De]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Fl,De]}],"grid-cols":[{"grid-cols":[$l]}],"col-start-end":[{col:["auto",{span:["full",Fl,De]},De]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[$l]}],"row-start-end":[{row:["auto",{span:[Fl,De]},De]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,t]}],"min-w":[{"min-w":[De,t,"min","max","fit"]}],"max-w":[{"max-w":[De,t,"none","full","min","max","fit","prose",{screen:[Us]},Us]}],h:[{h:[De,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Us,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ap]}],"font-family":[{font:[$l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",ki,ap]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hs,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hs,$s]}],"underline-offset":[{"underline-offset":["auto",hs,De]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),zO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[hs,De]}],"outline-w":[{outline:[hs,$s]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[hs,$s]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Us,qO]}],"shadow-color":[{shadow:[$l]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Us,De]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Fl,De]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hs,$s,ap]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QO=RO(YO);function ee(...e){return QO(_N(e))}const JO=H4,ON=m.forwardRef(({className:e,...t},r)=>a.jsx(pN,{ref:r,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ON.displayName=pN.displayName;const ZO=Dh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IN=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(gN,{ref:n,className:ee(ZO({variant:t}),e),...r}));IN.displayName=gN.displayName;const XO=m.forwardRef(({className:e,...t},r)=>a.jsx(xN,{ref:r,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));XO.displayName=xN.displayName;const MN=m.forwardRef(({className:e,...t},r)=>a.jsx(wN,{ref:r,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Pu,{className:"h-4 w-4"})}));MN.displayName=wN.displayName;const DN=m.forwardRef(({className:e,...t},r)=>a.jsx(yN,{ref:r,className:ee("text-sm font-semibold",e),...t}));DN.displayName=yN.displayName;const LN=m.forwardRef(({className:e,...t},r)=>a.jsx(vN,{ref:r,className:ee("text-sm opacity-90",e),...t}));LN.displayName=vN.displayName;function eI(){const{toasts:e}=Wn();return a.jsxs(JO,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(IN,{...o,className:"bg-[#1a1a1a] border-gray-800 text-gray-100 shadow-lg",children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(DN,{children:r}),n&&a.jsx(LN,{className:"text-gray-400",children:n})]}),s,a.jsx(MN,{className:"text-gray-400 hover:text-white"})]},t)}),a.jsx(ON,{})]})}var Of=["light","dark"],zv="(prefers-color-scheme: dark)",tI=typeof window>"u",Vv=m.createContext(void 0),rI={setTheme:e=>{},themes:[]},nI=()=>{var e;return(e=m.useContext(Vv))!=null?e:rI},sI=e=>m.useContext(Vv)?e.children:m.createElement(oI,{...e}),aI=["light","dark"],oI=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:s="theme",themes:o=aI,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=m.useState(()=>Hw(s,i)),[v,p]=m.useState(()=>Hw(s)),y=c?Object.values(c):o,x=m.useCallback(j=>{let S=j;if(!S)return;j==="system"&&r&&(S=Gw());let N=c?c[S]:S,_=t?lI():null,C=document.documentElement;if(l==="class"?(C.classList.remove(...y),N&&C.classList.add(N)):N?C.setAttribute(l,N):C.removeAttribute(l),n){let E=Of.includes(i)?i:null,T=Of.includes(S)?S:E;C.style.colorScheme=T}_==null||_()},[]),w=m.useCallback(j=>{let S=typeof j=="function"?j(j):j;h(S);try{localStorage.setItem(s,S)}catch{}},[e]),g=m.useCallback(j=>{let S=Gw(j);p(S),f==="system"&&r&&!e&&x("system")},[f,e]);m.useEffect(()=>{let j=window.matchMedia(zv);return j.addListener(g),g(j),()=>j.removeListener(g)},[g]),m.useEffect(()=>{let j=S=>{if(S.key!==s)return;let N=S.newValue||i;w(N)};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[w]),m.useEffect(()=>{x(e??f)},[e,f]);let b=m.useMemo(()=>({theme:f,setTheme:w,forcedTheme:e,resolvedTheme:f==="system"?v:f,themes:r?[...o,"system"]:o,systemTheme:r?v:void 0}),[f,w,e,v,r,o]);return m.createElement(Vv.Provider,{value:b},m.createElement(iI,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:s,themes:o,defaultTheme:i,attribute:l,value:c,children:u,attrs:y,nonce:d}),u)},iI=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?Of.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,y=!1,x=!0)=>{let w=i?i[p]:p,g=y?p+"|| ''":`'${w}'`,b="";return s&&x&&!y&&Of.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),r==="class"?y||w?b+=`c.add(${g})`:b+="null":w&&(b+=`d[s](n,${g})`),b},v=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${zv}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})}),Hw=(e,t)=>{if(tI)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},lI=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Gw=e=>(e||(e=window.matchMedia(zv)),e.matches?"dark":"light"),cI=e=>{switch(e){case"success":return fI;case"info":return mI;case"warning":return hI;case"error":return pI;default:return null}},uI=Array(12).fill(0),dI=({visible:e})=>K.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},K.createElement("div",{className:"sonner-spinner"},uI.map((t,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fI=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hI=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mI=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pI=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gI=()=>{let[e,t]=K.useState(document.hidden);return K.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Fg=1,yI=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Fg++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(xI(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Fg++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Kr=new yI,vI=(e,t)=>{let r=(t==null?void 0:t.id)||Fg++;return Kr.addToast({title:e,...t,id:r}),r},xI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wI=vI,bI=()=>Kr.toasts,Y=Object.assign(wI,{success:Kr.success,info:Kr.info,warning:Kr.warning,error:Kr.error,custom:Kr.custom,message:Kr.message,promise:Kr.promise,dismiss:Kr.dismiss,loading:Kr.loading},{getHistory:bI});function _I(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}_I(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nd(e){return e.label!==void 0}var jI=3,NI="32px",SI=4e3,kI=356,CI=14,EI=20,PI=200;function TI(...e){return e.filter(Boolean).join(" ")}var RI=e=>{var t,r,n,s,o,i,l,c,u,d;let{invert:f,toast:h,unstyled:v,interacting:p,setHeights:y,visibleToasts:x,heights:w,index:g,toasts:b,expanded:j,removeToast:S,defaultRichColors:N,closeButton:_,style:C,cancelButtonStyle:E,actionButtonStyle:T,className:I="",descriptionClassName:F="",duration:R,position:A,gap:U,loadingIcon:L,expandByDefault:M,classNames:k,icons:P,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:V,cn:Z}=e,[fe,le]=K.useState(!1),[ke,ge]=K.useState(!1),[H,G]=K.useState(!1),[X,se]=K.useState(!1),[ie,Q]=K.useState(0),[je,Re]=K.useState(0),Ze=K.useRef(null),Je=K.useRef(null),mt=g===0,O=g+1<=x,$=h.type,q=h.dismissible!==!1,ue=h.className||"",oe=h.descriptionClassName||"",te=K.useMemo(()=>w.findIndex(Oe=>Oe.toastId===h.id)||0,[w,h.id]),_e=K.useMemo(()=>{var Oe;return(Oe=h.closeButton)!=null?Oe:_},[h.closeButton,_]),Ae=K.useMemo(()=>h.duration||R||SI,[h.duration,R]),ut=K.useRef(0),Xe=K.useRef(0),B=K.useRef(0),de=K.useRef(null),[ye,vt]=A.split("-"),Dt=K.useMemo(()=>w.reduce((Oe,dt,at)=>at>=te?Oe:Oe+dt.height,0),[w,te]),Tt=gI(),mr=h.invert||f,Hn=$==="loading";Xe.current=K.useMemo(()=>te*U+Dt,[te,Dt]),K.useEffect(()=>{le(!0)},[]),K.useLayoutEffect(()=>{if(!fe)return;let Oe=Je.current,dt=Oe.style.height;Oe.style.height="auto";let at=Oe.getBoundingClientRect().height;Oe.style.height=dt,Re(at),y(Vr=>Vr.find(Wr=>Wr.toastId===h.id)?Vr.map(Wr=>Wr.toastId===h.id?{...Wr,height:at}:Wr):[{toastId:h.id,height:at,position:h.position},...Vr])},[fe,h.title,h.description,y,h.id]);let Cr=K.useCallback(()=>{ge(!0),Q(Xe.current),y(Oe=>Oe.filter(dt=>dt.toastId!==h.id)),setTimeout(()=>{S(h)},PI)},[h,S,y,Xe]);K.useEffect(()=>{if(h.promise&&$==="loading"||h.duration===1/0||h.type==="loading")return;let Oe,dt=Ae;return j||p||V&&Tt?(()=>{if(B.current<ut.current){let at=new Date().getTime()-ut.current;dt=dt-at}B.current=new Date().getTime()})():dt!==1/0&&(ut.current=new Date().getTime(),Oe=setTimeout(()=>{var at;(at=h.onAutoClose)==null||at.call(h,h),Cr()},dt)),()=>clearTimeout(Oe)},[j,p,M,h,Ae,Cr,h.promise,$,V,Tt]),K.useEffect(()=>{let Oe=Je.current;if(Oe){let dt=Oe.getBoundingClientRect().height;return Re(dt),y(at=>[{toastId:h.id,height:dt,position:h.position},...at]),()=>y(at=>at.filter(Vr=>Vr.toastId!==h.id))}},[y,h.id]),K.useEffect(()=>{h.delete&&Cr()},[Cr,h.delete]);function Cm(){return P!=null&&P.loading?K.createElement("div",{className:"sonner-loader","data-visible":$==="loading"},P.loading):L?K.createElement("div",{className:"sonner-loader","data-visible":$==="loading"},L):K.createElement(dI,{visible:$==="loading"})}return K.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Je,className:Z(I,ue,k==null?void 0:k.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[$],(r=h==null?void 0:h.classNames)==null?void 0:r[$]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:N,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":fe,"data-promise":!!h.promise,"data-removed":ke,"data-visible":O,"data-y-position":ye,"data-x-position":vt,"data-index":g,"data-front":mt,"data-swiping":H,"data-dismissible":q,"data-type":$,"data-invert":mr,"data-swipe-out":X,"data-expanded":!!(j||M&&fe),style:{"--index":g,"--toasts-before":g,"--z-index":b.length-g,"--offset":`${ke?ie:Xe.current}px`,"--initial-height":M?"auto":`${je}px`,...C,...h.style},onPointerDown:Oe=>{Hn||!q||(Ze.current=new Date,Q(Xe.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(G(!0),de.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,dt,at,Vr;if(X||!q)return;de.current=null;let Wr=Number(((Oe=Je.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),qo=new Date().getTime()-((dt=Ze.current)==null?void 0:dt.getTime()),nd=Math.abs(Wr)/qo;if(Math.abs(Wr)>=EI||nd>.11){Q(Xe.current),(at=h.onDismiss)==null||at.call(h,h),Cr(),se(!0);return}(Vr=Je.current)==null||Vr.style.setProperty("--swipe-amount","0px"),G(!1)},onPointerMove:Oe=>{var dt;if(!de.current||!q)return;let at=Oe.clientY-de.current.y,Vr=Oe.clientX-de.current.x,Wr=(ye==="top"?Math.min:Math.max)(0,at),qo=Oe.pointerType==="touch"?10:2;Math.abs(Wr)>qo?(dt=Je.current)==null||dt.style.setProperty("--swipe-amount",`${at}px`):Math.abs(Vr)>qo&&(de.current=null)}},_e&&!h.jsx?K.createElement("button",{"aria-label":W,"data-disabled":Hn,"data-close-button":!0,onClick:Hn||!q?()=>{}:()=>{var Oe;Cr(),(Oe=h.onDismiss)==null||Oe.call(h,h)},className:Z(k==null?void 0:k.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||K.isValidElement(h.title)?h.jsx||h.title:K.createElement(K.Fragment,null,$||h.icon||h.promise?K.createElement("div",{"data-icon":"",className:Z(k==null?void 0:k.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Cm():null,h.type!=="loading"?h.icon||(P==null?void 0:P[$])||cI($):null):null,K.createElement("div",{"data-content":"",className:Z(k==null?void 0:k.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},K.createElement("div",{"data-title":"",className:Z(k==null?void 0:k.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?K.createElement("div",{"data-description":"",className:Z(F,oe,k==null?void 0:k.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),K.isValidElement(h.cancel)?h.cancel:h.cancel&&Nd(h.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:Oe=>{var dt,at;Nd(h.cancel)&&q&&((at=(dt=h.cancel).onClick)==null||at.call(dt,Oe),Cr())},className:Z(k==null?void 0:k.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,K.isValidElement(h.action)?h.action:h.action&&Nd(h.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:Oe=>{var dt,at;Nd(h.action)&&(Oe.defaultPrevented||((at=(dt=h.action).onClick)==null||at.call(dt,Oe),Cr()))},className:Z(k==null?void 0:k.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Kw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var AI=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=jI,toastOptions:v,dir:p=Kw(),gap:y=CI,loadingIcon:x,icons:w,containerAriaLabel:g="Notifications",pauseWhenPageIsHidden:b,cn:j=TI}=e,[S,N]=K.useState([]),_=K.useMemo(()=>Array.from(new Set([r].concat(S.filter(V=>V.position).map(V=>V.position)))),[S,r]),[C,E]=K.useState([]),[T,I]=K.useState(!1),[F,R]=K.useState(!1),[A,U]=K.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=K.useRef(null),M=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=K.useRef(null),P=K.useRef(!1),W=K.useCallback(V=>{var Z;(Z=S.find(fe=>fe.id===V.id))!=null&&Z.delete||Kr.dismiss(V.id),N(fe=>fe.filter(({id:le})=>le!==V.id))},[S]);return K.useEffect(()=>Kr.subscribe(V=>{if(V.dismiss){N(Z=>Z.map(fe=>fe.id===V.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{Jj.flushSync(()=>{N(Z=>{let fe=Z.findIndex(le=>le.id===V.id);return fe!==-1?[...Z.slice(0,fe),{...Z[fe],...V},...Z.slice(fe+1)]:[V,...Z]})})})}),[]),K.useEffect(()=>{if(c!=="system"){U(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{U(V?"dark":"light")})},[c]),K.useEffect(()=>{S.length<=1&&I(!1)},[S]),K.useEffect(()=>{let V=Z=>{var fe,le;n.every(ke=>Z[ke]||Z.code===ke)&&(I(!0),(fe=L.current)==null||fe.focus()),Z.code==="Escape"&&(document.activeElement===L.current||(le=L.current)!=null&&le.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[n]),K.useEffect(()=>{if(L.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,P.current=!1)}},[L.current]),S.length?K.createElement("section",{"aria-label":`${g} ${M}`,tabIndex:-1},_.map((V,Z)=>{var fe;let[le,ke]=V.split("-");return K.createElement("ol",{key:V,dir:p==="auto"?Kw():p,tabIndex:-1,ref:L,className:i,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":le,"data-x-position":ke,style:{"--front-toast-height":`${((fe=C[0])==null?void 0:fe.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||NI,"--width":`${kI}px`,"--gap":`${y}px`,...f},onBlur:ge=>{P.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(P.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||P.current||(P.current=!0,k.current=ge.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{F||I(!1)},onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},S.filter(ge=>!ge.position&&Z===0||ge.position===V).map((ge,H)=>{var G,X;return K.createElement(RI,{key:ge.id,icons:w,index:H,toast:ge,defaultRichColors:u,duration:(G=v==null?void 0:v.duration)!=null?G:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:t,visibleToasts:h,closeButton:(X=v==null?void 0:v.closeButton)!=null?X:o,interacting:F,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:W,toasts:S.filter(se=>se.position==ge.position),heights:C.filter(se=>se.position==ge.position),setHeights:E,expandByDefault:s,gap:y,loadingIcon:x,expanded:T,pauseWhenPageIsHidden:b,cn:j})}))})):null};const OI=({...e})=>(nI(),a.jsx(AI,{theme:"dark",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-[#1a1a1a] group-[.toaster]:text-gray-100 group-[.toaster]:border-gray-800 group-[.toaster]:shadow-lg group-[.toaster]:backdrop-blur-md",description:"group-[.toast]:text-gray-400",actionButton:"group-[.toast]:bg-gaming-primary group-[.toast]:text-white group-[.toast]:hover:bg-gaming-primary/90",cancelButton:"group-[.toast]:bg-[#2a2a2a] group-[.toast]:text-gray-300",success:"group-[.toast]:bg-gradient-to-r group-[.toast]:from-green-500/20 group-[.toast]:to-green-500/10 group-[.toast]:border-green-500/30",error:"group-[.toast]:bg-gradient-to-r group-[.toast]:from-red-500/20 group-[.toast]:to-red-500/10 group-[.toast]:border-red-500/30",info:"group-[.toast]:bg-gradient-to-r group-[.toast]:from-gaming-primary/20 group-[.toast]:to-gaming-secondary/10 group-[.toast]:border-gaming-primary/30",warning:"group-[.toast]:bg-gradient-to-r group-[.toast]:from-yellow-500/20 group-[.toast]:to-yellow-500/10 group-[.toast]:border-yellow-500/30"}},...e}));var II=K_.useId||(()=>{}),MI=0;function en(e){const[t,r]=m.useState(II());return Kt(()=>{e||r(n=>n??String(MI++))},[e]),e||(t?`radix-${t}`:"")}const DI=["top","right","bottom","left"],Ea=Math.min,Qr=Math.max,If=Math.round,Sd=Math.floor,Pa=e=>({x:e,y:e}),LI={left:"right",right:"left",bottom:"top",top:"bottom"},FI={start:"end",end:"start"};function $g(e,t,r){return Qr(e,Ea(t,r))}function As(e,t){return typeof e=="function"?e(t):e}function Os(e){return e.split("-")[0]}function wl(e){return e.split("-")[1]}function Wv(e){return e==="x"?"y":"x"}function qv(e){return e==="y"?"height":"width"}function Ta(e){return["top","bottom"].includes(Os(e))?"y":"x"}function Hv(e){return Wv(Ta(e))}function $I(e,t,r){r===void 0&&(r=!1);const n=wl(e),s=Hv(e),o=qv(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Mf(i)),[i,Mf(i)]}function UI(e){const t=Mf(e);return[Ug(e),t,Ug(t)]}function Ug(e){return e.replace(/start|end/g,t=>FI[t])}function BI(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function zI(e,t,r,n){const s=wl(e);let o=BI(Os(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Ug)))),o}function Mf(e){return e.replace(/left|right|bottom|top/g,t=>LI[t])}function VI(e){return{top:0,right:0,bottom:0,left:0,...e}}function FN(e){return typeof e!="number"?VI(e):{top:e,right:e,bottom:e,left:e}}function Df(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Yw(e,t,r){let{reference:n,floating:s}=e;const o=Ta(t),i=Hv(t),l=qv(i),c=Os(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let v;switch(c){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-s.width,y:f};break;default:v={x:n.x,y:n.y}}switch(wl(t)){case"start":v[i]-=h*(r&&u?-1:1);break;case"end":v[i]+=h*(r&&u?-1:1);break}return v}const WI=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Yw(u,n,c),h=n,v={},p=0;for(let y=0;y<l.length;y++){const{name:x,fn:w}=l[y],{x:g,y:b,data:j,reset:S}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:t}});d=g??d,f=b??f,v={...v,[x]:{...v[x],...j}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Yw(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:v}};async function zc(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:v=0}=As(t,e),p=FN(v),x=l[h?f==="floating"?"reference":"floating":f],w=Df(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Df(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(w.top-S.top+p.top)/j.y,bottom:(S.bottom-w.bottom+p.bottom)/j.y,left:(w.left-S.left+p.left)/j.x,right:(S.right-w.right+p.right)/j.x}}const qI=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=As(e,t)||{};if(u==null)return{};const f=FN(d),h={x:r,y:n},v=Hv(s),p=qv(v),y=await i.getDimensions(u),x=v==="y",w=x?"top":"left",g=x?"bottom":"right",b=x?"clientHeight":"clientWidth",j=o.reference[p]+o.reference[v]-h[v]-o.floating[p],S=h[v]-o.reference[v],N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=N?N[b]:0;(!_||!await(i.isElement==null?void 0:i.isElement(N)))&&(_=l.floating[b]||o.floating[p]);const C=j/2-S/2,E=_/2-y[p]/2-1,T=Ea(f[w],E),I=Ea(f[g],E),F=T,R=_-y[p]-I,A=_/2-y[p]/2+C,U=$g(F,A,R),L=!c.arrow&&wl(s)!=null&&A!==U&&o.reference[p]/2-(A<F?T:I)-y[p]/2<0,M=L?A<F?A-F:A-R:0;return{[v]:h[v]+M,data:{[v]:U,centerOffset:A-U-M,...L&&{alignmentOffset:M}},reset:L}}}),HI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:y=!0,...x}=As(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Os(s),g=Ta(l),b=Os(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(b||!y?[Mf(l)]:UI(l)),N=p!=="none";!h&&N&&S.push(...zI(l,y,p,j));const _=[l,...S],C=await zc(t,x),E=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&E.push(C[w]),f){const A=$I(s,i,j);E.push(C[A[0]],C[A[1]])}if(T=[...T,{placement:s,overflows:E}],!E.every(A=>A<=0)){var I,F;const A=(((I=o.flip)==null?void 0:I.index)||0)+1,U=_[A];if(U)return{data:{index:A,overflows:T},reset:{placement:U}};let L=(F=T.filter(M=>M.overflows[0]<=0).sort((M,k)=>M.overflows[1]-k.overflows[1])[0])==null?void 0:F.placement;if(!L)switch(v){case"bestFit":{var R;const M=(R=T.filter(k=>{if(N){const P=Ta(k.placement);return P===g||P==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(P=>P>0).reduce((P,W)=>P+W,0)]).sort((k,P)=>k[1]-P[1])[0])==null?void 0:R[0];M&&(L=M);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Qw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Jw(e){return DI.some(t=>e[t]>=0)}const GI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=As(e,t);switch(n){case"referenceHidden":{const o=await zc(t,{...s,elementContext:"reference"}),i=Qw(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Jw(i)}}}case"escaped":{const o=await zc(t,{...s,altBoundary:!0}),i=Qw(o,r.floating);return{data:{escapedOffsets:i,escaped:Jw(i)}}}default:return{}}}}};async function KI(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Os(r),l=wl(r),c=Ta(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=As(t,e);let{mainAxis:h,crossAxis:v,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(v=l==="end"?p*-1:p),c?{x:v*d,y:h*u}:{x:h*u,y:v*d}}const YI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await KI(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},QI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:w,y:g}=x;return{x:w,y:g}}},...c}=As(e,t),u={x:r,y:n},d=await zc(t,c),f=Ta(Os(s)),h=Wv(f);let v=u[h],p=u[f];if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",g=v+d[x],b=v-d[w];v=$g(g,v,b)}if(i){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",g=p+d[x],b=p-d[w];p=$g(g,p,b)}const y=l.fn({...t,[h]:v,[f]:p});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[h]:o,[f]:i}}}}}},JI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=As(e,t),d={x:r,y:n},f=Ta(s),h=Wv(f);let v=d[h],p=d[f];const y=As(l,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=h==="y"?"height":"width",j=o.reference[h]-o.floating[b]+x.mainAxis,S=o.reference[h]+o.reference[b]-x.mainAxis;v<j?v=j:v>S&&(v=S)}if(u){var w,g;const b=h==="y"?"width":"height",j=["top","left"].includes(Os(s)),S=o.reference[f]-o.floating[b]+(j&&((w=i.offset)==null?void 0:w[f])||0)+(j?0:x.crossAxis),N=o.reference[f]+o.reference[b]+(j?0:((g=i.offset)==null?void 0:g[f])||0)-(j?x.crossAxis:0);p<S?p=S:p>N&&(p=N)}return{[h]:v,[f]:p}}}},ZI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=As(e,t),d=await zc(t,u),f=Os(s),h=wl(s),v=Ta(s)==="y",{width:p,height:y}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,x=h==="end"?"top":"bottom");const g=y-d.top-d.bottom,b=p-d.left-d.right,j=Ea(y-d[x],g),S=Ea(p-d[w],b),N=!t.middlewareData.shift;let _=j,C=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=g),N&&!h){const T=Qr(d.left,0),I=Qr(d.right,0),F=Qr(d.top,0),R=Qr(d.bottom,0);v?C=p-2*(T!==0||I!==0?T+I:Qr(d.left,d.right)):_=y-2*(F!==0||R!==0?F+R:Qr(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:_});const E=await i.getDimensions(l.floating);return p!==E.width||y!==E.height?{reset:{rects:!0}}:{}}}};function Uh(){return typeof window<"u"}function bl(e){return $N(e)?(e.nodeName||"").toLowerCase():"#document"}function tn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=($N(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $N(e){return Uh()?e instanceof Node||e instanceof tn(e).Node:!1}function $n(e){return Uh()?e instanceof Element||e instanceof tn(e).Element:!1}function ls(e){return Uh()?e instanceof HTMLElement||e instanceof tn(e).HTMLElement:!1}function Zw(e){return!Uh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tn(e).ShadowRoot}function Tu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function XI(e){return["table","td","th"].includes(bl(e))}function Bh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Gv(e){const t=Kv(),r=$n(e)?Un(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function eM(e){let t=Ra(e);for(;ls(t)&&!tl(t);){if(Gv(t))return t;if(Bh(t))return null;t=Ra(t)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tl(e){return["html","body","#document"].includes(bl(e))}function Un(e){return tn(e).getComputedStyle(e)}function zh(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ra(e){if(bl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zw(e)&&e.host||fs(e);return Zw(t)?t.host:t}function UN(e){const t=Ra(e);return tl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ls(t)&&Tu(t)?t:UN(t)}function Vc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=UN(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=tn(s);if(o){const l=Bg(i);return t.concat(i,i.visualViewport||[],Tu(s)?s:[],l&&r?Vc(l):[])}return t.concat(s,Vc(s,[],r))}function Bg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BN(e){const t=Un(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ls(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=If(r)!==o||If(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Yv(e){return $n(e)?e:e.contextElement}function Ci(e){const t=Yv(e);if(!ls(t))return Pa(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=BN(t);let i=(o?If(r.width):r.width)/n,l=(o?If(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const tM=Pa(0);function zN(e){const t=tn(e);return!Kv()||!t.visualViewport?tM:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rM(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==tn(e)?!1:t}function jo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Yv(e);let i=Pa(1);t&&(n?$n(n)&&(i=Ci(n)):i=Ci(e));const l=rM(o,r,n)?zN(o):Pa(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=tn(o),v=n&&$n(n)?tn(n):n;let p=h,y=Bg(p);for(;y&&n&&v!==p;){const x=Ci(y),w=y.getBoundingClientRect(),g=Un(y),b=w.left+(y.clientLeft+parseFloat(g.paddingLeft))*x.x,j=w.top+(y.clientTop+parseFloat(g.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=j,p=tn(y),y=Bg(p)}}return Df({width:d,height:f,x:c,y:u})}function nM(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=fs(n),l=t?Bh(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Pa(1);const d=Pa(0),f=ls(n);if((f||!f&&!o)&&((bl(n)!=="body"||Tu(i))&&(c=zh(n)),ls(n))){const h=jo(n);u=Ci(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function sM(e){return Array.from(e.getClientRects())}function zg(e,t){const r=zh(e).scrollLeft;return t?t.left+r:jo(fs(e)).left+r}function aM(e){const t=fs(e),r=zh(e),n=e.ownerDocument.body,s=Qr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Qr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+zg(e);const l=-r.scrollTop;return Un(n).direction==="rtl"&&(i+=Qr(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function oM(e,t){const r=tn(e),n=fs(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Kv();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function iM(e,t){const r=jo(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=ls(e)?Ci(e):Pa(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Xw(e,t,r){let n;if(t==="viewport")n=oM(e,r);else if(t==="document")n=aM(fs(e));else if($n(t))n=iM(t,r);else{const s=zN(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Df(n)}function VN(e,t){const r=Ra(e);return r===t||!$n(r)||tl(r)?!1:Un(r).position==="fixed"||VN(r,t)}function lM(e,t){const r=t.get(e);if(r)return r;let n=Vc(e,[],!1).filter(l=>$n(l)&&bl(l)!=="body"),s=null;const o=Un(e).position==="fixed";let i=o?Ra(e):e;for(;$n(i)&&!tl(i);){const l=Un(i),c=Gv(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Tu(i)&&!c&&VN(e,i))?n=n.filter(d=>d!==i):s=l,i=Ra(i)}return t.set(e,n),n}function cM(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Bh(t)?[]:lM(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=Xw(t,d,s);return u.top=Qr(f.top,u.top),u.right=Ea(f.right,u.right),u.bottom=Ea(f.bottom,u.bottom),u.left=Qr(f.left,u.left),u},Xw(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function uM(e){const{width:t,height:r}=BN(e);return{width:t,height:r}}function dM(e,t,r){const n=ls(t),s=fs(t),o=r==="fixed",i=jo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Pa(0);if(n||!n&&!o)if((bl(t)!=="body"||Tu(s))&&(l=zh(t)),n){const v=jo(t,!0,o,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&(c.x=zg(s));let u=0,d=0;if(s&&!n&&!o){const v=s.getBoundingClientRect();d=v.top+l.scrollTop,u=v.left+l.scrollLeft-zg(s,v)}const f=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function op(e){return Un(e).position==="static"}function eb(e,t){if(!ls(e)||Un(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fs(e)===r&&(r=r.ownerDocument.body),r}function WN(e,t){const r=tn(e);if(Bh(e))return r;if(!ls(e)){let s=Ra(e);for(;s&&!tl(s);){if($n(s)&&!op(s))return s;s=Ra(s)}return r}let n=eb(e,t);for(;n&&XI(n)&&op(n);)n=eb(n,t);return n&&tl(n)&&op(n)&&!Gv(n)?r:n||eM(e)||r}const fM=async function(e){const t=this.getOffsetParent||WN,r=this.getDimensions,n=await r(e.floating);return{reference:dM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function hM(e){return Un(e).direction==="rtl"}const mM={convertOffsetParentRelativeRectToViewportRelativeRect:nM,getDocumentElement:fs,getClippingRect:cM,getOffsetParent:WN,getElementRects:fM,getClientRects:sM,getDimensions:uM,getScale:Ci,isElement:$n,isRTL:hM};function pM(e,t){let r=null,n;const s=fs(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const v=Sd(d),p=Sd(s.clientWidth-(u+f)),y=Sd(s.clientHeight-(d+h)),x=Sd(u),g={rootMargin:-v+"px "+-p+"px "+-y+"px "+-x+"px",threshold:Qr(0,Ea(1,c))||1};let b=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!b)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(j,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,g)}r.observe(e)}return i(!0),o}function gM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Yv(e),d=s||o?[...u?Vc(u):[],...Vc(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=u&&l?pM(u,r):null;let h=-1,v=null;i&&(v=new ResizeObserver(w=>{let[g]=w;g&&g.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let p,y=c?jo(e):null;c&&x();function x(){const w=jo(e);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&r(),y=w,p=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(p)}}const yM=YI,vM=QI,xM=HI,wM=ZI,bM=GI,tb=qI,_M=JI,jM=(e,t,r)=>{const n=new Map,s={platform:mM,...r},o={...s.platform,_c:n};return WI(e,t,{...s,platform:o})};var Zd=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Lf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Lf(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Lf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function qN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rb(e,t){const r=qN(e);return Math.round(t*r)/r}function ip(e){const t=m.useRef(e);return Zd(()=>{t.current=e}),t}function NM(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,v]=m.useState(n);Lf(h,n)||v(n);const[p,y]=m.useState(null),[x,w]=m.useState(null),g=m.useCallback(k=>{k!==N.current&&(N.current=k,y(k))},[]),b=m.useCallback(k=>{k!==_.current&&(_.current=k,w(k))},[]),j=o||p,S=i||x,N=m.useRef(null),_=m.useRef(null),C=m.useRef(d),E=c!=null,T=ip(c),I=ip(s),F=ip(u),R=m.useCallback(()=>{if(!N.current||!_.current)return;const k={placement:t,strategy:r,middleware:h};I.current&&(k.platform=I.current),jM(N.current,_.current,k).then(P=>{const W={...P,isPositioned:F.current!==!1};A.current&&!Lf(C.current,W)&&(C.current=W,$o.flushSync(()=>{f(W)}))})},[h,t,r,I,F]);Zd(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const A=m.useRef(!1);Zd(()=>(A.current=!0,()=>{A.current=!1}),[]),Zd(()=>{if(j&&(N.current=j),S&&(_.current=S),j&&S){if(T.current)return T.current(j,S,R);R()}},[j,S,R,T,E]);const U=m.useMemo(()=>({reference:N,floating:_,setReference:g,setFloating:b}),[g,b]),L=m.useMemo(()=>({reference:j,floating:S}),[j,S]),M=m.useMemo(()=>{const k={position:r,left:0,top:0};if(!L.floating)return k;const P=rb(L.floating,d.x),W=rb(L.floating,d.y);return l?{...k,transform:"translate("+P+"px, "+W+"px)",...qN(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:W}},[r,l,L.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:R,refs:U,elements:L,floatingStyles:M}),[d,R,U,L,M])}const SM=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?tb({element:n.current,padding:s}).fn(r):{}:n?tb({element:n,padding:s}).fn(r):{}}}},kM=(e,t)=>({...yM(e),options:[e,t]}),CM=(e,t)=>({...vM(e),options:[e,t]}),EM=(e,t)=>({..._M(e),options:[e,t]}),PM=(e,t)=>({...xM(e),options:[e,t]}),TM=(e,t)=>({...wM(e),options:[e,t]}),RM=(e,t)=>({...bM(e),options:[e,t]}),AM=(e,t)=>({...SM(e),options:[e,t]});var OM="Arrow",HN=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(xe.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});HN.displayName=OM;var IM=HN;function MM(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:v,...p}=f,y=(h==null?void 0:h[e][c])||l,x=m.useMemo(()=>p,Object.values(p));return a.jsx(y.Provider,{value:x,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,p=m.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,DM(s,...t)]}function DM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Vh(e){const[t,r]=m.useState(void 0);return Kt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Qv="Popper",[GN,Ua]=MM(Qv),[LM,KN]=GN(Qv),YN=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(LM,{scope:t,anchor:n,onAnchorChange:s,children:r})};YN.displayName=Qv;var QN="PopperAnchor",JN=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=KN(QN,r),i=m.useRef(null),l=Fe(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(xe.div,{...s,ref:l})});JN.displayName=QN;var Jv="PopperContent",[FM,$M]=GN(Jv),ZN=m.forwardRef((e,t)=>{var H,G,X,se,ie,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:v="optimized",onPlaced:p,...y}=e,x=KN(Jv,r),[w,g]=m.useState(null),b=Fe(t,je=>g(je)),[j,S]=m.useState(null),N=Vh(j),_=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,E=n+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],F=I.length>0,R={padding:T,boundary:I.filter(BM),altBoundary:F},{refs:A,floatingStyles:U,placement:L,isPositioned:M,middlewareData:k}=NM({strategy:"fixed",placement:E,whileElementsMounted:(...je)=>gM(...je,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[kM({mainAxis:s+C,alignmentAxis:i}),c&&CM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?EM():void 0,...R}),c&&PM({...R}),TM({...R,apply:({elements:je,rects:Re,availableWidth:Ze,availableHeight:Je})=>{const{width:mt,height:O}=Re.reference,$=je.floating.style;$.setProperty("--radix-popper-available-width",`${Ze}px`),$.setProperty("--radix-popper-available-height",`${Je}px`),$.setProperty("--radix-popper-anchor-width",`${mt}px`),$.setProperty("--radix-popper-anchor-height",`${O}px`)}}),j&&AM({element:j,padding:l}),zM({arrowWidth:_,arrowHeight:C}),h&&RM({strategy:"referenceHidden",...R})]}),[P,W]=t2(L),V=rr(p);Kt(()=>{M&&(V==null||V())},[M,V]);const Z=(H=k.arrow)==null?void 0:H.x,fe=(G=k.arrow)==null?void 0:G.y,le=((X=k.arrow)==null?void 0:X.centerOffset)!==0,[ke,ge]=m.useState();return Kt(()=>{w&&ge(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:M?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(se=k.transformOrigin)==null?void 0:se.x,(ie=k.transformOrigin)==null?void 0:ie.y].join(" "),...((Q=k.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(FM,{scope:r,placedSide:P,onArrowChange:S,arrowX:Z,arrowY:fe,shouldHideArrow:le,children:a.jsx(xe.div,{"data-side":P,"data-align":W,...y,ref:b,style:{...y.style,animation:M?void 0:"none"}})})})});ZN.displayName=Jv;var XN="PopperArrow",UM={top:"bottom",right:"left",bottom:"top",left:"right"},e2=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=$M(XN,n),i=UM[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(IM,{...s,ref:r,style:{...s.style,display:"block"}})})});e2.displayName=XN;function BM(e){return e!==null}var zM=e=>({name:"transformOrigin",options:e,fn(t){var x,w,g;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=t2(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,v=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let p="",y="";return u==="bottom"?(p=i?f:`${h}px`,y=`${-c}px`):u==="top"?(p=i?f:`${h}px`,y=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,y=i?f:`${v}px`):u==="left"&&(p=`${n.floating.width+c}px`,y=i?f:`${v}px`),{data:{x:p,y}}}});function t2(e){const[t,r="center"]=e.split("-");return[t,r]}var Zv=YN,Ru=JN,Wh=ZN,qh=e2,[Hh,$W]=fr("Tooltip",[Ua]),Xv=Ua(),r2="TooltipProvider",VM=700,nb="tooltip.open",[WM,n2]=Hh(r2),s2=e=>{const{__scopeTooltip:t,delayDuration:r=VM,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx(WM,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};s2.displayName=r2;var a2="Tooltip",[UW,Gh]=Hh(a2),Vg="TooltipTrigger",qM=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Gh(Vg,r),o=n2(Vg,r),i=Xv(r),l=m.useRef(null),c=Fe(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Ru,{asChild:!0,...i,children:a.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:ae(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ae(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ae(e.onBlur,s.onClose),onClick:ae(e.onClick,s.onClose)})})});qM.displayName=Vg;var HM="TooltipPortal",[BW,GM]=Hh(HM,{forceMount:void 0}),rl="TooltipContent",o2=m.forwardRef((e,t)=>{const r=GM(rl,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Gh(rl,e.__scopeTooltip);return a.jsx(hr,{present:n||i.open,children:i.disableHoverableContent?a.jsx(i2,{side:s,...o,ref:t}):a.jsx(KM,{side:s,...o,ref:t})})}),KM=m.forwardRef((e,t)=>{const r=Gh(rl,e.__scopeTooltip),n=n2(rl,e.__scopeTooltip),s=m.useRef(null),o=Fe(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),v=m.useCallback((p,y)=>{const x=p.currentTarget,w={x:p.clientX,y:p.clientY},g=ZM(w,x.getBoundingClientRect()),b=XM(w,g),j=e3(y.getBoundingClientRect()),S=r3([...b,...j]);l(S),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const p=x=>v(x,d),y=x=>v(x,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",y)}}},[c,d,v,h]),m.useEffect(()=>{if(i){const p=y=>{const x=y.target,w={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!t3(w,i);g?h():b&&(h(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,i,u,h]),a.jsx(i2,{...e,ref:o})}),[YM,QM]=Hh(a2,{isInside:!1}),i2=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Gh(rl,r),u=Xv(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(nb,d),()=>document.removeEventListener(nb,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const v=h.target;v!=null&&v.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Uo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(Wh,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Tv,{children:n}),a.jsx(YM,{scope:r,isInside:!0,children:a.jsx(E4,{id:c.contentId,role:"tooltip",children:s||n})})]})})});o2.displayName=rl;var l2="TooltipArrow",JM=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Xv(r);return QM(l2,r).isInside?null:a.jsx(qh,{...s,...n,ref:t})});JM.displayName=l2;function ZM(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function XM(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function e3(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function t3(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function r3(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),n3(t)}function n3(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var s3=s2,c2=o2;const a3=s3,o3=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(c2,{ref:n,sideOffset:t,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));o3.displayName=c2.displayName;var _l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},No=typeof window>"u"||"Deno"in globalThis;function dn(){}function i3(e,t){return typeof e=="function"?e(t):e}function Wg(e){return typeof e=="number"&&e>=0&&e!==1/0}function u2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ei(e,t){return typeof e=="function"?e(t):e}function Tn(e,t){return typeof e=="function"?e(t):e}function sb(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==ex(i,t.options))return!1}else if(!Wc(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function ab(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(So(t.options.mutationKey)!==So(o))return!1}else if(!Wc(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ex(e,t){return((t==null?void 0:t.queryKeyHashFn)||So)(e)}function So(e){return JSON.stringify(e,(t,r)=>qg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Wc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Wc(e[r],t[r])):!1}function d2(e,t){if(e===t)return e;const r=ob(e)&&ob(t);if(r||qg(e)&&qg(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:o[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=d2(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function Ff(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ob(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qg(e){if(!ib(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ib(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ib(e){return Object.prototype.toString.call(e)==="[object Object]"}function l3(e){return new Promise(t=>{setTimeout(t,e)})}function Hg(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?d2(e,t):t}function c3(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function u3(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var tx=Symbol();function f2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var so,ta,Oi,C_,d3=(C_=class extends _l{constructor(){super();Ce(this,so);Ce(this,ta);Ce(this,Oi);me(this,Oi,t=>{if(!No&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){D(this,ta)||this.setEventListener(D(this,Oi))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,ta))==null||t.call(this),me(this,ta,void 0))}setEventListener(t){var r;me(this,Oi,t),(r=D(this,ta))==null||r.call(this),me(this,ta,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){D(this,so)!==t&&(me(this,so,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof D(this,so)=="boolean"?D(this,so):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},so=new WeakMap,ta=new WeakMap,Oi=new WeakMap,C_),rx=new d3,Ii,ra,Mi,E_,f3=(E_=class extends _l{constructor(){super();Ce(this,Ii,!0);Ce(this,ra);Ce(this,Mi);me(this,Mi,t=>{if(!No&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){D(this,ra)||this.setEventListener(D(this,Mi))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,ra))==null||t.call(this),me(this,ra,void 0))}setEventListener(t){var r;me(this,Mi,t),(r=D(this,ra))==null||r.call(this),me(this,ra,t(this.setOnline.bind(this)))}setOnline(t){D(this,Ii)!==t&&(me(this,Ii,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return D(this,Ii)}},Ii=new WeakMap,ra=new WeakMap,Mi=new WeakMap,E_),$f=new f3;function Gg(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function h3(e){return Math.min(1e3*2**e,3e4)}function h2(e){return(e??"online")==="online"?$f.isOnline():!0}var m2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lp(e){return e instanceof m2}function p2(e){let t=!1,r=0,n=!1,s;const o=Gg(),i=y=>{var x;n||(h(new m2(y)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>rx.isFocused()&&(e.networkMode==="always"||$f.isOnline())&&e.canRun(),d=()=>h2(e.networkMode)&&e.canRun(),f=y=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,y),s==null||s(),o.resolve(y))},h=y=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,y),s==null||s(),o.reject(y))},v=()=>new Promise(y=>{var x;s=w=>{(n||u())&&y(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),p=()=>{if(n)return;let y;const x=r===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var N;if(n)return;const g=e.retry??(No?0:3),b=e.retryDelay??h3,j=typeof b=="function"?b(r,w):b,S=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,w);if(t||!S){h(w);return}r++,(N=e.onFail)==null||N.call(e,r,w),l3(j).then(()=>u()?void 0:v()).then(()=>{t?h(w):p()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():v().then(p),o)}}function m3(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Wt=m3(),ao,P_,g2=(P_=class{constructor(){Ce(this,ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wg(this.gcTime)&&me(this,ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(No?1/0:5*60*1e3))}clearGcTimeout(){D(this,ao)&&(clearTimeout(D(this,ao)),me(this,ao,void 0))}},ao=new WeakMap,P_),Di,Li,un,ir,gu,oo,kn,gs,T_,p3=(T_=class extends g2{constructor(t){super();Ce(this,kn);Ce(this,Di);Ce(this,Li);Ce(this,un);Ce(this,ir);Ce(this,gu);Ce(this,oo);me(this,oo,!1),me(this,gu,t.defaultOptions),this.setOptions(t.options),this.observers=[],me(this,un,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,me(this,Di,g3(this.options)),this.state=t.state??D(this,Di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,ir))==null?void 0:t.promise}setOptions(t){this.options={...D(this,gu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,un).remove(this)}setData(t,r){const n=Hg(this.state.data,t,this.options);return $e(this,kn,gs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){$e(this,kn,gs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=D(this,ir))==null?void 0:n.promise;return(s=D(this,ir))==null||s.cancel(t),r?r.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Di))}isActive(){return this.observers.some(t=>Tn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!u2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,ir))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=D(this,ir))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,un).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(D(this,ir)&&(D(this,oo)?D(this,ir).cancel({revert:!0}):D(this,ir).cancelRetry()),this.scheduleGc()),D(this,un).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,kn,gs).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(D(this,ir))return D(this,ir).continueRetry(),D(this,ir).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(me(this,oo,!0),n.signal)})},o=()=>{const f=f2(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),me(this,oo,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),me(this,Li,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&$e(this,kn,gs).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,v,p,y;lp(f)&&f.silent||$e(this,kn,gs).call(this,{type:"error",error:f}),lp(f)||((v=(h=D(this,un).config).onError)==null||v.call(h,f,this),(y=(p=D(this,un).config).onSettled)==null||y.call(p,this.state.data,f,this)),this.scheduleGc()};return me(this,ir,p2({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,v,p,y;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(v=(h=D(this,un).config).onSuccess)==null||v.call(h,f,this),(y=(p=D(this,un).config).onSettled)==null||y.call(p,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{$e(this,kn,gs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{$e(this,kn,gs).call(this,{type:"pause"})},onContinue:()=>{$e(this,kn,gs).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),D(this,ir).start()}},Di=new WeakMap,Li=new WeakMap,un=new WeakMap,ir=new WeakMap,gu=new WeakMap,oo=new WeakMap,kn=new WeakSet,gs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...y2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return lp(s)&&s.revert&&D(this,Li)?{...D(this,Li),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Wt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),D(this,un).notify({query:this,type:"updated",action:t})})},T_);function y2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:h2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function g3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qn,R_,y3=(R_=class extends _l{constructor(t={}){super();Ce(this,Qn);this.config=t,me(this,Qn,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??ex(s,r);let i=this.get(o);return i||(i=new p3({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){D(this,Qn).has(t.queryHash)||(D(this,Qn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=D(this,Qn).get(t.queryHash);r&&(t.destroy(),r===t&&D(this,Qn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,Qn).get(t)}getAll(){return[...D(this,Qn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>sb(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>sb(t,n)):r}notify(t){Wt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qn=new WeakMap,R_),Jn,pr,io,Zn,zs,A_,v3=(A_=class extends g2{constructor(t){super();Ce(this,Zn);Ce(this,Jn);Ce(this,pr);Ce(this,io);this.mutationId=t.mutationId,me(this,pr,t.mutationCache),me(this,Jn,[]),this.state=t.state||v2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Jn).includes(t)||(D(this,Jn).push(t),this.clearGcTimeout(),D(this,pr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){me(this,Jn,D(this,Jn).filter(r=>r!==t)),this.scheduleGc(),D(this,pr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():D(this,pr).remove(this))}continue(){var t;return((t=D(this,io))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,l,c,u,d,f,h,v,p,y,x,w,g,b,j,S,N,_;me(this,io,p2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{$e(this,Zn,zs).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{$e(this,Zn,zs).call(this,{type:"pause"})},onContinue:()=>{$e(this,Zn,zs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,pr).canRun(this)}));const r=this.state.status==="pending",n=!D(this,io).canStart();try{if(!r){$e(this,Zn,zs).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=D(this,pr).config).onMutate)==null?void 0:o.call(s,t,this));const E=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));E!==this.state.context&&$e(this,Zn,zs).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const C=await D(this,io).start();return await((u=(c=D(this,pr).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context)),await((v=(h=D(this,pr).config).onSettled)==null?void 0:v.call(h,C,null,this.state.variables,this.state.context,this)),await((y=(p=this.options).onSettled)==null?void 0:y.call(p,C,null,t,this.state.context)),$e(this,Zn,zs).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(x=D(this,pr).config).onError)==null?void 0:w.call(x,C,t,this.state.context,this)),await((b=(g=this.options).onError)==null?void 0:b.call(g,C,t,this.state.context)),await((S=(j=D(this,pr).config).onSettled)==null?void 0:S.call(j,void 0,C,this.state.variables,this.state.context,this)),await((_=(N=this.options).onSettled)==null?void 0:_.call(N,void 0,C,t,this.state.context)),C}finally{$e(this,Zn,zs).call(this,{type:"error",error:C})}}finally{D(this,pr).runNext(this)}}},Jn=new WeakMap,pr=new WeakMap,io=new WeakMap,Zn=new WeakSet,zs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wt.batch(()=>{D(this,Jn).forEach(n=>{n.onMutationUpdate(t)}),D(this,pr).notify({mutation:this,type:"updated",action:t})})},A_);function v2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gr,yu,O_,x3=(O_=class extends _l{constructor(t={}){super();Ce(this,Gr);Ce(this,yu);this.config=t,me(this,Gr,new Map),me(this,yu,Date.now())}build(t,r,n){const s=new v3({mutationCache:this,mutationId:++sd(this,yu)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=kd(t),n=D(this,Gr).get(r)??[];n.push(t),D(this,Gr).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=kd(t);if(D(this,Gr).has(r)){const s=(n=D(this,Gr).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?D(this,Gr).delete(r):D(this,Gr).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=D(this,Gr).get(kd(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=D(this,Gr).get(kd(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Wt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...D(this,Gr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ab(r,n))}findAll(t={}){return this.getAll().filter(r=>ab(t,r))}notify(t){Wt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Wt.batch(()=>Promise.all(t.map(r=>r.continue().catch(dn))))}},Gr=new WeakMap,yu=new WeakMap,O_);function kd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function lb(e){return{onFetch:(t,r)=>{var d,f,h,v,p;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],i=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},w=f2(t.options,t.fetchOptions),g=async(b,j,S)=>{if(y)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const N={queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};x(N);const _=await w(N),{maxPages:C}=t.options,E=S?u3:c3;return{pages:E(b.pages,_,C),pageParams:E(b.pageParams,j,C)}};if(s&&o.length){const b=s==="backward",j=b?w3:cb,S={pages:o,pageParams:i},N=j(n,S);l=await g(S,N,b)}else{const b=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:cb(n,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function cb(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function w3(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var At,na,sa,Fi,$i,aa,Ui,Bi,I_,b3=(I_=class{constructor(e={}){Ce(this,At);Ce(this,na);Ce(this,sa);Ce(this,Fi);Ce(this,$i);Ce(this,aa);Ce(this,Ui);Ce(this,Bi);me(this,At,e.queryCache||new y3),me(this,na,e.mutationCache||new x3),me(this,sa,e.defaultOptions||{}),me(this,Fi,new Map),me(this,$i,new Map),me(this,aa,0)}mount(){sd(this,aa)._++,D(this,aa)===1&&(me(this,Ui,rx.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,At).onFocus())})),me(this,Bi,$f.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,At).onOnline())})))}unmount(){var e,t;sd(this,aa)._--,D(this,aa)===0&&((e=D(this,Ui))==null||e.call(this),me(this,Ui,void 0),(t=D(this,Bi))==null||t.call(this),me(this,Bi,void 0))}isFetching(e){return D(this,At).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,na).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,At).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=D(this,At).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Ei(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return D(this,At).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=D(this,At).get(n.queryHash),o=s==null?void 0:s.state.data,i=i3(t,o);if(i!==void 0)return D(this,At).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Wt.batch(()=>D(this,At).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=D(this,At).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=D(this,At);Wt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=D(this,At),n={type:"active",...e};return Wt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Wt.batch(()=>D(this,At).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(dn).catch(dn)}invalidateQueries(e={},t={}){return Wt.batch(()=>{if(D(this,At).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Wt.batch(()=>D(this,At).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(dn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=D(this,At).build(this,t);return r.isStaleByTime(Ei(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dn).catch(dn)}fetchInfiniteQuery(e){return e.behavior=lb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dn).catch(dn)}ensureInfiniteQueryData(e){return e.behavior=lb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $f.isOnline()?D(this,na).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,At)}getMutationCache(){return D(this,na)}getDefaultOptions(){return D(this,sa)}setDefaultOptions(e){me(this,sa,e)}setQueryDefaults(e,t){D(this,Fi).set(So(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,Fi).values()];let r={};return t.forEach(n=>{Wc(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){D(this,$i).set(So(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,$i).values()];let r={};return t.forEach(n=>{Wc(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ex(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===tx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,At).clear(),D(this,na).clear()}},At=new WeakMap,na=new WeakMap,sa=new WeakMap,Fi=new WeakMap,$i=new WeakMap,aa=new WeakMap,Ui=new WeakMap,Bi=new WeakMap,I_),Tr,qe,vu,gr,lo,zi,oa,Xn,xu,Vi,Wi,co,uo,ia,qi,st,Ql,Kg,Yg,Qg,Jg,Zg,Xg,ey,x2,M_,_3=(M_=class extends _l{constructor(t,r){super();Ce(this,st);Ce(this,Tr);Ce(this,qe);Ce(this,vu);Ce(this,gr);Ce(this,lo);Ce(this,zi);Ce(this,oa);Ce(this,Xn);Ce(this,xu);Ce(this,Vi);Ce(this,Wi);Ce(this,co);Ce(this,uo);Ce(this,ia);Ce(this,qi,new Set);this.options=r,me(this,Tr,t),me(this,Xn,null),me(this,oa,Gg()),this.options.experimental_prefetchInRender||D(this,oa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,qe).addObserver(this),ub(D(this,qe),this.options)?$e(this,st,Ql).call(this):this.updateResult(),$e(this,st,Jg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ty(D(this,qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ty(D(this,qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$e(this,st,Zg).call(this),$e(this,st,Xg).call(this),D(this,qe).removeObserver(this)}setOptions(t,r){const n=this.options,s=D(this,qe);if(this.options=D(this,Tr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tn(this.options.enabled,D(this,qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$e(this,st,ey).call(this),D(this,qe).setOptions(this.options),n._defaulted&&!Ff(this.options,n)&&D(this,Tr).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,qe),observer:this});const o=this.hasListeners();o&&db(D(this,qe),s,this.options,n)&&$e(this,st,Ql).call(this),this.updateResult(r),o&&(D(this,qe)!==s||Tn(this.options.enabled,D(this,qe))!==Tn(n.enabled,D(this,qe))||Ei(this.options.staleTime,D(this,qe))!==Ei(n.staleTime,D(this,qe)))&&$e(this,st,Kg).call(this);const i=$e(this,st,Yg).call(this);o&&(D(this,qe)!==s||Tn(this.options.enabled,D(this,qe))!==Tn(n.enabled,D(this,qe))||i!==D(this,ia))&&$e(this,st,Qg).call(this,i)}getOptimisticResult(t){const r=D(this,Tr).getQueryCache().build(D(this,Tr),t),n=this.createResult(r,t);return N3(this,n)&&(me(this,gr,n),me(this,zi,this.options),me(this,lo,D(this,qe).state)),n}getCurrentResult(){return D(this,gr)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){D(this,qi).add(t)}getCurrentQuery(){return D(this,qe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=D(this,Tr).defaultQueryOptions(t),n=D(this,Tr).getQueryCache().build(D(this,Tr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return $e(this,st,Ql).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,gr)))}createResult(t,r){var C;const n=D(this,qe),s=this.options,o=D(this,gr),i=D(this,lo),l=D(this,zi),u=t!==n?t.state:D(this,vu),{state:d}=t;let f={...d},h=!1,v;if(r._optimisticResults){const E=this.hasListeners(),T=!E&&ub(t,r),I=E&&db(t,n,r,s);(T||I)&&(f={...f,...y2(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:x}=f;if(r.select&&f.data!==void 0)if(o&&f.data===(i==null?void 0:i.data)&&r.select===D(this,xu))v=D(this,Vi);else try{me(this,xu,r.select),v=r.select(f.data),v=Hg(o==null?void 0:o.data,v,r),me(this,Vi,v),me(this,Xn,null)}catch(E){me(this,Xn,E)}else v=f.data;if(r.placeholderData!==void 0&&v===void 0&&x==="pending"){let E;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=o.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((C=D(this,Wi))==null?void 0:C.state.data,D(this,Wi)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),me(this,Xn,null)}catch(T){me(this,Xn,T)}E!==void 0&&(x="success",v=Hg(o==null?void 0:o.data,E,r),h=!0)}D(this,Xn)&&(p=D(this,Xn),v=D(this,Vi),y=Date.now(),x="error");const w=f.fetchStatus==="fetching",g=x==="pending",b=x==="error",j=g&&w,S=v!==void 0,_={status:x,fetchStatus:f.fetchStatus,isPending:g,isSuccess:x==="success",isError:b,isInitialLoading:j,isLoading:j,data:v,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!g,isLoadingError:b&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&S,isStale:nx(t,r),refetch:this.refetch,promise:D(this,oa)};if(this.options.experimental_prefetchInRender){const E=F=>{_.status==="error"?F.reject(_.error):_.data!==void 0&&F.resolve(_.data)},T=()=>{const F=me(this,oa,_.promise=Gg());E(F)},I=D(this,oa);switch(I.status){case"pending":t.queryHash===n.queryHash&&E(I);break;case"fulfilled":(_.status==="error"||_.data!==I.value)&&T();break;case"rejected":(_.status!=="error"||_.error!==I.reason)&&T();break}}return _}updateResult(t){const r=D(this,gr),n=this.createResult(D(this,qe),this.options);if(me(this,lo,D(this,qe).state),me(this,zi,this.options),D(this,lo).data!==void 0&&me(this,Wi,D(this,qe)),Ff(n,r))return;me(this,gr,n);const s={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!D(this,qi).size)return!0;const c=new Set(l??D(this,qi));return this.options.throwOnError&&c.add("error"),Object.keys(D(this,gr)).some(u=>{const d=u;return D(this,gr)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&o()&&(s.listeners=!0),$e(this,st,x2).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$e(this,st,Jg).call(this)}},Tr=new WeakMap,qe=new WeakMap,vu=new WeakMap,gr=new WeakMap,lo=new WeakMap,zi=new WeakMap,oa=new WeakMap,Xn=new WeakMap,xu=new WeakMap,Vi=new WeakMap,Wi=new WeakMap,co=new WeakMap,uo=new WeakMap,ia=new WeakMap,qi=new WeakMap,st=new WeakSet,Ql=function(t){$e(this,st,ey).call(this);let r=D(this,qe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(dn)),r},Kg=function(){$e(this,st,Zg).call(this);const t=Ei(this.options.staleTime,D(this,qe));if(No||D(this,gr).isStale||!Wg(t))return;const n=u2(D(this,gr).dataUpdatedAt,t)+1;me(this,co,setTimeout(()=>{D(this,gr).isStale||this.updateResult()},n))},Yg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,qe)):this.options.refetchInterval)??!1},Qg=function(t){$e(this,st,Xg).call(this),me(this,ia,t),!(No||Tn(this.options.enabled,D(this,qe))===!1||!Wg(D(this,ia))||D(this,ia)===0)&&me(this,uo,setInterval(()=>{(this.options.refetchIntervalInBackground||rx.isFocused())&&$e(this,st,Ql).call(this)},D(this,ia)))},Jg=function(){$e(this,st,Kg).call(this),$e(this,st,Qg).call(this,$e(this,st,Yg).call(this))},Zg=function(){D(this,co)&&(clearTimeout(D(this,co)),me(this,co,void 0))},Xg=function(){D(this,uo)&&(clearInterval(D(this,uo)),me(this,uo,void 0))},ey=function(){const t=D(this,Tr).getQueryCache().build(D(this,Tr),this.options);if(t===D(this,qe))return;const r=D(this,qe);me(this,qe,t),me(this,vu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},x2=function(t){Wt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(D(this,gr))}),D(this,Tr).getQueryCache().notify({query:D(this,qe),type:"observerResultsUpdated"})})},M_);function j3(e,t){return Tn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ub(e,t){return j3(e,t)||e.state.data!==void 0&&ty(e,t,t.refetchOnMount)}function ty(e,t,r){if(Tn(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&nx(e,t)}return!1}function db(e,t,r,n){return(e!==t||Tn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&nx(e,r)}function nx(e,t){return Tn(t.enabled,e)!==!1&&e.isStaleByTime(Ei(t.staleTime,e))}function N3(e,t){return!Ff(e.getCurrentResult(),t)}var la,ca,Rr,_s,Cs,Xd,ry,D_,S3=(D_=class extends _l{constructor(r,n){super();Ce(this,Cs);Ce(this,la);Ce(this,ca);Ce(this,Rr);Ce(this,_s);me(this,la,r),this.setOptions(n),this.bindMethods(),$e(this,Cs,Xd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=D(this,la).defaultMutationOptions(r),Ff(this.options,n)||D(this,la).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,Rr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&So(n.mutationKey)!==So(this.options.mutationKey)?this.reset():((s=D(this,Rr))==null?void 0:s.state.status)==="pending"&&D(this,Rr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=D(this,Rr))==null||r.removeObserver(this)}onMutationUpdate(r){$e(this,Cs,Xd).call(this),$e(this,Cs,ry).call(this,r)}getCurrentResult(){return D(this,ca)}reset(){var r;(r=D(this,Rr))==null||r.removeObserver(this),me(this,Rr,void 0),$e(this,Cs,Xd).call(this),$e(this,Cs,ry).call(this)}mutate(r,n){var s;return me(this,_s,n),(s=D(this,Rr))==null||s.removeObserver(this),me(this,Rr,D(this,la).getMutationCache().build(D(this,la),this.options)),D(this,Rr).addObserver(this),D(this,Rr).execute(r)}},la=new WeakMap,ca=new WeakMap,Rr=new WeakMap,_s=new WeakMap,Cs=new WeakSet,Xd=function(){var n;const r=((n=D(this,Rr))==null?void 0:n.state)??v2();me(this,ca,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ry=function(r){Wt.batch(()=>{var n,s,o,i,l,c,u,d;if(D(this,_s)&&this.hasListeners()){const f=D(this,ca).variables,h=D(this,ca).context;(r==null?void 0:r.type)==="success"?((s=(n=D(this,_s)).onSuccess)==null||s.call(n,r.data,f,h),(i=(o=D(this,_s)).onSettled)==null||i.call(o,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=D(this,_s)).onError)==null||c.call(l,r.error,f,h),(d=(u=D(this,_s)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(D(this,ca))})})},D_),w2=m.createContext(void 0),sx=e=>{const t=m.useContext(w2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},k3=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(w2.Provider,{value:e,children:t})),b2=m.createContext(!1),C3=()=>m.useContext(b2);b2.Provider;function E3(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var P3=m.createContext(E3()),T3=()=>m.useContext(P3);function _2(e,t){return typeof e=="function"?e(...t):!!e}function j2(){}var R3=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},A3=e=>{m.useEffect(()=>{e.clearReset()},[e])},O3=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&_2(r,[e.error,n]),I3=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},M3=(e,t)=>e.isLoading&&e.isFetching&&!t,D3=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fb=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function L3(e,t,r){var d,f,h,v,p;const n=sx(),s=C3(),o=T3(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",I3(i),R3(i,o),A3(o);const l=!n.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(y=>{const x=s?()=>{}:c.subscribe(Wt.batchCalls(y));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),D3(i,u))throw fb(i,c,o);if(O3({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((v=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||v.call(h,i,u),i.experimental_prefetchInRender&&!No&&M3(u,s)){const y=l?fb(i,c,o):(p=n.getQueryCache().get(i.queryHash))==null?void 0:p.promise;y==null||y.catch(j2).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Ft(e,t){return L3(e,_3)}function F3(e,t){const r=sx(),[n]=m.useState(()=>new S3(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Wt.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((i,l)=>{n.mutate(i,l).catch(j2)},[n]);if(s.error&&_2(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}var fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fa||(fa={}));const hb="popstate";function $3(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return ny("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Uf(s)}return B3(t,r,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U3(){return Math.random().toString(36).substr(2,8)}function mb(e,t){return{usr:e.state,key:e.key,idx:t}}function ny(e,t,r,n){return r===void 0&&(r=null),qc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jl(t):t,{state:r,key:t&&t.key||n||U3()})}function Uf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function B3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=fa.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(qc({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=fa.Pop;let x=d(),w=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:w})}function h(x,w){l=fa.Push;let g=ny(y.location,x,w);u=d()+1;let b=mb(g,u),j=y.createHref(g);try{i.pushState(b,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}o&&c&&c({action:l,location:y.location,delta:1})}function v(x,w){l=fa.Replace;let g=ny(y.location,x,w);u=d();let b=mb(g,u),j=y.createHref(g);i.replaceState(b,"",j),o&&c&&c({action:l,location:y.location,delta:0})}function p(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Uf(x);return g=g.replace(/ $/,"%20"),Bt(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let y={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hb,f),c=x,()=>{s.removeEventListener(hb,f),c=null}},createHref(x){return t(s,x)},createURL:p,encodeLocation(x){let w=p(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:v,go(x){return i.go(x)}};return y}var pb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pb||(pb={}));function z3(e,t,r){return r===void 0&&(r="/"),V3(e,t,r,!1)}function V3(e,t,r,n){let s=typeof t=="string"?jl(t):t,o=ax(s.pathname||"/",r);if(o==null)return null;let i=S2(e);W3(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=tD(o);l=X3(i[c],u,n)}return l}function S2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Bt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=_a([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),S2(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:J3(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of k2(o.path))s(o,i,c)}),t}function k2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=k2(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function W3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Z3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q3=/^:[\w-]+$/,H3=3,G3=2,K3=1,Y3=10,Q3=-2,gb=e=>e==="*";function J3(e,t){let r=e.split("/"),n=r.length;return r.some(gb)&&(n+=Q3),t&&(n+=G3),r.filter(s=>!gb(s)).reduce((s,o)=>s+(q3.test(o)?H3:o===""?K3:Y3),n)}function Z3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function X3(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=yb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=yb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:_a([o,f.pathname]),pathnameBase:aD(_a([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=_a([o,f.pathnameBase]))}return i}function yb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=eD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:v}=d;if(h==="*"){let y=l[f]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const p=l[f];return v&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function eD(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),N2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function tD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return N2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ax(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rD(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?jl(e):e;return{pathname:r?r.startsWith("/")?r:nD(r,t):t,search:oD(n),hash:iD(s)}}function nD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function C2(e,t){let r=sD(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function E2(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=jl(e):(s=qc({},e),Bt(!s.pathname||!s.pathname.includes("?"),cp("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),cp("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),cp("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=rD(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const _a=e=>e.join("/").replace(/\/\/+/g,"/"),aD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const P2=["post","put","patch","delete"];new Set(P2);const cD=["get",...P2];new Set(cD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(this,arguments)}const ox=m.createContext(null),uD=m.createContext(null),Bo=m.createContext(null),Kh=m.createContext(null),Ba=m.createContext({outlet:null,matches:[],isDataRoute:!1}),T2=m.createContext(null);function dD(e,t){let{relative:r}=t===void 0?{}:t;Au()||Bt(!1);let{basename:n,navigator:s}=m.useContext(Bo),{hash:o,pathname:i,search:l}=A2(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:_a([n,i])),s.createHref({pathname:c,search:l,hash:o})}function Au(){return m.useContext(Kh)!=null}function za(){return Au()||Bt(!1),m.useContext(Kh).location}function R2(e){m.useContext(Bo).static||m.useLayoutEffect(e)}function nr(){let{isDataRoute:e}=m.useContext(Ba);return e?ND():fD()}function fD(){Au()||Bt(!1);let e=m.useContext(ox),{basename:t,future:r,navigator:n}=m.useContext(Bo),{matches:s}=m.useContext(Ba),{pathname:o}=za(),i=JSON.stringify(C2(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return R2(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=E2(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:_a([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function Nl(){let{matches:e}=m.useContext(Ba),t=e[e.length-1];return t?t.params:{}}function A2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Bo),{matches:s}=m.useContext(Ba),{pathname:o}=za(),i=JSON.stringify(C2(s,n.v7_relativeSplatPath));return m.useMemo(()=>E2(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function hD(e,t){return mD(e,t)}function mD(e,t,r,n){Au()||Bt(!1);let{navigator:s}=m.useContext(Bo),{matches:o}=m.useContext(Ba),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=za(),d;if(t){var f;let x=typeof t=="string"?jl(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Bt(!1),d=x}else d=u;let h=d.pathname||"/",v=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let p=z3(e,{pathname:v}),y=xD(p&&p.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:_a([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:_a([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&y?m.createElement(Kh.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fa.Pop}},y):y}function pD(){let e=jD(),t=lD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const gD=m.createElement(pD,null);class yD extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Ba.Provider,{value:this.props.routeContext},m.createElement(T2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vD(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(ox);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Ba.Provider,{value:t},n)}function xD(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Bt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:v}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let v,p=!1,y=null,x=null;r&&(v=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||gD,c&&(u<0&&h===0?(p=!0,x=null):u===h&&(p=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,h+1)),g=()=>{let b;return v?b=y:p?b=x:f.route.Component?b=m.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,m.createElement(vD,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(yD,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var O2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O2||{}),Bf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bf||{});function wD(e){let t=m.useContext(ox);return t||Bt(!1),t}function bD(e){let t=m.useContext(uD);return t||Bt(!1),t}function _D(e){let t=m.useContext(Ba);return t||Bt(!1),t}function I2(e){let t=_D(),r=t.matches[t.matches.length-1];return r.route.id||Bt(!1),r.route.id}function jD(){var e;let t=m.useContext(T2),r=bD(Bf.UseRouteError),n=I2(Bf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ND(){let{router:e}=wD(O2.UseNavigateStable),t=I2(Bf.UseNavigateStable),r=m.useRef(!1);return R2(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hc({fromRouteId:t},o)))},[e,t])}function ft(e){Bt(!1)}function SD(e){let{basename:t="/",children:r=null,location:n,navigationType:s=fa.Pop,navigator:o,static:i=!1,future:l}=e;Au()&&Bt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Hc({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=jl(n));let{pathname:d="/",search:f="",hash:h="",state:v=null,key:p="default"}=n,y=m.useMemo(()=>{let x=ax(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:v,key:p},navigationType:s}},[c,d,f,h,v,p,s]);return y==null?null:m.createElement(Bo.Provider,{value:u},m.createElement(Kh.Provider,{children:r,value:y}))}function kD(e){let{children:t,location:r}=e;return hD(sy(t),r)}new Promise(()=>{});function sy(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,sy(n.props.children,o));return}n.type!==ft&&Bt(!1),!n.props.index||!n.props.children||Bt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=sy(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(this,arguments)}function CD(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ED(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PD(e,t){return e.button===0&&(!t||t==="_self")&&!ED(e)}function oy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function TD(e,t){let r=oy(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const RD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AD="6";try{window.__reactRouterVersion=AD}catch{}const OD="startTransition",vb=K_[OD];function ID(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=$3({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&vb?vb(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(SD,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const MD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=CD(t,RD),{basename:v}=m.useContext(Bo),p,y=!1;if(typeof u=="string"&&DD.test(u)&&(p=u,MD))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),S=ax(j.pathname,v);j.origin===b.origin&&S!=null?u=S+j.search+j.hash:y=!0}catch{}let x=dD(u,{relative:s}),w=LD(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(b){n&&n(b),b.defaultPrevented||w(b)}return m.createElement("a",ay({},h,{href:p||x,onClick:y||o?n:g,ref:r,target:c}))});var xb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xb||(xb={}));var wb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wb||(wb={}));function LD(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=nr(),u=za(),d=A2(e,{relative:i});return m.useCallback(f=>{if(PD(f,r)){f.preventDefault();let h=n!==void 0?n:Uf(u)===Uf(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}function FD(e){let t=m.useRef(oy(e)),r=m.useRef(!1),n=za(),s=m.useMemo(()=>TD(n.search,r.current?null:t.current),[n.search]),o=nr(),i=m.useCallback((l,c)=>{const u=oy(typeof l=="function"?l(s):l);r.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const $D="modulepreload",UD=function(e){return"/"+e},bb={},nl=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=UD(c),c in bb)return;bb[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":$D,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,v)=>{f.addEventListener("load",h),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},BD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ix extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class zD extends ix{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VD extends ix{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class WD extends ix{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var iy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(iy||(iy={}));var qD=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class HD{constructor(t,{headers:r={},customFetch:n,region:s=iy.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=BD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return qD(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(p=>{throw new zD(p)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new VD(d);if(!d.ok)throw new WD(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return h==="application/json"?v=yield d.json():h==="application/octet-stream"?v=yield d.blob():h==="text/event-stream"?v=d:h==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Ir={},lx={},Yh={},Ou={},Qh={},Jh={},GD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=GD();const KD=sl.fetch,M2=sl.fetch.bind(sl),D2=sl.Headers,YD=sl.Request,QD=sl.Response,Sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:D2,Request:YD,Response:QD,default:M2,fetch:KD},Symbol.toStringTag,{value:"Module"})),JD=ET(Sl);var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});let ZD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Zh.default=ZD;var L2=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jh,"__esModule",{value:!0});const XD=L2(JD),eL=L2(Zh);let tL=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=XD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,v="OK")}catch{o.status===404&&y===""?(h=204,v="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,v="OK"),u&&this.shouldThrowOnError)throw new eL.default(u)}return{error:u,data:d,count:f,status:h,statusText:v}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Jh.default=tL;var rL=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qh,"__esModule",{value:!0});const nL=rL(Jh);let sL=class extends nL.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qh.default=sL;var aL=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ou,"__esModule",{value:!0});const oL=aL(Qh);let iL=class extends oL.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ou.default=iL;var lL=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yh,"__esModule",{value:!0});const Ul=lL(Ou);let cL=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Ul.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ul.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ul.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ul.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ul.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yh.default=cL;var Xh={},em={};Object.defineProperty(em,"__esModule",{value:!0});em.version=void 0;em.version="0.0.0-automated";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.DEFAULT_HEADERS=void 0;const uL=em;Xh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${uL.version}`};var F2=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lx,"__esModule",{value:!0});const dL=F2(Yh),fL=F2(Ou),hL=Xh;let mL=class $2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},hL.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new dL.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new fL.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};lx.default=mL;var kl=xn&&xn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.PostgrestError=Ir.PostgrestBuilder=Ir.PostgrestTransformBuilder=Ir.PostgrestFilterBuilder=Ir.PostgrestQueryBuilder=Ir.PostgrestClient=void 0;const U2=kl(lx);Ir.PostgrestClient=U2.default;const B2=kl(Yh);Ir.PostgrestQueryBuilder=B2.default;const z2=kl(Ou);Ir.PostgrestFilterBuilder=z2.default;const V2=kl(Qh);Ir.PostgrestTransformBuilder=V2.default;const W2=kl(Jh);Ir.PostgrestBuilder=W2.default;const q2=kl(Zh);Ir.PostgrestError=q2.default;var pL=Ir.default={PostgrestClient:U2.default,PostgrestQueryBuilder:B2.default,PostgrestFilterBuilder:z2.default,PostgrestTransformBuilder:V2.default,PostgrestBuilder:W2.default,PostgrestError:q2.default};const{PostgrestClient:gL,PostgrestQueryBuilder:KW,PostgrestFilterBuilder:YW,PostgrestTransformBuilder:QW,PostgrestBuilder:JW,PostgrestError:ZW}=pL,yL="2.11.2",vL={"X-Client-Info":`realtime-js/${yL}`},xL="1.0.0",H2=1e4,wL=1e3;var Pi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pi||(Pi={}));var Hr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Hr||(Hr={}));var En;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(En||(En={}));var ly;(function(e){e.websocket="websocket"})(ly||(ly={}));var Za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Za||(Za={}));class bL{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class G2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const _b=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=_L(i,e,t,s),o),{})},_L=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?K2(o,i):cy(i)},K2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return kL(t,r)}switch(e){case pt.bool:return jL(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return NL(t);case pt.json:case pt.jsonb:return SL(t);case pt.timestamp:return CL(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return cy(t);default:return cy(t)}},cy=e=>e,jL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},NL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},SL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},kL=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>K2(t,l))}return e},CL=e=>typeof e=="string"?e.replace(" ","T"):e,Y2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class up{constructor(t,r,n={},s=H2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jb||(jb={}));class xc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xc.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=xc.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xc.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(x=>x.presence_ref),v=f.map(x=>x.presence_ref),p=d.filter(x=>v.indexOf(x.presence_ref)<0),y=f.filter(x=>h.indexOf(x.presence_ref)<0);p.length>0&&(l[u]=p),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nb||(Nb={}));var Sb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sb||(Sb={}));var xs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xs||(xs={}));class cx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new up(this,En.join,this.params,this.timeout),this.rejoinTimer=new G2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(En.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new xc(this),this.broadcastEndpointURL=Y2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(xs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(xs.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(xs.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,v=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let y=0;y<v;y++){const x=h[y],{filter:{event:w,schema:g,table:b,filter:j}}=x,S=d&&d[y];if(S&&S.event===w&&S.schema===g&&S.table===b&&S.filter===j)p.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),t==null||t(xs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(xs.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(xs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Hr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(En.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new up(this,En.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new up(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=En;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var p,y,x;return((p=v.filter)===null||p===void 0?void 0:p.event)==="*"||((x=(y=v.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(v=>v.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(v=>{var p,y,x,w,g,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const j=v.id,S=(p=v.filter)===null||p===void 0?void 0:p.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(g=(w=v==null?void 0:v.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:x,commit_timestamp:w,type:g,errors:b}=p;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:w,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(p))}v.callback(h,n)})}_isClosed(){return this.state===Hr.closed}_isJoined(){return this.state===Hr.joined}_isJoining(){return this.state===Hr.joining}_isLeaving(){return this.state===Hr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&cx.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(En.close,{},t)}_onError(t){this._on(En.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_b(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_b(t.columns,t.old_record)),r}}const EL=()=>{},PL=typeof WebSocket<"u",TL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RL{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vL,this.params={},this.timeout=H2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=EL,this.conn=null,this.sendBuffer=[],this.serializer=new bL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>nl(async()=>{const{default:c}=await Promise.resolve().then(()=>Sl);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${ly.websocket}`,this.httpEndpoint=Y2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new G2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(PL){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new AL(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),nl(async()=>{const{default:t}=await import("./browser-DWWImKlr.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xL}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pi.connecting:return Za.Connecting;case Pi.open:return Za.Open;case Pi.closing:return Za.Closing;default:return Za.Closed}}isConnected(){return this.connectionState()===Za.Open}channel(t,r={config:{}}){const n=new cx(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(En.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(wL,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(En.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([TL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class AL{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ux extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OL extends ux{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uy extends ux{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var IL=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Q2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ML=()=>IL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield nl(()=>Promise.resolve().then(()=>Sl),void 0)).Response:Response}),dy=e=>{if(Array.isArray(e))return e.map(r=>dy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=dy(n)}),t};var zo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const dp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),DL=(e,t,r)=>zo(void 0,void 0,void 0,function*(){const n=yield ML();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new OL(dp(s),e.status||500))}).catch(s=>{t(new uy(dp(s),s))}):t(new uy(dp(e),e))}),LL=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Iu(e,t,r,n,s,o){return zo(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,LL(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>DL(c,l,n))})})}function zf(e,t,r,n){return zo(this,void 0,void 0,function*(){return Iu(e,"GET",t,r,n)})}function Ks(e,t,r,n,s){return zo(this,void 0,void 0,function*(){return Iu(e,"POST",t,n,s,r)})}function FL(e,t,r,n,s){return zo(this,void 0,void 0,function*(){return Iu(e,"PUT",t,n,s,r)})}function $L(e,t,r,n){return zo(this,void 0,void 0,function*(){return Iu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function J2(e,t,r,n,s){return zo(this,void 0,void 0,function*(){return Iu(e,"DELETE",t,n,s,r)})}var Er=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const UL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BL{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Q2(s)}uploadOrUpdate(t,r,n,s){return Er(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},kb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Yt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Er(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:kb.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Er(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Ks(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new ux("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Er(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Er(this,void 0,void 0,function*(){try{return{data:{path:(yield Ks(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Er(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Ks(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Er(this,void 0,void 0,function*(){try{const s=yield Ks(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}download(t,r){return Er(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield zf(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Yt(l))return{data:null,error:l};throw l}})}info(t){return Er(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield zf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dy(n),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}exists(t){return Er(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $L(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Yt(n)&&n instanceof uy){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Er(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Er(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},UL),r),{prefix:t||""});return{data:yield Ks(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const zL="2.7.1",VL={"X-Client-Info":`storage-js/${zL}`};var Go=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class WL{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},VL),r),this.fetch=Q2(n)}listBuckets(){return Go(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Yt(t))return{data:null,error:t};throw t}})}getBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Go(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Go(this,void 0,void 0,function*(){try{return{data:yield FL(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield J2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}}class qL extends WL{constructor(t,r={},n){super(t,r,n)}from(t){return new BL(this.url,this.headers,t,this.fetch)}}const HL="2.49.4";let Jl="";typeof Deno<"u"?Jl="deno":typeof document<"u"?Jl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jl="react-native":Jl="node";const GL={"X-Client-Info":`supabase-js-${Jl}/${HL}`},KL={headers:GL},YL={schema:"public"},QL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JL={};var ZL=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const XL=e=>{let t;return e?t=e:typeof fetch>"u"?t=M2:t=fetch,(...r)=>t(...r)},e5=()=>typeof Headers>"u"?D2:Headers,t5=(e,t,r)=>{const n=XL(r),s=e5();return(o,i)=>ZL(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var r5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function n5(e){return e.replace(/\/$/,"")}function s5(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>r5(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Z2="2.69.1",ri=30*1e3,fy=3,fp=fy*ri,a5="http://localhost:9999",o5="supabase.auth.token",i5={"X-Client-Info":`gotrue-js/${Z2}`},hy="X-Supabase-Api-Version",X2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c5=6e5;class dx extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class u5 extends dx{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function d5(e){return Le(e)&&e.name==="AuthApiError"}class eS extends dx{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Va extends dx{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Vs extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f5(e){return Le(e)&&e.name==="AuthSessionMissingError"}class hp extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cd extends Va{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ed extends Va{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h5(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cb extends Va{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class my extends Va{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mp(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class Eb extends Va{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wc extends Va{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tb=` 	
\r=`.split(""),m5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tb.length;t+=1)e[Tb[t].charCodeAt(0)]=-2;for(let t=0;t<Pb.length;t+=1)e[Pb[t].charCodeAt(0)]=t;return e})();function tS(e,t,r){const n=m5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rb(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{y5(i,n,r)};for(let i=0;i<e.length;i+=1)tS(e.charCodeAt(i),s,o);return t.join("")}function p5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function g5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}p5(n,t)}}function y5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function v5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)tS(e.charCodeAt(s),r,n);return new Uint8Array(t)}function x5(e){const t=[];return g5(e,r=>t.push(r)),new Uint8Array(t)}function w5(e){return Math.round(Date.now()/1e3)+e}function b5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",Ga={tested:!1,writable:!1},bc=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ga.tested)return Ga.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ga.tested=!0,Ga.writable=!0}catch{Ga.tested=!0,Ga.writable=!1}return Ga.writable};function _5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const rS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Sl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},j5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nS=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Pd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Td=async(e,t)=>{await e.removeItem(t)};class tm{constructor(){this.promise=new tm.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}tm.promiseConstructor=Promise;function pp(e){const t=e.split(".");if(t.length!==3)throw new wc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!l5.test(t[n]))throw new wc("JWT not in base64url format");return{header:JSON.parse(Rb(t[0])),payload:JSON.parse(Rb(t[1])),signature:v5(t[2]),raw:{header:t[0],payload:t[1]}}}async function N5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function S5(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function k5(e){return("0"+e.toString(16)).substr(-2)}function C5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,k5).join("")}async function E5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function P5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await E5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ko(e,t,r=!1){const n=C5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await nS(e,`${t}-code-verifier`,s);const o=await P5(n);return[o,n===o?"plain":"s256"]}const T5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R5(e){const t=e.headers.get(hy);if(!t||!t.match(T5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function A5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function O5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var I5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M5=[502,503,504];async function Ab(e){var t;if(!j5(e))throw new my(Qa(e),0);if(M5.includes(e.status))throw new my(Qa(e),e.status);let r;try{r=await e.json()}catch(o){throw new eS(Qa(o),o)}let n;const s=R5(e);if(s&&s.getTime()>=X2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Eb(Qa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Eb(Qa(r),e.status,r.weak_password.reasons);throw new u5(Qa(r),e.status||500,n)}const D5=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function We(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[hy]||(o[hy]=X2["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await L5(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function L5(e,t,r,n,s,o){const i=D5(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new my(Qa(c),0)}if(l.ok||await Ab(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ab(c)}}function Ws(e){var t;let r=null;B5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=w5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ob(e){const t=Ws(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F5(e){return{data:e,error:null}}function $5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=I5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function U5(e){return e}function B5(e){return e.access_token&&e.refresh_token&&e.expires_in}var z5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class V5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=rS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Js})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=z5(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:$5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Js})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:U5});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(p.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Le(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Js})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Js})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Js})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}}const W5={getItem:e=>bc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{bc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{bc()&&globalThis.localStorage.removeItem(e)}};function Ib(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function q5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yo={debug:!!(globalThis&&bc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class H5 extends sS{}async function G5(e,t,r){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Yo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new H5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}q5();const K5={url:a5,storageKey:o5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mb(e,t,r){return await r()}class Gc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gc.nextInstanceID,Gc.nextInstanceID+=1,this.instanceID>0&&Kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},K5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new V5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rS(s.fetch),this.lock=s.lock||Mb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Kn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=G5:this.lock=Mb,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:bc()?this.storage=W5:(this.memoryStorage={},this.storage=Ib(this.memoryStorage)):(this.memoryStorage={},this.storage=Ib(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Z2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=_5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Kn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),h5(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Le(r)?{error:r}:{error:new eS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ws}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let v=null,p=null;this.flowType==="pkce"&&([v,p]=await Ko(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:p},xform:Ws})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ws})}else throw new Cd("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(Le(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ob})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ob})}else throw new Cd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Pd(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ws});if(await Td(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new hp}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Le(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ws}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ko(this.storage,this.storageKey));const{error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Cd("You must provide either an email or phone number.")}catch(l){if(Le(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ws});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Ko(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:F5})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Vs;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Cd("You must provide either an email or phone number and a type")}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Pd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Js}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vs}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Js})})}catch(r){if(Le(r))return f5(r)&&(await this._removeSession(),await Td(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Vs;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ko(this.storage,this.storageKey));const{data:u,error:d}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Js});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vs;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=pp(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Le(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Vs;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Le(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Kn())throw new Ed("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ed(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Cb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ed("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cb("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Ed("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const v=h-d;v*1e3<=ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:y,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(Le(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Pd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(d5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Td(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=b5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ko(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Le(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Kn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Le(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await S5(async s=>(s>0&&await N5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ws})),(s,o)=>{const i=200*Math.pow(2,s);return o&&mp(o)&&Date.now()+i-n<ri})}catch(n){if(this._debug(r,"error",n),Le(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Kn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Pd(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<fp;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${fp}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),mp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tm;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Vs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),Le(o)){const i={session:null,error:o};return mp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nS(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Td(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ri}ms, refresh threshold is ${fy} ticks`),s<=fy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ko(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await We(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Le(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=pp(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+c5>Date.now()))return n;const{data:s,error:o}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new wc("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new wc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:p}=await this.getSession();if(p||!v.session)return{data:null,error:p};n=v.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=pp(n);if(A5(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:s,signature:i},error:null}}const u=O5(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,x5(`${l}.${c}`)))throw new wc("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}}Gc.nextInstanceID=0;const Y5=Gc;class Q5 extends Y5{constructor(t){super(t)}}var J5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Z5{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=n5(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:YL,realtime:JL,auth:Object.assign(Object.assign({},QL),{storageKey:c}),global:KL},d=s5(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=t5(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new gL(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new HD(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qL(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return J5(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q5({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new RL(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const X5=(e,t,r)=>new Z5(e,t,r),eF="https://tgkbgvqywcafdrpjtigh.supabase.co",tF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRna2JndnF5d2NhZmRycGp0aWdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMzNDQxNjgsImV4cCI6MjA1ODkyMDE2OH0.0ld8jvRfb4atWoUSaM8sZUiifgNldcw0YCStlU0lmI0",z=X5(eF,tF);function ht(e){return z.from(e)}function fx(e,t){if(!t)return null;if(t.startsWith("http://")||t.startsWith("https://"))return t;const{data:r}=z.storage.from(e).getPublicUrl(t);return(r==null?void 0:r.publicUrl)||null}function rm(e){return fx("tournament-covers",e)}function Vf(e){return fx("avatars",e)}function hx(e){return fx("lounges",e)}const Kc={_origin:"https://api.emailjs.com"},rF=(e,t="https://api.emailjs.com")=>{Kc._userID=e,Kc._origin=t},aS=(e,t,r)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Db{constructor(t){this.status=t.status,this.text=t.responseText}}const oS=(e,t,r={})=>new Promise((n,s)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:i})=>{const l=new Db(i);l.status===200||l.text==="OK"?n(l):s(l)}),o.addEventListener("error",({target:i})=>{s(new Db(i))}),o.open("POST",Kc._origin+e,!0),Object.keys(r).forEach(i=>{o.setRequestHeader(i,r[i])}),o.send(t)}),nF=(e,t,r,n)=>{const s=n||Kc._userID;return aS(s,e,t),oS("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"})},sF=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},aF=(e,t,r,n)=>{const s=n||Kc._userID,o=sF(r);aS(s,e,t);const i=new FormData(o);return i.append("lib_version","3.2.0"),i.append("service_id",e),i.append("template_id",t),i.append("user_id",s),oS("/api/v1.0/email/send-form",i)},Wf={init:rF,send:nF,sendForm:aF},iS="service_cl4knzd",lS="template_wpjkyuw",cS="8YougfWH0y8blXNhJ";async function uS(){try{const{data:e}=await z.from("system_settings").select("setting_name, setting_value").in("setting_name",["SMTP_HOST","SMTP_PORT","SMTP_USER","SMTP_PASSWORD","SMTP_FROM_EMAIL","SMTP_FROM_NAME"]);if(!e||e.length<5)return console.log("SMTP settings not found or incomplete"),null;const t={};return e.forEach(r=>{t[r.setting_name]=r.setting_value}),{host:t.SMTP_HOST,port:t.SMTP_PORT||"587",username:t.SMTP_USER,password:t.SMTP_PASSWORD,fromEmail:t.SMTP_FROM_EMAIL,fromName:t.SMTP_FROM_NAME||"Gaming Tournament Platform"}}catch(e){return console.error("Error retrieving SMTP settings:",e),null}}async function oF(e,t){try{const r=await uS();if(!r)return console.error("Cannot send email: SMTP settings not configured"),!1;const n={email:e,exp:Math.floor(Date.now()/1e3)+3600,type:"reset_password"},s=btoa(JSON.stringify(n));console.log("Password reset token generated");const o=`${t}?token=${encodeURIComponent(s)}`,i=`${o}`;Wf.init(cS);const l={to_email:e,from_name:r.fromName,from_email:r.fromEmail,subject:"Reset Your Password",message_html:i,smtp_host:r.host,smtp_port:r.port,smtp_user:r.username,smtp_pass:r.password,reset_link:o};return await Wf.send(iS,lS,l),console.log("Password reset email sent successfully"),!0}catch(r){return console.error("Error sending password reset email:",r),!1}}async function iF(e){try{const t=await uS();if(!t)return console.error("Cannot send test email: SMTP settings not configured"),!1;const r=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h2 style="color: #5e17eb;">SMTP Test Successful</h2>
        <p>This is a test email to verify your SMTP configuration is working correctly.</p>
        <p>If you received this email, your SMTP settings are configured properly!</p>
        <p>Thank you,<br>Gaming Tournament Platform</p>
      </div>
    `;Wf.init(cS);const n={to_email:e,from_name:t.fromName,from_email:t.fromEmail,subject:"SMTP Test Email",message_html:r,smtp_host:t.host,smtp_port:t.port,smtp_user:t.username,smtp_pass:t.password};return await Wf.send(iS,lS,n),console.log("Test email sent successfully"),!0}catch(t){return console.error("Error sending test email:",t),!1}}const dS=m.createContext(void 0),lF=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(null),[o,i]=m.useState(!0);Wn();const l=nr();m.useEffect(()=>{const{data:{subscription:p}}=z.auth.onAuthStateChange((y,x)=>{s(x),r((x==null?void 0:x.user)??null),i(!1)});return z.auth.getSession().then(({data:{session:y}})=>{s(y),r((y==null?void 0:y.user)??null),i(!1)}),()=>p.unsubscribe()},[]);const v={user:t,session:n,signIn:async(p,y)=>{try{const{error:x}=await z.auth.signInWithPassword({email:p,password:y});if(x)throw x;Y.success("Successfully signed in!"),l("/")}catch(x){Y.error(x.message||"Failed to sign in")}},signUp:async(p,y,x,w,g,b)=>{try{const{data:j}=await z.from("profiles").select("id").eq("username",y).single();if(j)return Y.error("Username is already taken. Please choose a different one."),{success:!1,message:"Username is already taken"};const{error:S}=await z.auth.signUp({email:x,password:b,options:{data:{full_name:p,username:y,dob:w,phone_number:g,role_id:1}}});if(S)throw S;return Y.success("Registration successful! Check your email to confirm your account."),l("/login"),{success:!0}}catch(j){return Y.error(j.message||"Failed to sign up"),{success:!1,message:j.message||"Failed to sign up"}}},signOut:async()=>{try{const{error:p}=await z.auth.signOut();if(p)throw p;Y.success("You've been signed out successfully!"),l("/login")}catch(p){Y.error(p.message||"Failed to sign out")}},resetPassword:async p=>{try{const x=`${window.location.origin}/reset-password`;if(console.log("Attempting to send password reset email..."),!await oF(p,x))throw new Error("Failed to send password reset email. Please check SMTP settings in Admin panel.");Y.success("Password reset link has been sent to your email!")}catch(y){console.error("Password reset error:",y),Y.error(y.message||"Failed to send reset password email")}},updatePassword:async p=>{try{const x=new URLSearchParams(window.location.search).get("token");if(x)try{const w=JSON.parse(atob(x));if(w.type!=="reset_password"||w.exp<Math.floor(Date.now()/1e3))throw new Error("Password reset link has expired or is invalid.");const{error:g}=await z.auth.updateUser({email:w.email,password:p});if(g)throw g;Y.success("Your password has been updated successfully!"),l("/login")}catch(w){throw console.error("Token validation error:",w),new Error("Invalid or expired password reset link. Please request a new one.")}else{const{error:w}=await z.auth.updateUser({password:p});if(w)throw w;Y.success("Your password has been updated successfully!"),l("/login")}}catch(y){Y.error(y.message||"Failed to update password")}},loading:o};return a.jsx(dS.Provider,{value:v,children:e})},jt=()=>{const e=m.useContext(dS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},al=Dh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?is:"button";return a.jsx(i,{className:ee(al({variant:t,size:r,className:e})),ref:o,...s})});J.displayName="Button";const Sr=()=>{const{user:e}=jt(),[t,r]=m.useState({roleId:null,roleName:null}),[n,s]=m.useState(!0),[o,i]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{const v=new URLSearchParams(window.location.search);c(!!v.get("view"))},[]),m.useEffect(()=>{(async()=>{var p,y;if(!e){console.log("No user found, skipping role fetch"),s(!1);return}console.log("Fetching role for user:",e.id);try{const{data:x,error:w}=await z.from("profiles").select("role_id, roles(role_name)").eq("id",e.id).single();if(w)throw console.error("Error in supabase query:",w),w;if(console.log("Raw user role data from DB:",x),x){console.log("Role ID raw value:",x.role_id,"Type:",typeof x.role_id);const g=x.role_id!==null?Number(x.role_id):1;console.log("Parsed role ID:",g,"Type:",typeof g),r({roleId:g,roleName:((p=x.roles)==null?void 0:p.role_name)||null}),console.log("Setting user role:",{roleId:g,roleName:((y=x.roles)==null?void 0:y.role_name)||null,isLoungeAdmin:g===2,isAdmin:g===3,isSuperAdmin:g===4})}else console.warn("No role data found for user:",e.id),r({roleId:1,roleName:"Player"})}catch(x){console.error("Error fetching user role:",x),i(x instanceof Error?x:new Error("Failed to fetch user role"))}finally{s(!1)}})()},[e]);const u=t.roleId,d=u===4,f=u===3||d,h=u===2;return console.log("useUserRole hook returning:",{roleId:u,roleName:t.roleName,isLoungeAdmin:h,isAdmin:f,isSuperAdmin:d,loading:n}),{roleId:u,roleName:t.roleName,isLoungeAdmin:h,isAdmin:f,isSuperAdmin:d,isViewingApplication:l,loading:n,error:o}};var cF=m.createContext(void 0);function Cl(e){const t=m.useContext(cF);return e||t||"ltr"}var gp=0;function nm(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lb()),document.body.insertAdjacentElement("beforeend",e[1]??Lb()),gp++,()=>{gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gp--}},[])}function Lb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yp="focusScope.autoFocusOnMount",vp="focusScope.autoFocusOnUnmount",Fb={bubbles:!1,cancelable:!0},uF="FocusScope",Mu=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=rr(s),d=rr(o),f=m.useRef(null),h=Fe(t,y=>c(y)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let y=function(b){if(v.paused||!l)return;const j=b.target;l.contains(j)?f.current=j:qs(f.current,{select:!0})},x=function(b){if(v.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||qs(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&qs(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const g=new MutationObserver(w);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),g.disconnect()}}},[n,l,v.paused]),m.useEffect(()=>{if(l){Ub.add(v);const y=document.activeElement;if(!l.contains(y)){const w=new CustomEvent(yp,Fb);l.addEventListener(yp,u),l.dispatchEvent(w),w.defaultPrevented||(dF(gF(fS(l)),{select:!0}),document.activeElement===y&&qs(l))}return()=>{l.removeEventListener(yp,u),setTimeout(()=>{const w=new CustomEvent(vp,Fb);l.addEventListener(vp,d),l.dispatchEvent(w),w.defaultPrevented||qs(y??document.body,{select:!0}),l.removeEventListener(vp,d),Ub.remove(v)},0)}}},[l,u,d,v]);const p=m.useCallback(y=>{if(!r&&!n||v.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(x&&w){const g=y.currentTarget,[b,j]=fF(g);b&&j?!y.shiftKey&&w===j?(y.preventDefault(),r&&qs(b,{select:!0})):y.shiftKey&&w===b&&(y.preventDefault(),r&&qs(j,{select:!0})):w===g&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(xe.div,{tabIndex:-1,...i,ref:h,onKeyDown:p})});Mu.displayName=uF;function dF(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qs(n,{select:t}),document.activeElement!==r)return}function fF(e){const t=fS(e),r=$b(t,e),n=$b(t.reverse(),e);return[r,n]}function fS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $b(e,t){for(const r of e)if(!hF(r,{upTo:t}))return r}function hF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mF(e){return e instanceof HTMLInputElement&&"select"in e}function qs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&mF(e)&&t&&e.select()}}var Ub=pF();function pF(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Bb(e,t),e.unshift(t)},remove(t){var r;e=Bb(e,t),(r=e[0])==null||r.resume()}}}function Bb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function gF(e){return e.filter(t=>t.tagName!=="A")}function yF(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:v,...p}=f,y=(h==null?void 0:h[e][c])||l,x=m.useMemo(()=>p,Object.values(p));return a.jsx(y.Provider,{value:x,children:v})}function d(f,h){const v=(h==null?void 0:h[e][c])||l,p=m.useContext(v);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,vF(s,...t)]}function vF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var xp="rovingFocusGroup.onEntryFocus",xF={bubbles:!1,cancelable:!0},sm="RovingFocusGroup",[py,hS,wF]=Su(sm),[bF,El]=yF(sm,[wF]),[_F,jF]=bF(sm),mS=m.forwardRef((e,t)=>a.jsx(py.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(py.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(NF,{...e,ref:t})})}));mS.displayName=sm;var NF=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),v=Fe(t,h),p=Cl(o),[y=null,x]=zr({prop:i,defaultProp:l,onChange:c}),[w,g]=m.useState(!1),b=rr(u),j=hS(r),S=m.useRef(!1),[N,_]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(xp,b),()=>C.removeEventListener(xp,b)},[b]),a.jsx(_F,{scope:r,orientation:n,dir:p,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(C=>x(C),[x]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>_(C=>C-1),[]),children:a.jsx(xe.div,{tabIndex:w||N===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{S.current=!0}),onFocus:ae(e.onFocus,C=>{const E=!S.current;if(C.target===C.currentTarget&&E&&!w){const T=new CustomEvent(xp,xF);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=j().filter(L=>L.focusable),F=I.find(L=>L.active),R=I.find(L=>L.id===y),U=[F,R,...I].filter(Boolean).map(L=>L.ref.current);yS(U,d)}}S.current=!1}),onBlur:ae(e.onBlur,()=>g(!1))})})}),pS="RovingFocusGroupItem",gS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,l=en(),c=o||l,u=jF(pS,r),d=u.currentTabStopId===c,f=hS(r),{onFocusableItemAdd:h,onFocusableItemRemove:v}=u;return m.useEffect(()=>{if(n)return h(),()=>v()},[n,h,v]),a.jsx(py.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:a.jsx(xe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:ae(e.onMouseDown,p=>{n?u.onItemFocus(c):p.preventDefault()}),onFocus:ae(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ae(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const y=CF(p,u.orientation,u.dir);if(y!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=f().filter(g=>g.focusable).map(g=>g.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const g=w.indexOf(p.currentTarget);w=u.loop?EF(w,g+1):w.slice(g+1)}setTimeout(()=>yS(w))}})})})});gS.displayName=pS;var SF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CF(e,t,r){const n=kF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SF[n]}function yS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function EF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mx=mS,px=gS,PF=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qo=new WeakMap,Rd=new WeakMap,Ad={},wp=0,vS=function(e){return e&&(e.host||vS(e.parentNode))},TF=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=vS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},RF=function(e,t,r,n){var s=TF(t,Array.isArray(e)?e:[e]);Ad[r]||(Ad[r]=new WeakMap);var o=Ad[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var v=h.getAttribute(n),p=v!==null&&v!=="false",y=(Qo.get(h)||0)+1,x=(o.get(h)||0)+1;Qo.set(h,y),o.set(h,x),i.push(h),y===1&&p&&Rd.set(h,!0),x===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),wp++,function(){i.forEach(function(f){var h=Qo.get(f)-1,v=o.get(f)-1;Qo.set(f,h),o.set(f,v),h||(Rd.has(f)||f.removeAttribute(n),Rd.delete(f)),v||f.removeAttribute(r)}),wp--,wp||(Qo=new WeakMap,Qo=new WeakMap,Rd=new WeakMap,Ad={})}},am=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=PF(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),RF(n,s,r,"aria-hidden")):function(){return null}},ts=function(){return ts=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ts.apply(this,arguments)};function xS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function AF(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var ef="right-scroll-bar-position",tf="width-before-scroll-bar",OF="with-scroll-bars-hidden",IF="--removed-body-scroll-bar-size";function bp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MF(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var DF=typeof window<"u"?m.useLayoutEffect:m.useEffect,zb=new WeakMap;function LF(e,t){var r=MF(null,function(n){return e.forEach(function(s){return bp(s,n)})});return DF(function(){var n=zb.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||bp(l,null)}),o.forEach(function(l){s.has(l)||bp(l,i)})}zb.set(r,e)},[e]),r}function FF(e){return e}function $F(e,t){t===void 0&&(t=FF);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function UF(e){e===void 0&&(e={});var t=$F(null);return t.options=ts({async:!0,ssr:!1},e),t}var wS=function(e){var t=e.sideCar,r=xS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,ts({},r))};wS.isSideCarExport=!0;function BF(e,t){return e.useMedium(t),wS}var bS=UF(),_p=function(){},om=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:_p,onWheelCapture:_p,onTouchMoveCapture:_p}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,v=e.noIsolation,p=e.inert,y=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,g=e.gapMode,b=xS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=LF([r,t]),N=ts(ts({},b),s);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:bS,removeScrollBar:u,shards:f,noIsolation:v,inert:p,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:g}),i?m.cloneElement(m.Children.only(l),ts(ts({},N),{ref:S})):m.createElement(w,ts({},N,{className:c,ref:S}),l))});om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};om.classNames={fullWidth:tf,zeroRight:ef};var zF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zF();return t&&e.setAttribute("nonce",t),e}function WF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HF=function(){var e=0,t=null;return{add:function(r){e==0&&(t=VF())&&(WF(t,r),qF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GF=function(){var e=HF();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},_S=function(){var e=GF(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},KF={left:0,top:0,right:0,gap:0},jp=function(e){return parseInt(e||"",10)||0},YF=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[jp(r),jp(n),jp(s)]},QF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KF;var t=YF(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},JF=_S(),Ti="data-scroll-locked",ZF=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(OF,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ti,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ef,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tf,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ef," .").concat(ef,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tf," .").concat(tf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ti,`] {
    `).concat(IF,": ").concat(l,`px;
  }
`)},Vb=function(){var e=parseInt(document.body.getAttribute(Ti)||"0",10);return isFinite(e)?e:0},XF=function(){m.useEffect(function(){return document.body.setAttribute(Ti,(Vb()+1).toString()),function(){var e=Vb()-1;e<=0?document.body.removeAttribute(Ti):document.body.setAttribute(Ti,e.toString())}},[])},e$=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;XF();var o=m.useMemo(function(){return QF(s)},[s]);return m.createElement(JF,{styles:ZF(o,!t,s,r?"":"!important")})},gy=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return gy=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{gy=!1}var Jo=gy?{passive:!1}:!1,t$=function(e){return e.tagName==="TEXTAREA"},jS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!t$(e)&&r[t]==="visible")},r$=function(e){return jS(e,"overflowY")},n$=function(e){return jS(e,"overflowX")},Wb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=NS(e,n);if(s){var o=SS(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},s$=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},a$=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},NS=function(e,t){return e==="v"?r$(t):n$(t)},SS=function(e,t){return e==="v"?s$(t):a$(t)},o$=function(e,t){return e==="h"&&t==="rtl"?-1:1},i$=function(e,t,r,n,s){var o=o$(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var v=SS(e,l),p=v[0],y=v[1],x=v[2],w=y-x-o*p;(p||w)&&NS(e,l)&&(f+=w,h+=p),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Id=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qb=function(e){return[e.deltaX,e.deltaY]},Hb=function(e){return e&&"current"in e?e.current:e},l$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},c$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},u$=0,Zo=[];function d$(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(u$++)[0],o=m.useState(_S)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=AF([e.lockRef.current],(e.shards||[]).map(Hb),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var w=Id(y),g=r.current,b="deltaX"in y?y.deltaX:g[0]-w[0],j="deltaY"in y?y.deltaY:g[1]-w[1],S,N=y.target,_=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in y&&_==="h"&&N.type==="range")return!1;var C=Wb(_,N);if(!C)return!0;if(C?S=_:(S=_==="v"?"h":"v",C=Wb(_,N)),!C)return!1;if(!n.current&&"changedTouches"in y&&(b||j)&&(n.current=S),!S)return!0;var E=n.current||S;return i$(E,x,y,E==="h"?b:j,!0)},[]),c=m.useCallback(function(y){var x=y;if(!(!Zo.length||Zo[Zo.length-1]!==o)){var w="deltaY"in x?qb(x):Id(x),g=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&l$(S.delta,w)})[0];if(g&&g.should){x.cancelable&&x.preventDefault();return}if(!g){var b=(i.current.shards||[]).map(Hb).filter(Boolean).filter(function(S){return S.contains(x.target)}),j=b.length>0?l(x,b[0]):!i.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(y,x,w,g){var b={name:y,delta:x,target:w,should:g,shadowParent:f$(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=m.useCallback(function(y){r.current=Id(y),n.current=void 0},[]),f=m.useCallback(function(y){u(y.type,qb(y),y.target,l(y,e.lockRef.current))},[]),h=m.useCallback(function(y){u(y.type,Id(y),y.target,l(y,e.lockRef.current))},[]);m.useEffect(function(){return Zo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Jo),document.addEventListener("touchmove",c,Jo),document.addEventListener("touchstart",d,Jo),function(){Zo=Zo.filter(function(y){return y!==o}),document.removeEventListener("wheel",c,Jo),document.removeEventListener("touchmove",c,Jo),document.removeEventListener("touchstart",d,Jo)}},[]);var v=e.removeScrollBar,p=e.inert;return m.createElement(m.Fragment,null,p?m.createElement(o,{styles:c$(s)}):null,v?m.createElement(e$,{gapMode:e.gapMode}):null)}function f$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const h$=BF(bS,d$);var Du=m.forwardRef(function(e,t){return m.createElement(om,ts({},e,{ref:t,sideCar:h$}))});Du.classNames=om.classNames;var yy=["Enter"," "],m$=["ArrowDown","PageUp","Home"],kS=["ArrowUp","PageDown","End"],p$=[...m$,...kS],g$={ltr:[...yy,"ArrowRight"],rtl:[...yy,"ArrowLeft"]},y$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lu="Menu",[Yc,v$,x$]=Su(Lu),[Vo,CS]=fr(Lu,[x$,Ua,El]),im=Ua(),ES=El(),[w$,Wo]=Vo(Lu),[b$,Fu]=Vo(Lu),PS=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=im(t),[c,u]=m.useState(null),d=m.useRef(!1),f=rr(o),h=Cl(s);return m.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),a.jsx(Zv,{...l,children:a.jsx(w$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(b$,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};PS.displayName=Lu;var _$="MenuAnchor",gx=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=im(r);return a.jsx(Ru,{...s,...n,ref:t})});gx.displayName=_$;var yx="MenuPortal",[j$,TS]=Vo(yx,{forceMount:void 0}),RS=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Wo(yx,t);return a.jsx(j$,{scope:t,forceMount:r,children:a.jsx(hr,{present:r||o.open,children:a.jsx(gl,{asChild:!0,container:s,children:n})})})};RS.displayName=yx;var vn="MenuContent",[N$,vx]=Vo(vn),AS=m.forwardRef((e,t)=>{const r=TS(vn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Wo(vn,e.__scopeMenu),i=Fu(vn,e.__scopeMenu);return a.jsx(Yc.Provider,{scope:e.__scopeMenu,children:a.jsx(hr,{present:n||o.open,children:a.jsx(Yc.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(S$,{...s,ref:t}):a.jsx(k$,{...s,ref:t})})})})}),S$=m.forwardRef((e,t)=>{const r=Wo(vn,e.__scopeMenu),n=m.useRef(null),s=Fe(t,n);return m.useEffect(()=>{const o=n.current;if(o)return am(o)},[]),a.jsx(xx,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),k$=m.forwardRef((e,t)=>{const r=Wo(vn,e.__scopeMenu);return a.jsx(xx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),xx=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,disableOutsideScroll:p,...y}=e,x=Wo(vn,r),w=Fu(vn,r),g=im(r),b=ES(r),j=v$(r),[S,N]=m.useState(null),_=m.useRef(null),C=Fe(t,_,x.onContentChange),E=m.useRef(0),T=m.useRef(""),I=m.useRef(0),F=m.useRef(null),R=m.useRef("right"),A=m.useRef(0),U=p?Du:m.Fragment,L=p?{as:is,allowPinchZoom:!0}:void 0,M=P=>{var H,G;const W=T.current+P,V=j().filter(X=>!X.disabled),Z=document.activeElement,fe=(H=V.find(X=>X.ref.current===Z))==null?void 0:H.textValue,le=V.map(X=>X.textValue),ke=F$(le,W,fe),ge=(G=V.find(X=>X.textValue===ke))==null?void 0:G.ref.current;(function X(se){T.current=se,window.clearTimeout(E.current),se!==""&&(E.current=window.setTimeout(()=>X(""),1e3))})(W),ge&&setTimeout(()=>ge.focus())};m.useEffect(()=>()=>window.clearTimeout(E.current),[]),nm();const k=m.useCallback(P=>{var V,Z;return R.current===((V=F.current)==null?void 0:V.side)&&U$(P,(Z=F.current)==null?void 0:Z.area)},[]);return a.jsx(N$,{scope:r,searchRef:T,onItemEnter:m.useCallback(P=>{k(P)&&P.preventDefault()},[k]),onItemLeave:m.useCallback(P=>{var W;k(P)||((W=_.current)==null||W.focus(),N(null))},[k]),onTriggerLeave:m.useCallback(P=>{k(P)&&P.preventDefault()},[k]),pointerGraceTimerRef:I,onPointerGraceIntentChange:m.useCallback(P=>{F.current=P},[]),children:a.jsx(U,{...L,children:a.jsx(Mu,{asChild:!0,trapped:s,onMountAutoFocus:ae(o,P=>{var W;P.preventDefault(),(W=_.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Uo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:v,children:a.jsx(mx,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:ae(c,P=>{w.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Wh,{role:"menu","aria-orientation":"vertical","data-state":KS(x.open),"data-radix-menu-content":"",dir:w.dir,...g,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:ae(y.onKeyDown,P=>{const V=P.target.closest("[data-radix-menu-content]")===P.currentTarget,Z=P.ctrlKey||P.altKey||P.metaKey,fe=P.key.length===1;V&&(P.key==="Tab"&&P.preventDefault(),!Z&&fe&&M(P.key));const le=_.current;if(P.target!==le||!p$.includes(P.key))return;P.preventDefault();const ge=j().filter(H=>!H.disabled).map(H=>H.ref.current);kS.includes(P.key)&&ge.reverse(),D$(ge)}),onBlur:ae(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:ae(e.onPointerMove,Qc(P=>{const W=P.target,V=A.current!==P.clientX;if(P.currentTarget.contains(W)&&V){const Z=P.clientX>A.current?"right":"left";R.current=Z,A.current=P.clientX}}))})})})})})})});AS.displayName=vn;var C$="MenuGroup",wx=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(xe.div,{role:"group",...n,ref:t})});wx.displayName=C$;var E$="MenuLabel",OS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(xe.div,{...n,ref:t})});OS.displayName=E$;var qf="MenuItem",Gb="menu.itemSelect",lm=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=m.useRef(null),i=Fu(qf,e.__scopeMenu),l=vx(qf,e.__scopeMenu),c=Fe(t,o),u=m.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(Gb,{bubbles:!0,cancelable:!0});f.addEventListener(Gb,v=>n==null?void 0:n(v),{once:!0}),Rv(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(IS,{...s,ref:c,disabled:r,onClick:ae(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ae(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ae(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||yy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});lm.displayName=qf;var IS=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=vx(qf,r),l=ES(r),c=m.useRef(null),u=Fe(t,c),[d,f]=m.useState(!1),[h,v]=m.useState("");return m.useEffect(()=>{const p=c.current;p&&v((p.textContent??"").trim())},[o.children]),a.jsx(Yc.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(px,{asChild:!0,...l,focusable:!n,children:a.jsx(xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:ae(e.onPointerMove,Qc(p=>{n?i.onItemLeave(p):(i.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(e.onPointerLeave,Qc(p=>i.onItemLeave(p))),onFocus:ae(e.onFocus,()=>f(!0)),onBlur:ae(e.onBlur,()=>f(!1))})})})}),P$="MenuCheckboxItem",MS=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(US,{scope:e.__scopeMenu,checked:r,children:a.jsx(lm,{role:"menuitemcheckbox","aria-checked":Hf(r)?"mixed":r,...s,ref:t,"data-state":_x(r),onSelect:ae(s.onSelect,()=>n==null?void 0:n(Hf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});MS.displayName=P$;var DS="MenuRadioGroup",[T$,R$]=Vo(DS,{value:void 0,onValueChange:()=>{}}),LS=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=rr(n);return a.jsx(T$,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(wx,{...s,ref:t})})});LS.displayName=DS;var FS="MenuRadioItem",$S=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=R$(FS,e.__scopeMenu),o=r===s.value;return a.jsx(US,{scope:e.__scopeMenu,checked:o,children:a.jsx(lm,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":_x(o),onSelect:ae(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});$S.displayName=FS;var bx="MenuItemIndicator",[US,A$]=Vo(bx,{checked:!1}),BS=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=A$(bx,r);return a.jsx(hr,{present:n||Hf(o.checked)||o.checked===!0,children:a.jsx(xe.span,{...s,ref:t,"data-state":_x(o.checked)})})});BS.displayName=bx;var O$="MenuSeparator",zS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});zS.displayName=O$;var I$="MenuArrow",VS=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=im(r);return a.jsx(qh,{...s,...n,ref:t})});VS.displayName=I$;var M$="MenuSub",[XW,WS]=Vo(M$),Zl="MenuSubTrigger",qS=m.forwardRef((e,t)=>{const r=Wo(Zl,e.__scopeMenu),n=Fu(Zl,e.__scopeMenu),s=WS(Zl,e.__scopeMenu),o=vx(Zl,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(gx,{asChild:!0,...u,children:a.jsx(IS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":KS(r.open),...e,ref:Oh(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ae(e.onPointerMove,Qc(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ae(e.onPointerLeave,Qc(f=>{var v,p;d();const h=(v=r.content)==null?void 0:v.getBoundingClientRect();if(h){const y=(p=r.content)==null?void 0:p.dataset.side,x=y==="right",w=x?-5:5,g=h[x?"left":"right"],b=h[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:g,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:g,y:h.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ae(e.onKeyDown,f=>{var v;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||g$[n.dir].includes(f.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),f.preventDefault())})})})});qS.displayName=Zl;var HS="MenuSubContent",GS=m.forwardRef((e,t)=>{const r=TS(vn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Wo(vn,e.__scopeMenu),i=Fu(vn,e.__scopeMenu),l=WS(HS,e.__scopeMenu),c=m.useRef(null),u=Fe(t,c);return a.jsx(Yc.Provider,{scope:e.__scopeMenu,children:a.jsx(hr,{present:n||o.open,children:a.jsx(Yc.Slot,{scope:e.__scopeMenu,children:a.jsx(xx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ae(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ae(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ae(e.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),h=y$[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(v=l.trigger)==null||v.focus(),d.preventDefault())})})})})})});GS.displayName=HS;function KS(e){return e?"open":"closed"}function Hf(e){return e==="indeterminate"}function _x(e){return Hf(e)?"indeterminate":e?"checked":"unchecked"}function D$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function L$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function F$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=L$(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function $$(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function U$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return $$(r,t)}function Qc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var B$=PS,z$=gx,V$=RS,W$=AS,q$=wx,H$=OS,G$=lm,K$=MS,Y$=LS,Q$=$S,J$=BS,Z$=zS,X$=VS,e6=qS,t6=GS,jx="DropdownMenu",[r6,eq]=fr(jx,[CS]),kr=CS(),[n6,YS]=r6(jx),QS=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=kr(t),u=m.useRef(null),[d=!1,f]=zr({prop:s,defaultProp:o,onChange:i});return a.jsx(n6,{scope:t,triggerId:en(),triggerRef:u,contentId:en(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(B$,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};QS.displayName=jx;var JS="DropdownMenuTrigger",ZS=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=YS(JS,r),i=kr(r);return a.jsx(z$,{asChild:!0,...i,children:a.jsx(xe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Oh(t,o.triggerRef),onPointerDown:ae(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ae(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ZS.displayName=JS;var s6="DropdownMenuPortal",XS=e=>{const{__scopeDropdownMenu:t,...r}=e,n=kr(t);return a.jsx(V$,{...n,...r})};XS.displayName=s6;var ek="DropdownMenuContent",tk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=YS(ek,r),o=kr(r),i=m.useRef(!1);return a.jsx(W$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:ae(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ae(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tk.displayName=ek;var a6="DropdownMenuGroup",o6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(q$,{...s,...n,ref:t})});o6.displayName=a6;var i6="DropdownMenuLabel",rk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(H$,{...s,...n,ref:t})});rk.displayName=i6;var l6="DropdownMenuItem",nk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(G$,{...s,...n,ref:t})});nk.displayName=l6;var c6="DropdownMenuCheckboxItem",sk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(K$,{...s,...n,ref:t})});sk.displayName=c6;var u6="DropdownMenuRadioGroup",ak=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(Y$,{...s,...n,ref:t})});ak.displayName=u6;var d6="DropdownMenuRadioItem",ok=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(Q$,{...s,...n,ref:t})});ok.displayName=d6;var f6="DropdownMenuItemIndicator",ik=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(J$,{...s,...n,ref:t})});ik.displayName=f6;var h6="DropdownMenuSeparator",lk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(Z$,{...s,...n,ref:t})});lk.displayName=h6;var m6="DropdownMenuArrow",p6=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(X$,{...s,...n,ref:t})});p6.displayName=m6;var g6="DropdownMenuSubTrigger",ck=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(e6,{...s,...n,ref:t})});ck.displayName=g6;var y6="DropdownMenuSubContent",uk=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kr(r);return a.jsx(t6,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uk.displayName=y6;var v6=QS,x6=ZS,w6=XS,dk=tk,fk=rk,hk=nk,mk=sk,b6=ak,pk=ok,gk=ik,yk=lk,vk=ck,xk=uk;const cm=v6,um=x6,_6=b6,j6=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(vk,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Fh,{className:"ml-auto h-4 w-4"})]}));j6.displayName=vk.displayName;const N6=m.forwardRef(({className:e,...t},r)=>a.jsx(xk,{ref:r,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));N6.displayName=xk.displayName;const $u=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(w6,{children:a.jsx(dk,{ref:n,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));$u.displayName=dk.displayName;const Zs=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(hk,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Zs.displayName=hk.displayName;const S6=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(mk,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(gk,{children:a.jsx(yl,{className:"h-4 w-4"})})}),t]}));S6.displayName=mk.displayName;const Xl=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(pk,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(gk,{children:a.jsx(SN,{className:"h-2 w-2 fill-current"})})}),t]}));Xl.displayName=pk.displayName;const k6=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(fk,{ref:n,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));k6.displayName=fk.displayName;const C6=m.forwardRef(({className:e,...t},r)=>a.jsx(yk,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));C6.displayName=yk.displayName;const He=()=>{const[e,t]=m.useState(!1),{user:r,signOut:n,loading:s}=jt(),{isAdmin:o,isSuperAdmin:i,isLoungeAdmin:l,roleId:c,loading:u}=Sr(),d=nr(),f=za(),[h,v]=m.useState(null),[p,y]=m.useState(null),[x,w]=m.useState(null);m.useEffect(()=>{r&&!s&&(async()=>{if(!r)return;const{data:E}=await z.from("profiles").select("username").eq("id",r.id).single();E&&v(E.username);const{data:T}=await z.from("player_rankings").select("elo_rating").eq("user_id",r.id).single();if(T&&y(T.elo_rating),l){const{data:I}=await z.from("lounges").select("lounge_name").eq("user_id",r.id).single();I&&w(I.lounge_name)}})()},[r,s,l]);const g=()=>{t(!e)},b=()=>{d("/login")},j=async()=>{await n()},S=()=>{d("/profile")},N=()=>{d("/my-tournaments")},_=C=>f.pathname===C;return a.jsx("nav",{className:"bg-[#1a1a1a] shadow-md border-b border-gray-800 py-3",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Ue,{to:"/",className:"text-xl font-bold text-gray-100",children:"Play It"}),a.jsxs("div",{className:"hidden md:flex space-x-6",children:[a.jsxs(Ue,{to:"/",className:`flex items-center ${_("/")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(Uw,{className:"h-4 w-4 mr-1"}),"Home"]}),a.jsxs(Ue,{to:"/tournaments",className:`flex items-center ${_("/tournaments")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(cr,{className:"h-4 w-4 mr-1"}),"Tournaments"]}),a.jsxs(Ue,{to:"/rankings",className:`flex items-center ${_("/rankings")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx($w,{className:"h-4 w-4 mr-1"}),"Rankings"]}),a.jsxs(Ue,{to:"/gaming-lounges",className:`flex items-center ${_("/gaming-lounges")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"}),"Gaming Lounges"]}),!u&&(o||i)&&a.jsxs(Ue,{to:"/admin",className:`flex items-center ${_("/admin")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(Si,{className:"h-4 w-4 mr-1"}),"Admin"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[s?a.jsx("div",{className:"h-10 w-10 animate-pulse rounded-full bg-gray-700"}):r?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"hidden md:flex items-center mr-2",children:h&&a.jsxs("span",{className:"text-sm font-medium text-gray-300",children:[h,p&&c===1&&` (${p})`]})}),a.jsxs(cm,{children:[a.jsx(um,{asChild:!0,children:a.jsx(J,{variant:"ghost",size:"icon",className:"rounded-full text-gray-300 hover:text-white hover:bg-gray-800",children:a.jsx(ba,{className:"h-5 w-5"})})}),a.jsxs($u,{align:"end",className:"w-56 bg-[#1a1a1a] border-gray-800",children:[a.jsx(Zs,{onClick:S,className:"cursor-pointer hover:bg-gray-800 text-gray-300",children:a.jsxs("div",{className:"py-1 flex items-center",children:[a.jsx(ba,{className:"h-4 w-4 mr-2"}),"Profile"]})}),a.jsx(Zs,{onClick:N,className:"cursor-pointer hover:bg-gray-800 text-gray-300",children:a.jsxs("div",{className:"py-1 flex items-center",children:[a.jsx(cr,{className:"h-4 w-4 mr-2"}),"My Tournaments"]})}),!u&&l&&a.jsx(Zs,{onClick:()=>d("/lounge/manage"),className:"cursor-pointer hover:bg-gray-800 text-gray-300",children:a.jsxs("div",{className:"py-1 flex items-center",children:[a.jsx(Vw,{className:"h-4 w-4 mr-2"}),"Manage Lounge"]})}),!u&&(o||i)&&a.jsx(Zs,{onClick:()=>d("/admin"),className:"cursor-pointer hover:bg-gray-800 text-gray-300",children:a.jsxs("div",{className:"py-1 flex items-center",children:[a.jsx(Si,{className:"h-4 w-4 mr-2"}),"Admin Dashboard"]})}),a.jsx(Zs,{onClick:j,className:"cursor-pointer hover:bg-gray-800 text-red-400",children:a.jsxs("div",{className:"py-1 flex items-center",children:[a.jsx(Dg,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]})]}):a.jsx(J,{variant:"default",className:"bg-gaming-primary hover:bg-gaming-primary/90",onClick:b,children:"Login"}),a.jsx("div",{className:"md:hidden",children:a.jsx(J,{variant:"ghost",size:"icon",onClick:g,className:"text-gray-300 hover:text-white hover:bg-gray-800",children:e?a.jsx(Pu,{className:"h-5 w-5"}):a.jsx(dO,{className:"h-5 w-5"})})})]})]}),e&&a.jsx("div",{className:"md:hidden mt-4 pb-2",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs(Ue,{to:"/",className:`flex items-center py-2 ${_("/")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(Uw,{className:"h-4 w-4 mr-2"}),"Home"]}),a.jsxs(Ue,{to:"/tournaments",className:`flex items-center py-2 ${_("/tournaments")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(cr,{className:"h-4 w-4 mr-2"}),"Tournaments"]}),a.jsxs(Ue,{to:"/rankings",className:`flex items-center py-2 ${_("/rankings")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx($w,{className:"h-4 w-4 mr-2"}),"Rankings"]}),a.jsxs(Ue,{to:"/gaming-lounges",className:`flex items-center py-2 ${_("/gaming-lounges")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Gaming Lounges"]}),!u&&(o||i)&&a.jsxs(Ue,{to:"/admin",className:`flex items-center py-2 ${_("/admin")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(Si,{className:"h-4 w-4 mr-2"}),"Admin"]}),!u&&l&&a.jsxs(Ue,{to:"/lounge/manage",className:`flex items-center py-2 ${_("/lounge/manage")?"text-gaming-primary font-medium":"text-gray-300 hover:text-gaming-primary"}`,children:[a.jsx(Vw,{className:"h-4 w-4 mr-2"}),"Manage Lounge"]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs(Ue,{to:"/profile",className:"flex items-center text-gray-300 hover:text-gaming-primary py-2",children:[a.jsx(ba,{className:"h-4 w-4 mr-2"}),"Profile"]}),a.jsxs(Ue,{to:"/my-tournaments",className:"flex items-center text-gray-300 hover:text-gaming-primary py-2",children:[a.jsx(cr,{className:"h-4 w-4 mr-2"}),"My Tournaments"]}),a.jsxs("button",{onClick:j,className:"flex items-center text-left text-red-400 hover:text-red-300 py-2",children:[a.jsx(Dg,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})]})})},Ge=()=>a.jsx("footer",{className:"bg-[#1a1a1a] shadow-md border-t border-gray-800 py-10",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Ue,{to:"/",className:"text-gray-300 hover:text-gaming-primary",children:"Home"})}),a.jsx("li",{children:a.jsx(Ue,{to:"/tournaments",className:"text-gray-300 hover:text-gaming-primary",children:"Tournaments"})}),a.jsx("li",{children:a.jsx(Ue,{to:"/rankings",className:"text-gray-300 hover:text-gaming-primary",children:"Rankings"})}),a.jsx("li",{children:a.jsx(Ue,{to:"/gaming-lounges",className:"text-gray-300 hover:text-gaming-primary",children:"Gaming Lounges"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Support"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx(Ue,{to:"/contact",className:"text-gray-300 hover:text-gaming-primary",children:"Contact Us"})}),a.jsx("li",{children:a.jsx(Ue,{to:"/faq",className:"text-gray-300 hover:text-gaming-primary",children:"FAQ"})}),a.jsx("li",{children:a.jsx(Ue,{to:"/terms",className:"text-gray-300 hover:text-gaming-primary",children:"Terms of Service"})}),a.jsx("li",{children:a.jsx(Ue,{to:"/privacy",className:"text-gray-300 hover:text-gaming-primary",children:"Privacy Policy"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-100",children:"Connect With Us"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-300 hover:bg-gaming-primary hover:text-white",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx(sO,{className:"w-5 h-5"})]}),a.jsxs("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-300 hover:bg-gaming-primary hover:text-white",children:[a.jsx("span",{className:"sr-only",children:"Twitter"}),a.jsx(pO,{className:"w-5 h-5"})]}),a.jsxs("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-300 hover:bg-gaming-primary hover:text-white",children:[a.jsx("span",{className:"sr-only",children:"Instagram"}),a.jsx(cO,{className:"w-5 h-5"})]}),a.jsxs("a",{href:"#",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-300 hover:bg-gaming-primary hover:text-white",children:[a.jsx("span",{className:"sr-only",children:"Youtube"}),a.jsx(vO,{className:"w-5 h-5"})]})]}),a.jsxs("p",{className:"mt-4 text-gray-400",children:["Copyright  ",new Date().getFullYear()," Play It. All rights reserved."]})]})]})})}),Se=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("rounded-lg border bg-[#1a1a1a] text-card-foreground shadow-sm border-gray-800 transition-all duration-300 card-hover",e),...t}));Se.displayName="Card";const qt=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));qt.displayName="CardHeader";const Ht=m.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight text-gaming-primary",e),...t}));Ht.displayName="CardTitle";const ja=m.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:ee("text-sm text-gray-400",e),...t}));ja.displayName="CardDescription";const Ie=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));Ie.displayName="CardContent";const bs=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));bs.displayName="CardFooter";const Xo=({title:e,icon:t,to:r,onClick:n})=>{const s=a.jsx(Se,{className:"h-full transition-all duration-300 hover:shadow-xl hover:shadow-gaming-primary/20 hover:-translate-y-1 border-t border-gaming-primary/20 bg-gradient-to-b from-[#1a1a1a] to-[#252530] backdrop-blur-sm",children:a.jsxs(Ie,{className:"p-6 flex flex-col items-center text-center",children:[a.jsxs("div",{className:"mb-4 p-5 bg-gradient-to-br from-gaming-primary/20 to-gaming-secondary/10 rounded-full relative group overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gaming-primary to-gaming-secondary rounded-full opacity-0 group-hover:opacity-30 blur-md transition-opacity duration-300"}),a.jsx("div",{className:"relative z-10 text-gaming-primary group-hover:text-white transition-colors duration-300",children:t})]}),a.jsx("h3",{className:"text-xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-gaming-primary to-gaming-secondary",children:e})]})});return n?a.jsx("div",{onClick:n,className:"cursor-pointer h-full",role:"button",tabIndex:0,"aria-label":e,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&n()},children:s}):r?a.jsx(Ue,{to:r,className:"h-full block","aria-label":`Navigate to ${e}`,children:s}):s};var Nx="Avatar",[E6,tq]=fr(Nx),[P6,wk]=E6(Nx),bk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=m.useState("idle");return a.jsx(P6,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(xe.span,{...n,ref:t})})});bk.displayName=Nx;var _k="AvatarImage",jk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=wk(_k,r),l=T6(n,o.referrerPolicy),c=rr(u=>{s(u),i.onImageLoadingStatusChange(u)});return Kt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(xe.img,{...o,ref:t,src:n}):null});jk.displayName=_k;var Nk="AvatarFallback",Sk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=wk(Nk,r),[i,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(xe.span,{...s,ref:t}):null});Sk.displayName=Nk;function T6(e,t){const[r,n]=m.useState("idle");return Kt(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=l=>()=>{s&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var kk=bk,R6=jk,Ck=Sk;const ko=m.forwardRef(({className:e,...t},r)=>a.jsx(kk,{ref:r,className:ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ko.displayName=kk.displayName;const Co=m.forwardRef(({className:e,avatarUrl:t,...r},n)=>{const s=t?Vf(t):r.src;return a.jsx(R6,{ref:n,className:ee("aspect-square h-full w-full",e),src:s,...r})});Co.displayName="AvatarImage";const Eo=m.forwardRef(({className:e,...t},r)=>a.jsx(Ck,{ref:r,className:ee("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Eo.displayName=Ck.displayName;function A6(e){const{data:t,isLoading:r,error:n}=Ft({queryKey:["user-avatar",e],queryFn:async()=>{if(!e)return{avatarUrl:null,username:null};console.log(`Fetching avatar for user ID: ${e}`);const{data:s,error:o}=await z.from("profiles").select("avatar_url, username").eq("id",e).single();if(o)throw console.error(`Error fetching avatar for user ${e}:`,o),o;return console.log(`Avatar data for user ${e}:`,s),{avatarUrl:s!=null&&s.avatar_url?Vf(s.avatar_url):null,username:(s==null?void 0:s.username)||null}},enabled:!!e});return{avatarUrl:(t==null?void 0:t.avatarUrl)||null,username:(t==null?void 0:t.username)||null,isLoading:r,error:n}}const ro=({userId:e,className:t,size:r="md",showFallbackUsername:n=!0})=>{const{avatarUrl:s,username:o,isLoading:i}=A6(e),l={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"},c={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},u=o?o[0].toUpperCase():"U";return a.jsx(ko,{className:ee(l[r],"bg-gray-800",t),children:!i&&s?a.jsx(Co,{src:s,alt:o||"User avatar"}):a.jsx(Eo,{className:"bg-gray-800 text-gray-400",children:n&&!i&&o?u:a.jsx(ba,{className:c[r]})})})},O6=({players:e})=>{const r=[...e].sort((n,s)=>n.rank-s.rank).slice(0,4);return r.length===0?a.jsx("div",{className:"text-center py-8 text-gray-400",children:"No player rankings available yet."}):a.jsxs("div",{className:"flex flex-col items-center w-full",children:[a.jsxs("div",{className:"flex justify-center items-end w-full mb-8 mt-4 space-x-4",children:[r.length>1&&a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ro,{userId:r[1].user_id,className:"border-2 border-silver mb-2",size:"lg"}),a.jsx("div",{className:"bg-silver/20 rounded-full p-2 mb-2",children:a.jsx(Bw,{className:"h-6 w-6 text-silver"})}),a.jsx("div",{className:"h-16 w-20 bg-gradient-to-b from-gray-800 to-gray-900 rounded-t-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl font-bold text-silver",children:"2"})}),a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("div",{className:"font-semibold text-white",children:r[1].name}),a.jsxs("div",{className:"text-xs text-gray-400",children:[r[1].elo_rating," ELO"]})]})]}),r.length>0&&a.jsxs("div",{className:"flex flex-col items-center z-10",children:[a.jsx(ro,{userId:r[0].user_id,className:"border-2 border-yellow-500 bg-yellow-900/30 mb-2",size:"lg"}),a.jsx("div",{className:"bg-yellow-500/20 rounded-full p-2 mb-2",children:a.jsx(cr,{className:"h-8 w-8 text-yellow-500"})}),a.jsx("div",{className:"h-24 w-24 bg-gradient-to-b from-yellow-900/40 to-yellow-900/20 rounded-t-lg flex items-center justify-center",children:a.jsx("span",{className:"text-3xl font-bold text-yellow-500",children:"1"})}),a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("div",{className:"font-bold text-lg text-white",children:r[0].name}),a.jsxs("div",{className:"text-sm text-gray-300",children:[r[0].elo_rating," ELO"]})]})]}),r.length>2&&a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ro,{userId:r[2].user_id,className:"border-2 border-amber-700 mb-2",size:"md"}),a.jsx("div",{className:"bg-amber-700/20 rounded-full p-2 mb-2",children:a.jsx(Bw,{className:"h-5 w-5 text-amber-700"})}),a.jsx("div",{className:"h-12 w-16 bg-gradient-to-b from-gray-800 to-gray-900 rounded-t-lg flex items-center justify-center",children:a.jsx("span",{className:"text-xl font-bold text-amber-700",children:"3"})}),a.jsxs("div",{className:"text-center mt-2",children:[a.jsx("div",{className:"font-semibold text-white",children:r[2].name}),a.jsxs("div",{className:"text-xs text-gray-400",children:[r[2].elo_rating," ELO"]})]})]})]}),r.length>3&&a.jsx("div",{className:"w-full max-w-md border border-gray-700 bg-gray-800/30 rounded-lg p-3 mt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-9 w-9 rounded-full bg-gray-700 text-gray-300 font-semibold",children:"4"}),a.jsx(ro,{userId:r[3].user_id,className:"border border-gray-700",size:"sm"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-white",children:r[3].name}),a.jsxs("div",{className:"text-xs text-gray-400",children:[r[3].elo_rating," ELO  ",r[3].win_rate," Win Rate"]})]})]})})]})},I6=({players:e,isLoading:t})=>t?a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gaming-primary"})}):a.jsxs(Se,{className:"bg-gradient-to-br from-[#1a1a1a] to-[#232323] border border-gray-800 shadow-xl",children:[a.jsxs(qt,{className:"text-center space-y-2",children:[a.jsx(Ht,{className:"text-3xl font-bold bg-gradient-to-r from-gaming-primary to-gaming-secondary bg-clip-text text-transparent",children:"Top Players"}),a.jsx("p",{className:"text-gray-400",children:"Our highest ranked competitors"})]}),a.jsx(Ie,{children:a.jsx(O6,{players:e})})]});function M6(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kb(e){return M6(e)||Array.isArray(e)}function D6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Sx(e,t){const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),o=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==o?!1:r.every(i=>{const l=e[i],c=t[i];return typeof l=="function"?`${l}`==`${c}`:!Kb(l)||!Kb(c)?l===c:Sx(l,c)})}function Yb(e){return e.concat().sort((t,r)=>t.name>r.name?1:-1).map(t=>t.options)}function L6(e,t){if(e.length!==t.length)return!1;const r=Yb(e),n=Yb(t);return r.every((s,o)=>{const i=n[o];return Sx(s,i)})}function kx(e){return typeof e=="number"}function vy(e){return typeof e=="string"}function dm(e){return typeof e=="boolean"}function Qb(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ct(e){return Math.abs(e)}function Cx(e){return Math.sign(e)}function _c(e,t){return Ct(e-t)}function F6(e,t){if(e===0||t===0||Ct(e)<=Ct(t))return 0;const r=_c(Ct(e),Ct(t));return Ct(r/e)}function Jc(e){return Zc(e).map(Number)}function Dn(e){return e[Uu(e)]}function Uu(e){return Math.max(0,e.length-1)}function Ex(e,t){return t===Uu(e)}function Jb(e,t=0){return Array.from(Array(e),(r,n)=>t+n)}function Zc(e){return Object.keys(e)}function Ek(e,t){return[e,t].reduce((r,n)=>(Zc(n).forEach(s=>{const o=r[s],i=n[s],l=Qb(o)&&Qb(i);r[s]=l?Ek(o,i):i}),r),{})}function xy(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function $6(e,t){const r={start:n,center:s,end:o};function n(){return 0}function s(c){return o(c)/2}function o(c){return t-c}function i(c,u){return vy(e)?r[e](c):e(t,c,u)}return{measure:i}}function Xc(){let e=[];function t(s,o,i,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(o,i,l),c=()=>s.removeEventListener(o,i,l);else{const u=s;u.addListener(i),c=()=>u.removeListener(i)}return e.push(c),n}function r(){e=e.filter(s=>s())}const n={add:t,clear:r};return n}function U6(e,t,r,n){const s=Xc(),o=1e3/60;let i=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&p()})}function d(){v(),s.clear()}function f(x){if(!c)return;i||(i=x);const w=x-i;for(i=x,l+=w;l>=o;)r(o),l-=o;const g=l/o;n(g),c&&t.requestAnimationFrame(f)}function h(){c||(c=t.requestAnimationFrame(f))}function v(){t.cancelAnimationFrame(c),i=null,l=0,c=0}function p(){i=null,l=0}return{init:u,destroy:d,start:h,stop:v,update:()=>r(o),render:n}}function B6(e,t){const r=t==="rtl",n=e==="y",s=n?"y":"x",o=n?"x":"y",i=!n&&r?-1:1,l=d(),c=f();function u(p){const{height:y,width:x}=p;return n?y:x}function d(){return n?"top":r?"right":"left"}function f(){return n?"bottom":r?"left":"right"}function h(p){return p*i}return{scroll:s,cross:o,startEdge:l,endEdge:c,measureSize:u,direction:h}}function Po(e=0,t=0){const r=Ct(e-t);function n(u){return u<e}function s(u){return u>t}function o(u){return n(u)||s(u)}function i(u){return o(u)?n(u)?e:t:u}function l(u){return r?u-r*Math.ceil((u-t)/r):u}return{length:r,max:t,min:e,constrain:i,reachedAny:o,reachedMax:s,reachedMin:n,removeOffset:l}}function Pk(e,t,r){const{constrain:n}=Po(0,e),s=e+1;let o=i(t);function i(h){return r?Ct((s+h)%s):n(h)}function l(){return o}function c(h){return o=i(h),f}function u(h){return d().set(l()+h)}function d(){return Pk(e,l(),r)}const f={get:l,set:c,add:u,clone:d};return f}function z6(e,t,r,n,s,o,i,l,c,u,d,f,h,v,p,y,x,w,g){const{cross:b,direction:j}=e,S=["INPUT","SELECT","TEXTAREA"],N={passive:!1},_=Xc(),C=Xc(),E=Po(50,225).constrain(v.measure(20)),T={mouse:300,touch:400},I={mouse:500,touch:600},F=p?43:25;let R=!1,A=0,U=0,L=!1,M=!1,k=!1,P=!1;function W(Q){if(!g)return;function je(Ze){(dm(g)||g(Q,Ze))&&ge(Ze)}const Re=t;_.add(Re,"dragstart",Ze=>Ze.preventDefault(),N).add(Re,"touchmove",()=>{},N).add(Re,"touchend",()=>{}).add(Re,"touchstart",je).add(Re,"mousedown",je).add(Re,"touchcancel",G).add(Re,"contextmenu",G).add(Re,"click",X,!0)}function V(){_.clear(),C.clear()}function Z(){const Q=P?r:t;C.add(Q,"touchmove",H,N).add(Q,"touchend",G).add(Q,"mousemove",H,N).add(Q,"mouseup",G)}function fe(Q){const je=Q.nodeName||"";return S.includes(je)}function le(){return(p?I:T)[P?"mouse":"touch"]}function ke(Q,je){const Re=f.add(Cx(Q)*-1),Ze=d.byDistance(Q,!p).distance;return p||Ct(Q)<E?Ze:x&&je?Ze*.5:d.byIndex(Re.get(),0).distance}function ge(Q){const je=xy(Q,n);P=je,k=p&&je&&!Q.buttons&&R,R=_c(s.get(),i.get())>=2,!(je&&Q.button!==0)&&(fe(Q.target)||(L=!0,o.pointerDown(Q),u.useFriction(0).useDuration(0),s.set(i),Z(),A=o.readPoint(Q),U=o.readPoint(Q,b),h.emit("pointerDown")))}function H(Q){if(!xy(Q,n)&&Q.touches.length>=2)return G(Q);const Re=o.readPoint(Q),Ze=o.readPoint(Q,b),Je=_c(Re,A),mt=_c(Ze,U);if(!M&&!P&&(!Q.cancelable||(M=Je>mt,!M)))return G(Q);const O=o.pointerMove(Q);Je>y&&(k=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(j(O)),Q.preventDefault()}function G(Q){const Re=d.byDistance(0,!1).index!==f.get(),Ze=o.pointerUp(Q)*le(),Je=ke(j(Ze),Re),mt=F6(Ze,Je),O=F-10*mt,$=w+mt/50;M=!1,L=!1,C.clear(),u.useDuration(O).useFriction($),c.distance(Je,!p),P=!1,h.emit("pointerUp")}function X(Q){k&&(Q.stopPropagation(),Q.preventDefault(),k=!1)}function se(){return L}return{init:W,destroy:V,pointerDown:se}}function V6(e,t){let n,s;function o(f){return f.timeStamp}function i(f,h){const p=`client${(h||e.scroll)==="x"?"X":"Y"}`;return(xy(f,t)?f:f.touches[0])[p]}function l(f){return n=f,s=f,i(f)}function c(f){const h=i(f)-i(s),v=o(f)-o(n)>170;return s=f,v&&(n=f),h}function u(f){if(!n||!s)return 0;const h=i(s)-i(n),v=o(f)-o(n),p=o(f)-o(s)>170,y=h/v;return v&&!p&&Ct(y)>.1?y:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:i}}function W6(){function e(r){const{offsetTop:n,offsetLeft:s,offsetWidth:o,offsetHeight:i}=r;return{top:n,right:s+o,bottom:n+i,left:s,width:o,height:i}}return{measure:e}}function q6(e){function t(n){return e*(n/100)}return{measure:t}}function H6(e,t,r,n,s,o,i){const l=[e].concat(n);let c,u,d=[],f=!1;function h(x){return s.measureSize(i.measure(x))}function v(x){if(!o)return;u=h(e),d=n.map(h);function w(g){for(const b of g){if(f)return;const j=b.target===e,S=n.indexOf(b.target),N=j?u:d[S],_=h(j?e:n[S]);if(Ct(_-N)>=.5){x.reInit(),t.emit("resize");break}}}c=new ResizeObserver(g=>{(dm(o)||o(x,g))&&w(g)}),r.requestAnimationFrame(()=>{l.forEach(g=>c.observe(g))})}function p(){f=!0,c&&c.disconnect()}return{init:v,destroy:p}}function G6(e,t,r,n,s,o){let i=0,l=0,c=s,u=o,d=e.get(),f=0;function h(N){const _=N/1e3,C=c*_,E=n.get()-e.get(),T=!c;let I=0;return T?(i=0,r.set(n),e.set(n),I=E):(r.set(e),i+=E/C,i*=u,d+=i,e.add(i*_),I=d-f),l=Cx(I),f=d,S}function v(){const N=n.get()-t.get();return Ct(N)<.001}function p(){return c}function y(){return l}function x(){return i}function w(){return b(s)}function g(){return j(o)}function b(N){return c=N,S}function j(N){return u=N,S}const S={direction:y,duration:p,velocity:x,seek:h,settled:v,useBaseFriction:g,useBaseDuration:w,useFriction:j,useDuration:b};return S}function K6(e,t,r,n,s){const o=s.measure(10),i=s.measure(50),l=Po(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(r.get())||!e.reachedAny(t.get()))}function d(v){if(!u())return;const p=e.reachedMin(t.get())?"min":"max",y=Ct(e[p]-t.get()),x=r.get()-t.get(),w=l.constrain(y/i);r.subtract(x*w),!v&&Ct(x)<o&&(r.set(e.constrain(r.get())),n.useDuration(25).useBaseFriction())}function f(v){c=!v}return{shouldConstrain:u,constrain:d,toggleActive:f}}function Y6(e,t,r,n,s){const o=Po(-t+e,0),i=f(),l=d(),c=h();function u(p,y){return _c(p,y)<1}function d(){const p=i[0],y=Dn(i),x=i.lastIndexOf(p),w=i.indexOf(y)+1;return Po(x,w)}function f(){return r.map((p,y)=>{const{min:x,max:w}=o,g=o.constrain(p),b=!y,j=Ex(r,y);return b?w:j||u(x,g)?x:u(w,g)?w:g}).map(p=>parseFloat(p.toFixed(3)))}function h(){if(t<=e+s)return[o.max];if(n==="keepSnaps")return i;const{min:p,max:y}=l;return i.slice(p,y)}return{snapsContained:c,scrollContainLimit:l}}function Q6(e,t,r){const n=t[0],s=r?n-e:Dn(t);return{limit:Po(s,n)}}function J6(e,t,r,n){const o=t.min+.1,i=t.max+.1,{reachedMin:l,reachedMax:c}=Po(o,i);function u(h){return h===1?c(r.get()):h===-1?l(r.get()):!1}function d(h){if(!u(h))return;const v=e*(h*-1);n.forEach(p=>p.add(v))}return{loop:d}}function Z6(e){const{max:t,length:r}=e;function n(o){const i=o-t;return r?i/-r:0}return{get:n}}function X6(e,t,r,n,s){const{startEdge:o,endEdge:i}=e,{groupSlides:l}=s,c=f().map(t.measure),u=h(),d=v();function f(){return l(n).map(y=>Dn(y)[i]-y[0][o]).map(Ct)}function h(){return n.map(y=>r[o]-y[o]).map(y=>-Ct(y))}function v(){return l(u).map(y=>y[0]).map((y,x)=>y+c[x])}return{snaps:u,snapsAligned:d}}function e8(e,t,r,n,s,o){const{groupSlides:i}=s,{min:l,max:c}=n,u=d();function d(){const h=i(o),v=!e||t==="keepSnaps";return r.length===1?[o]:v?h:h.slice(l,c).map((p,y,x)=>{const w=!y,g=Ex(x,y);if(w){const b=Dn(x[0])+1;return Jb(b)}if(g){const b=Uu(o)-Dn(x)[0]+1;return Jb(b,Dn(x)[0])}return p})}return{slideRegistry:u}}function t8(e,t,r,n,s){const{reachedAny:o,removeOffset:i,constrain:l}=n;function c(p){return p.concat().sort((y,x)=>Ct(y)-Ct(x))[0]}function u(p){const y=e?i(p):l(p),x=t.map((g,b)=>({diff:d(g-y,0),index:b})).sort((g,b)=>Ct(g.diff)-Ct(b.diff)),{index:w}=x[0];return{index:w,distance:y}}function d(p,y){const x=[p,p+r,p-r];if(!e)return p;if(!y)return c(x);const w=x.filter(g=>Cx(g)===y);return w.length?c(w):Dn(x)-r}function f(p,y){const x=t[p]-s.get(),w=d(x,y);return{index:p,distance:w}}function h(p,y){const x=s.get()+p,{index:w,distance:g}=u(x),b=!e&&o(x);if(!y||b)return{index:w,distance:p};const j=t[w]-g,S=p+d(j,0);return{index:w,distance:S}}return{byDistance:h,byIndex:f,shortcut:d}}function r8(e,t,r,n,s,o,i){function l(f){const h=f.distance,v=f.index!==t.get();o.add(h),h&&(n.duration()?e.start():(e.update(),e.render(1),e.update())),v&&(r.set(t.get()),t.set(f.index),i.emit("select"))}function c(f,h){const v=s.byDistance(f,h);l(v)}function u(f,h){const v=t.clone().set(f),p=s.byIndex(v.get(),h);l(p)}return{distance:c,index:u}}function n8(e,t,r,n,s,o,i,l){const c={passive:!0,capture:!0};let u=0;function d(v){if(!l)return;function p(y){if(new Date().getTime()-u>10)return;i.emit("slideFocusStart"),e.scrollLeft=0;const g=r.findIndex(b=>b.includes(y));kx(g)&&(s.useDuration(0),n.index(g,0),i.emit("slideFocus"))}o.add(document,"keydown",f,!1),t.forEach((y,x)=>{o.add(y,"focus",w=>{(dm(l)||l(v,w))&&p(x)},c)})}function f(v){v.code==="Tab"&&(u=new Date().getTime())}return{init:d}}function ec(e){let t=e;function r(){return t}function n(c){t=i(c)}function s(c){t+=i(c)}function o(c){t-=i(c)}function i(c){return kx(c)?c:c.get()}return{get:r,set:n,add:s,subtract:o}}function Tk(e,t){const r=e.scroll==="x"?o:i,n=t.style;let s=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function i(f){return`translate3d(0px,${f}px,0px)`}function l(f){s||(n.transform=r(e.direction(f)))}function c(f){s=!f}function u(){s||(n.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function s8(e,t,r,n,s,o,i,l,c){const d=Jc(s),f=Jc(s).reverse(),h=w().concat(g());function v(_,C){return _.reduce((E,T)=>E-s[T],C)}function p(_,C){return _.reduce((E,T)=>v(E,C)>0?E.concat([T]):E,[])}function y(_){return o.map((C,E)=>({start:C-n[E]+.5+_,end:C+t-.5+_}))}function x(_,C,E){const T=y(C);return _.map(I=>{const F=E?0:-r,R=E?r:0,A=E?"end":"start",U=T[I][A];return{index:I,loopPoint:U,slideLocation:ec(-1),translate:Tk(e,c[I]),target:()=>l.get()>U?F:R}})}function w(){const _=i[0],C=p(f,_);return x(C,r,!1)}function g(){const _=t-i[0]-1,C=p(d,_);return x(C,-r,!0)}function b(){return h.every(({index:_})=>{const C=d.filter(E=>E!==_);return v(C,t)<=.1})}function j(){h.forEach(_=>{const{target:C,translate:E,slideLocation:T}=_,I=C();I!==T.get()&&(E.to(I),T.set(I))})}function S(){h.forEach(_=>_.translate.clear())}return{canLoop:b,clear:S,loop:j,loopPoints:h}}function a8(e,t,r){let n,s=!1;function o(c){if(!r)return;function u(d){for(const f of d)if(f.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}n=new MutationObserver(d=>{s||(dm(r)||r(c,d))&&u(d)}),n.observe(e,{childList:!0})}function i(){n&&n.disconnect(),s=!0}return{init:o,destroy:i}}function o8(e,t,r,n){const s={};let o=null,i=null,l,c=!1;function u(){l=new IntersectionObserver(p=>{c||(p.forEach(y=>{const x=t.indexOf(y.target);s[x]=y}),o=null,i=null,r.emit("slidesInView"))},{root:e.parentElement,threshold:n}),t.forEach(p=>l.observe(p))}function d(){l&&l.disconnect(),c=!0}function f(p){return Zc(s).reduce((y,x)=>{const w=parseInt(x),{isIntersecting:g}=s[w];return(p&&g||!p&&!g)&&y.push(w),y},[])}function h(p=!0){if(p&&o)return o;if(!p&&i)return i;const y=f(p);return p&&(o=y),p||(i=y),y}return{init:u,destroy:d,get:h}}function i8(e,t,r,n,s,o){const{measureSize:i,startEdge:l,endEdge:c}=e,u=r[0]&&s,d=p(),f=y(),h=r.map(i),v=x();function p(){if(!u)return 0;const g=r[0];return Ct(t[l]-g[l])}function y(){if(!u)return 0;const g=o.getComputedStyle(Dn(n));return parseFloat(g.getPropertyValue(`margin-${c}`))}function x(){return r.map((g,b,j)=>{const S=!b,N=Ex(j,b);return S?h[b]+d:N?h[b]+f:j[b+1][l]-g[l]}).map(Ct)}return{slideSizes:h,slideSizesWithGaps:v,startGap:d,endGap:f}}function l8(e,t,r,n,s,o,i,l,c){const{startEdge:u,endEdge:d,direction:f}=e,h=kx(r);function v(w,g){return Jc(w).filter(b=>b%g===0).map(b=>w.slice(b,b+g))}function p(w){return w.length?Jc(w).reduce((g,b,j)=>{const S=Dn(g)||0,N=S===0,_=b===Uu(w),C=s[u]-o[S][u],E=s[u]-o[b][d],T=!n&&N?f(i):0,I=!n&&_?f(l):0,F=Ct(E-I-(C+T));return j&&F>t+c&&g.push(b),_&&g.push(w.length),g},[]).map((g,b,j)=>{const S=Math.max(j[b-1]||0);return w.slice(S,g)}):[]}function y(w){return h?v(w,r):p(w)}return{groupSlides:y}}function c8(e,t,r,n,s,o,i){const{align:l,axis:c,direction:u,startIndex:d,loop:f,duration:h,dragFree:v,dragThreshold:p,inViewThreshold:y,slidesToScroll:x,skipSnaps:w,containScroll:g,watchResize:b,watchSlides:j,watchDrag:S,watchFocus:N}=o,_=2,C=W6(),E=C.measure(t),T=r.map(C.measure),I=B6(c,u),F=I.measureSize(E),R=q6(F),A=$6(l,F),U=!f&&!!g,L=f||!!g,{slideSizes:M,slideSizesWithGaps:k,startGap:P,endGap:W}=i8(I,E,T,r,L,s),V=l8(I,F,x,f,E,T,P,W,_),{snaps:Z,snapsAligned:fe}=X6(I,A,E,T,V),le=-Dn(Z)+Dn(k),{snapsContained:ke,scrollContainLimit:ge}=Y6(F,le,fe,g,_),H=U?ke:fe,{limit:G}=Q6(le,H,f),X=Pk(Uu(H),d,f),se=X.clone(),ie=Jc(r),Q=({dragHandler:ye,scrollBody:vt,scrollBounds:Dt,options:{loop:Tt}},mr)=>{Tt||Dt.constrain(ye.pointerDown()),vt.seek(mr)},je=({scrollBody:ye,translate:vt,location:Dt,offsetLocation:Tt,scrollLooper:mr,slideLooper:Hn,dragHandler:Cr,animation:Cm,eventHandler:Oe,scrollBounds:dt,options:{loop:at}},Vr)=>{const Wr=ye.settled(),qo=!dt.shouldConstrain(),nd=at?Wr:Wr&&qo;nd&&!Cr.pointerDown()&&(Cm.stop(),Oe.emit("settle")),nd||Oe.emit("scroll");const kT=Dt.get()*Vr+O.get()*(1-Vr);Tt.set(kT),at&&(mr.loop(ye.direction()),Hn.loop()),vt.to(Tt.get())},Re=U6(n,s,ye=>Q(de,ye),ye=>je(de,ye)),Ze=.68,Je=H[X.get()],mt=ec(Je),O=ec(Je),$=ec(Je),q=ec(Je),ue=G6(mt,$,O,q,h,Ze),oe=t8(f,H,le,G,q),te=r8(Re,X,se,ue,oe,q,i),_e=Z6(G),Ae=Xc(),ut=o8(t,r,i,y),{slideRegistry:Xe}=e8(U,g,H,ge,V,ie),B=n8(e,r,Xe,te,ue,Ae,i,N),de={ownerDocument:n,ownerWindow:s,eventHandler:i,containerRect:E,slideRects:T,animation:Re,axis:I,dragHandler:z6(I,e,n,s,q,V6(I,s),mt,Re,te,ue,oe,X,i,R,v,p,w,Ze,S),eventStore:Ae,percentOfView:R,index:X,indexPrevious:se,limit:G,location:mt,offsetLocation:$,previousLocation:O,options:o,resizeHandler:H6(t,i,s,r,I,b,C),scrollBody:ue,scrollBounds:K6(G,$,q,ue,R),scrollLooper:J6(le,G,$,[mt,$,O,q]),scrollProgress:_e,scrollSnapList:H.map(_e.get),scrollSnaps:H,scrollTarget:oe,scrollTo:te,slideLooper:s8(I,F,le,M,k,Z,H,$,r),slideFocus:B,slidesHandler:a8(t,i,j),slidesInView:ut,slideIndexes:ie,slideRegistry:Xe,slidesToScroll:V,target:q,translate:Tk(I,t)};return de}function u8(){let e={},t;function r(u){t=u}function n(u){return e[u]||[]}function s(u){return n(u).forEach(d=>d(t,u)),c}function o(u,d){return e[u]=n(u).concat([d]),c}function i(u,d){return e[u]=n(u).filter(f=>f!==d),c}function l(){e={}}const c={init:r,emit:s,off:i,on:o,clear:l};return c}const d8={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function f8(e){function t(o,i){return Ek(o,i||{})}function r(o){const i=o.breakpoints||{},l=Zc(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,u)=>t(c,u),{});return t(o,l)}function n(o){return o.map(i=>Zc(i.breakpoints||{})).reduce((i,l)=>i.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:r,optionsMediaQueries:n}}function h8(e){let t=[];function r(o,i){return t=i.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(o,e)),i.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function n(){t=t.filter(o=>o.destroy())}return{init:r,destroy:n}}function Gf(e,t,r){const n=e.ownerDocument,s=n.defaultView,o=f8(s),i=h8(o),l=Xc(),c=u8(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:f}=o,{on:h,off:v,emit:p}=c,y=I;let x=!1,w,g=u(d8,Gf.globalOptions),b=u(g),j=[],S,N,_;function C(){const{container:ie,slides:Q}=b;N=(vy(ie)?e.querySelector(ie):ie)||e.children[0];const Re=vy(Q)?N.querySelectorAll(Q):Q;_=[].slice.call(Re||N.children)}function E(ie){const Q=c8(e,N,_,n,s,ie,c);if(ie.loop&&!Q.slideLooper.canLoop()){const je=Object.assign({},ie,{loop:!1});return E(je)}return Q}function T(ie,Q){x||(g=u(g,ie),b=d(g),j=Q||j,C(),w=E(b),f([g,...j.map(({options:je})=>je)]).forEach(je=>l.add(je,"change",I)),b.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(se),w.eventHandler.init(se),w.resizeHandler.init(se),w.slidesHandler.init(se),w.options.loop&&w.slideLooper.loop(),N.offsetParent&&_.length&&w.dragHandler.init(se),S=i.init(se,j)))}function I(ie,Q){const je=V();F(),T(u({startIndex:je},ie),Q),c.emit("reInit")}function F(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),i.destroy(),l.clear()}function R(){x||(x=!0,l.clear(),F(),c.emit("destroy"),c.clear())}function A(ie,Q,je){!b.active||x||(w.scrollBody.useBaseFriction().useDuration(Q===!0?0:b.duration),w.scrollTo.index(ie,je||0))}function U(ie){const Q=w.index.add(1).get();A(Q,ie,-1)}function L(ie){const Q=w.index.add(-1).get();A(Q,ie,1)}function M(){return w.index.add(1).get()!==V()}function k(){return w.index.add(-1).get()!==V()}function P(){return w.scrollSnapList}function W(){return w.scrollProgress.get(w.location.get())}function V(){return w.index.get()}function Z(){return w.indexPrevious.get()}function fe(){return w.slidesInView.get()}function le(){return w.slidesInView.get(!1)}function ke(){return S}function ge(){return w}function H(){return e}function G(){return N}function X(){return _}const se={canScrollNext:M,canScrollPrev:k,containerNode:G,internalEngine:ge,destroy:R,off:v,on:h,emit:p,plugins:ke,previousScrollSnap:Z,reInit:y,rootNode:H,scrollNext:U,scrollPrev:L,scrollProgress:W,scrollSnapList:P,scrollTo:A,selectedScrollSnap:V,slideNodes:X,slidesInView:fe,slidesNotInView:le};return T(t,r),setTimeout(()=>c.emit("init"),0),se}Gf.globalOptions=void 0;function Px(e={},t=[]){const r=m.useRef(e),n=m.useRef(t),[s,o]=m.useState(),[i,l]=m.useState(),c=m.useCallback(()=>{s&&s.reInit(r.current,n.current)},[s]);return m.useEffect(()=>{Sx(r.current,e)||(r.current=e,c())},[e,c]),m.useEffect(()=>{L6(n.current,t)||(n.current=t,c())},[t,c]),m.useEffect(()=>{if(D6()&&i){Gf.globalOptions=Px.globalOptions;const u=Gf(i,r.current,n.current);return o(u),()=>u.destroy()}else o(void 0)},[i,o]),[l,s]}Px.globalOptions=void 0;const Rk=m.createContext(null);function fm(){const e=m.useContext(Rk);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Ak=m.forwardRef(({orientation:e="horizontal",opts:t,setApi:r,plugins:n,className:s,children:o,...i},l)=>{const[c,u]=Px({...t,axis:e==="horizontal"?"x":"y"},n),[d,f]=m.useState(!1),[h,v]=m.useState(!1),p=m.useCallback(g=>{g&&(f(g.canScrollPrev()),v(g.canScrollNext()))},[]),y=m.useCallback(()=>{u==null||u.scrollPrev()},[u]),x=m.useCallback(()=>{u==null||u.scrollNext()},[u]),w=m.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),y()):g.key==="ArrowRight"&&(g.preventDefault(),x())},[y,x]);return m.useEffect(()=>{!u||!r||r(u)},[u,r]),m.useEffect(()=>{if(u)return p(u),u.on("reInit",p),u.on("select",p),()=>{u==null||u.off("select",p)}},[u,p]),a.jsx(Rk.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:x,canScrollPrev:d,canScrollNext:h},children:a.jsx("div",{ref:l,onKeyDownCapture:w,className:ee("relative",s),role:"region","aria-roledescription":"carousel",...i,children:o})})});Ak.displayName="Carousel";const Ok=m.forwardRef(({className:e,...t},r)=>{const{carouselRef:n,orientation:s}=fm();return a.jsx("div",{ref:n,className:"overflow-hidden",children:a.jsx("div",{ref:r,className:ee("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Ok.displayName="CarouselContent";const Ik=m.forwardRef(({className:e,...t},r)=>{const{orientation:n}=fm();return a.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:ee("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",e),...t})});Ik.displayName="CarouselItem";const Mk=m.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:o,scrollPrev:i,canScrollPrev:l}=fm();return a.jsxs(J,{ref:s,variant:t,size:r,className:ee("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[a.jsx(Cu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Mk.displayName="CarouselPrevious";const Dk=m.forwardRef(({className:e,variant:t="outline",size:r="icon",...n},s)=>{const{orientation:o,scrollNext:i,canScrollNext:l}=fm();return a.jsxs(J,{ref:s,variant:t,size:r,className:ee("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e),disabled:!l,onClick:i,...n,children:[a.jsx(Q4,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Next slide"})]})});Dk.displayName="CarouselNext";const m8=[{src:"https://i.pcmag.com/imagery/lineupitems/00rxIlf90wWikv90tMixt6L.fit_lim.size_1050x578.v1569506127.jpg",alt:""},{src:"https://media.istockphoto.com/id/1413616174/photo/diverse-yellow-pro-gamer-female-team-with-african-ethnicity-leader-competing-in-video-game.jpg?s=612x612&w=0&k=20&c=wSVp8MZ8HCzpGlRHW1Ije_J2aKhfT9kOeOvXbgmyVx8=",alt:""},{src:"https://gamespace.com/wp-content/uploads/2021/04/Tournaments.jpg",alt:""},{src:"https://i.pcmag.com/imagery/lineups/06dxdkd5h3MmSKAaMczRpbQ-1..v1569492889.jpg",alt:""},{src:"https://thesmartsource.com/wp-content/uploads/2019/08/Video-game-tournament-1024x683.jpg",alt:""}],p8=()=>{const[e,t]=K.useState();return K.useEffect(()=>{if(!e)return;const r=setInterval(()=>{e.scrollNext()},4e3);return()=>clearInterval(r)},[e]),a.jsxs("div",{className:"w-full h-96 relative",children:[a.jsxs(Ak,{opts:{loop:!0,align:"start"},setApi:t,className:"w-full h-full",children:[a.jsx(Ok,{className:"h-full",children:m8.map((r,n)=>a.jsx(Ik,{className:"relative h-96 w-full p-0",children:a.jsx("img",{src:r.src,alt:r.alt,className:"w-full h-full object-cover object-center brightness-50 transition-all duration-700"})},n))}),a.jsx(Mk,{className:"absolute left-4 z-30 bg-black/50 hover:bg-black/70 text-white border-none"}),a.jsx(Dk,{className:"absolute right-4 z-30 bg-black/50 hover:bg-black/70 text-white border-none"})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-black/60 z-10 pointer-events-none"})]})},Zb=e=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(e).toLocaleDateString(void 0,t)},g8=()=>{const{user:e}=jt(),{roleId:t,isAdmin:r,isSuperAdmin:n}=Sr();m.useState(!0);const{data:s=[],isLoading:o}=Ft({queryKey:["homepage-tournaments"],queryFn:async()=>{try{const u=new Date().toISOString(),{data:d,error:f}=await z.from("tournaments").select(`
            id,
            tournament_name,
            start_date,
            reg_end_date,
            cover_image,
            games(
              id,
              game_name,
              icon
            ),
            tournament_details(
              players_per_team,
              number_of_teams,
              prize_1
            )
          `).gte("start_date",u).order("start_date").limit(6);if(f)throw f;if(!d||d.length===0)return[];const h=d.map(x=>x.id),{data:v,error:p}=await z.from("tournament_registrations").select("tournament_id").eq("is_completed",!0).in("tournament_id",h);if(p)throw p;const y={};return v&&Array.isArray(v)&&v.forEach(x=>{const w=x.tournament_id;y[w]=(y[w]||0)+1}),d.map(x=>{var g,b,j;const w=y[x.id]||0;return{id:x.id,tournament_name:x.tournament_name,games:x.games,date:Zb(x.start_date),registrationDeadline:Zb(x.reg_end_date),teamSize:(g=x.tournament_details[0])!=null&&g.players_per_team?`${x.tournament_details[0].players_per_team}v${x.tournament_details[0].players_per_team}`:"TBD",totalTeams:((b=x.tournament_details[0])==null?void 0:b.number_of_teams)||0,prize:(j=x.tournament_details[0])==null?void 0:j.prize_1,registeredTeams:w,cover_image:x.cover_image}})}catch(u){return console.error("Error fetching tournaments:",u),[]}}}),{data:i=[],isLoading:l}=Ft({queryKey:["homepage-rankings"],queryFn:async()=>{try{const{data:u,error:d}=await z.rpc("get_global_rankings",{limit_count:5,offset_val:0});if(d)throw d;return u||[]}catch(u){return console.error("Error fetching rankings:",u),[]}}}),c=e&&(r||n||t===2);return a.jsxs(a.Fragment,{children:[a.jsx(He,{}),a.jsxs("main",{className:"flex-grow",children:[a.jsxs("section",{className:"relative w-full h-96 flex items-center justify-center",children:[a.jsx(p8,{}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white z-20",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4 drop-shadow-lg",children:"Welcome to Play It Gaming Tournament Platform"}),a.jsx("p",{className:"text-lg mb-8 drop-shadow",children:"Find and join your favorite gaming tournaments"}),a.jsx(J,{asChild:!0,size:"lg",children:a.jsx(Ue,{to:"/tournaments",children:"Browse Tournaments"})})]})]}),a.jsxs("section",{className:"container mx-auto px-4 py-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Quick Access"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(Xo,{title:"Tournaments",icon:a.jsx(cr,{className:"h-6 w-6 text-gaming-primary"}),to:"/tournaments"}),a.jsx(Xo,{title:"Rankings",icon:a.jsx(J4,{className:"h-6 w-6 text-gaming-primary"}),to:"/rankings"}),a.jsx(Xo,{title:"Gaming Lounges",icon:a.jsx(kN,{className:"h-6 w-6 text-gaming-primary"}),to:"/gaming-lounges"}),c?a.jsx(Xo,{title:"Host a Tournament",icon:a.jsx(oO,{className:"h-6 w-6 text-gaming-primary"}),to:"/host-tournament"}):e?a.jsx(Xo,{title:"My Profile",icon:a.jsx(Si,{className:"h-6 w-6 text-gaming-primary"}),to:"/profile"}):a.jsx(Xo,{title:"Sign In",icon:a.jsx(Si,{className:"h-6 w-6 text-gaming-primary"}),to:"/login"})]})]}),a.jsxs("section",{className:"container mx-auto px-4 py-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Upcoming Tournaments"}),o?a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(u=>a.jsxs("div",{className:"bg-[#1a1a1a] border border-gray-800 rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[u.prize&&a.jsx("div",{className:"absolute top-2 right-2 bg-gaming-primary text-white px-2 py-1 rounded text-sm font-semibold z-10",children:u.prize}),a.jsxs("div",{className:"h-12 flex items-center p-3 bg-[#232323] border-b border-gray-800",children:[u.games.icon?a.jsx("img",{src:u.games.icon,alt:`${u.games.game_name} icon`,className:"w-6 h-6 rounded mr-2 object-cover"}):a.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded mr-2"}),a.jsx("span",{className:"font-medium text-gray-100",children:u.games.game_name})]}),a.jsx("div",{className:"w-full h-40 bg-gray-800",children:u.cover_image?a.jsx("img",{src:rm(u.cover_image),alt:`${u.tournament_name} tournament banner`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Tournament Banner"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-100",children:u.tournament_name}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx(Eu,{className:"w-4 h-4 mr-2"}),u.date]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx(_o,{className:"w-4 h-4 mr-2"}),"Registration: ",u.registrationDeadline]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx($h,{className:"w-4 h-4 mr-2"}),u.teamSize]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1 text-gray-300",children:[a.jsxs("span",{children:[u.registeredTeams," / ",u.totalTeams," Teams Registered"]}),a.jsxs("span",{children:[Math.round(u.registeredTeams/u.totalTeams*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:a.jsx("div",{className:"bg-gaming-primary h-2 rounded-full",style:{width:`${u.registeredTeams/u.totalTeams*100}%`}})})]}),a.jsx(J,{asChild:!0,className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",children:a.jsx(Ue,{to:`/tournaments/${u.id}`,children:"View Details"})})]})]},u.id))}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx(J,{asChild:!0,size:"lg",variant:"secondary",children:a.jsx(Ue,{to:"/tournaments",children:"View All Tournaments"})})})]}),a.jsx("section",{className:"bg-[#121212] py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx(I6,{players:i,isLoading:l})})})]}),a.jsx(Ge,{})]})};var Tx="Tabs",[y8,rq]=fr(Tx,[El]),Lk=El(),[v8,Rx]=y8(Tx),Fk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Cl(l),[f,h]=zr({prop:n,onChange:s,defaultProp:o});return a.jsx(v8,{scope:r,baseId:en(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(xe.div,{dir:d,"data-orientation":i,...u,ref:t})})});Fk.displayName=Tx;var $k="TabsList",Uk=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Rx($k,r),i=Lk(r);return a.jsx(mx,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(xe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});Uk.displayName=$k;var Bk="TabsTrigger",zk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Rx(Bk,r),l=Lk(r),c=qk(i.baseId,n),u=Hk(i.baseId,n),d=n===i.value;return a.jsx(px,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ae(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:ae(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:ae(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});zk.displayName=Bk;var Vk="TabsContent",Wk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,l=Rx(Vk,r),c=qk(l.baseId,n),u=Hk(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(hr,{present:s||d,children:({present:h})=>a.jsx(xe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});Wk.displayName=Vk;function qk(e,t){return`${e}-trigger-${t}`}function Hk(e,t){return`${e}-content-${t}`}var x8=Fk,Gk=Uk,Kk=zk,Yk=Wk;const hm=x8,Bu=m.forwardRef(({className:e,...t},r)=>a.jsx(Gk,{ref:r,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bu.displayName=Gk.displayName;const rn=m.forwardRef(({className:e,...t},r)=>a.jsx(Kk,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));rn.displayName=Kk.displayName;const nn=m.forwardRef(({className:e,...t},r)=>a.jsx(Yk,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));nn.displayName=Yk.displayName;var Ax="Dialog",[Qk,Jk]=fr(Ax),[w8,qn]=Qk(Ax),Zk=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=zr({prop:n,defaultProp:s,onChange:o});return a.jsx(w8,{scope:t,triggerRef:l,contentRef:c,contentId:en(),titleId:en(),descriptionId:en(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};Zk.displayName=Ax;var Xk="DialogTrigger",eC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qn(Xk,r),o=Fe(t,s.triggerRef);return a.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mx(s.open),...n,ref:o,onClick:ae(e.onClick,s.onOpenToggle)})});eC.displayName=Xk;var Ox="DialogPortal",[b8,tC]=Qk(Ox,{forceMount:void 0}),rC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=qn(Ox,t);return a.jsx(b8,{scope:t,forceMount:r,children:m.Children.map(n,i=>a.jsx(hr,{present:r||o.open,children:a.jsx(gl,{asChild:!0,container:s,children:i})}))})};rC.displayName=Ox;var Kf="DialogOverlay",nC=m.forwardRef((e,t)=>{const r=tC(Kf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=qn(Kf,e.__scopeDialog);return o.modal?a.jsx(hr,{present:n||o.open,children:a.jsx(_8,{...s,ref:t})}):null});nC.displayName=Kf;var _8=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qn(Kf,r);return a.jsx(Du,{as:is,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(xe.div,{"data-state":Mx(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),To="DialogContent",sC=m.forwardRef((e,t)=>{const r=tC(To,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=qn(To,e.__scopeDialog);return a.jsx(hr,{present:n||o.open,children:o.modal?a.jsx(j8,{...s,ref:t}):a.jsx(N8,{...s,ref:t})})});sC.displayName=To;var j8=m.forwardRef((e,t)=>{const r=qn(To,e.__scopeDialog),n=m.useRef(null),s=Fe(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return am(o)},[]),a.jsx(aC,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault())})}),N8=m.forwardRef((e,t)=>{const r=qn(To,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(aC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),aC=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=qn(To,r),c=m.useRef(null),u=Fe(t,c);return nm(),a.jsxs(a.Fragment,{children:[a.jsx(Mu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Uo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Mx(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(k8,{titleId:l.titleId}),a.jsx(E8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ix="DialogTitle",oC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qn(Ix,r);return a.jsx(xe.h2,{id:s.titleId,...n,ref:t})});oC.displayName=Ix;var iC="DialogDescription",lC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qn(iC,r);return a.jsx(xe.p,{id:s.descriptionId,...n,ref:t})});lC.displayName=iC;var cC="DialogClose",uC=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=qn(cC,r);return a.jsx(xe.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});uC.displayName=cC;function Mx(e){return e?"open":"closed"}var dC="DialogTitleWarning",[S8,fC]=u4(dC,{contentName:To,titleName:Ix,docsSlug:"dialog"}),k8=({titleId:e})=>{const t=fC(dC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},C8="DialogDescriptionWarning",E8=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fC(C8).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},hC=Zk,mC=eC,pC=rC,Dx=nC,Lx=sC,Fx=oC,$x=lC,Ux=uC;const mm=hC,Bx=mC,P8=pC,gC=m.forwardRef(({className:e,...t},r)=>a.jsx(Dx,{ref:r,className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));gC.displayName=Dx.displayName;const zu=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(P8,{children:[a.jsx(gC,{}),a.jsxs(Lx,{ref:n,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Ux,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Pu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zu.displayName=Lx.displayName;const Vu=({className:e,...t})=>a.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vu.displayName="DialogHeader";const pm=({className:e,...t})=>a.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pm.displayName="DialogFooter";const Wu=m.forwardRef(({className:e,...t},r)=>a.jsx(Fx,{ref:r,className:ee("text-lg font-semibold leading-none tracking-tight",e),...t}));Wu.displayName=Fx.displayName;const qu=m.forwardRef(({className:e,...t},r)=>a.jsx($x,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));qu.displayName=$x.displayName;const wy=({id:e,name:t,game:r,gameIcon:n,date:s,registrationDeadline:o,teamSize:i,totalTeams:l,registeredTeams:c,prize:u,imageUrl:d,isRegistered:f=!1,addedBy:h,currentUserId:v})=>{const p=nr(),{roleId:y}=Sr(),x=new Date(o)<new Date,w=c>=l,g=new Date(s)<=new Date,[b,j]=K.useState(!1),[S,N]=K.useState(!1),_=d?rm(d):null,C=v&&h&&v===h,E=y===3||y===4,T=y===1,I=C||E,F=A=>{A.preventDefault(),p(`/tournaments/${e}/register`)},R=async()=>{j(!0);try{const{error:A}=await z.rpc("delete_tournament_completely",{tournament_id_param:typeof e=="string"?parseInt(e,10):e});if(A)throw A;Y.success("Tournament has been deleted"),setTimeout(()=>{window.location.href="/tournaments"},1500)}catch(A){console.error("Error deleting tournament:",A),Y.error("Failed to delete tournament")}finally{j(!1),N(!1)}};return a.jsx(Se,{className:"overflow-hidden h-full bg-[#1a1a1a] border-gray-800",children:a.jsxs(Ie,{className:"p-0",children:[a.jsxs("div",{className:"relative",children:[u&&a.jsx("div",{className:"absolute top-2 right-2 bg-gaming-primary text-white px-2 py-1 rounded text-sm font-semibold z-10",children:u}),a.jsxs("div",{className:"h-12 flex items-center p-3 bg-[#252525] border-b border-gray-800",children:[n?a.jsx("img",{src:n,alt:`${r} icon`,className:"w-6 h-6 rounded mr-2 object-cover"}):a.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded mr-2"}),a.jsx("span",{className:"font-medium text-gray-100",children:r})]}),a.jsx("div",{className:"w-full h-40 bg-[#2a2a2a]",children:_?a.jsx("img",{src:_,alt:`${t} tournament banner`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Tournament Banner"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-100",children:t}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx(Eu,{className:"w-4 h-4 mr-2"}),s]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx(_o,{className:"w-4 h-4 mr-2"}),"Registration: ",o]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[a.jsx($h,{className:"w-4 h-4 mr-2"}),i]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1 text-gray-300",children:[a.jsxs("span",{children:[c," / ",l," Teams Registered"]}),a.jsxs("span",{children:[Math.round(c/l*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-gaming-primary h-2 rounded-full",style:{width:`${c/l*100}%`}})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(J,{variant:"outline",className:"w-full bg-[#252525] text-gray-300 border-gray-700 hover:bg-[#333333] hover:text-gray-100",asChild:!0,children:a.jsxs(Ue,{to:`/tournaments/${e}`,children:[a.jsx(Xi,{className:"mr-2 h-4 w-4"}),"View Details"]})}),g?a.jsx(J,{className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",asChild:!0,children:a.jsxs(Ue,{to:`/tournaments/${e}/progress`,children:[a.jsx(cr,{className:"mr-2 h-4 w-4"}),"View Progress"]})}):f?a.jsxs(J,{className:"w-full bg-green-600 hover:bg-green-700",onClick:F,children:[a.jsx(yl,{className:"mr-2 h-4 w-4"}),"View Registration"]}):I?a.jsxs(mm,{open:S,onOpenChange:N,children:[a.jsx(Bx,{asChild:!0,children:a.jsx(J,{className:"w-full bg-red-600 hover:bg-red-700",children:"Cancel Tournament"})}),a.jsxs(zu,{className:"sm:max-w-[425px] bg-[#1a1a1a] text-white border-gray-700",children:[a.jsxs(Vu,{children:[a.jsx(Wu,{children:"Cancel Tournament"}),a.jsx(qu,{className:"text-gray-400",children:"Are you sure you want to cancel this tournament? This action cannot be undone."})]}),a.jsxs(pm,{className:"mt-4",children:[a.jsx(J,{variant:"outline",onClick:()=>N(!1),className:"border-gray-600",children:"Keep Tournament"}),a.jsx(J,{onClick:R,className:"bg-red-600 hover:bg-red-700",disabled:b,children:b?"Cancelling...":"Yes, Cancel Tournament"})]})]})]}):w?a.jsxs(J,{className:"w-full bg-amber-500 hover:bg-amber-600",disabled:!0,children:[a.jsx(vl,{className:"mr-2 h-4 w-4"}),"Teams Full"]}):a.jsx(J,{className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",disabled:x||!T,onClick:F,children:x?"Registration Closed":T?"Register":"Players Only"})]})]})]})})},we=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));we.displayName="Input";function Xb(e,[t,r]){return Math.min(r,Math.max(t,e))}function gm(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var T8=[" ","Enter","ArrowUp","ArrowDown"],R8=[" ","Enter"],Hu="Select",[ym,vm,A8]=Su(Hu),[Pl,nq]=fr(Hu,[A8,Ua]),xm=Ua(),[O8,Wa]=Pl(Hu),[I8,M8]=Pl(Hu),yC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:v,form:p}=e,y=xm(t),[x,w]=m.useState(null),[g,b]=m.useState(null),[j,S]=m.useState(!1),N=Cl(u),[_=!1,C]=zr({prop:n,defaultProp:s,onChange:o}),[E,T]=zr({prop:i,defaultProp:l,onChange:c}),I=m.useRef(null),F=x?p||!!x.closest("form"):!0,[R,A]=m.useState(new Set),U=Array.from(R).map(L=>L.props.value).join(";");return a.jsx(Zv,{...y,children:a.jsxs(O8,{required:v,scope:t,trigger:x,onTriggerChange:w,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:en(),value:E,onValueChange:T,open:_,onOpenChange:C,dir:N,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(ym.Provider,{scope:t,children:a.jsx(I8,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(L=>{A(M=>new Set(M).add(L))},[]),onNativeOptionRemove:m.useCallback(L=>{A(M=>{const k=new Set(M);return k.delete(L),k})},[]),children:r})}),F?a.jsxs(zC,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:L=>T(L.target.value),disabled:h,form:p,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(R)]},U):null]})})};yC.displayName=Hu;var vC="SelectTrigger",xC=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=xm(r),i=Wa(vC,r),l=i.disabled||n,c=Fe(t,i.onTriggerChange),u=vm(r),d=m.useRef("touch"),[f,h,v]=VC(y=>{const x=u().filter(b=>!b.disabled),w=x.find(b=>b.value===i.value),g=WC(x,y,w);g!==void 0&&i.onValueChange(g.value)}),p=y=>{l||(i.onOpenChange(!0),v()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(Ru,{asChild:!0,...o,children:a.jsx(xe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":BC(i.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&p(y)}),onPointerDown:ae(s.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(p(y),y.preventDefault())}),onKeyDown:ae(s.onKeyDown,y=>{const x=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(x&&y.key===" ")&&T8.includes(y.key)&&(p(),y.preventDefault())})})})});xC.displayName=vC;var wC="SelectValue",bC=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=Wa(wC,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Fe(t,c.onValueNodeChange);return Kt(()=>{u(d)},[u,d]),a.jsx(xe.span,{...l,ref:f,style:{pointerEvents:"none"},children:BC(c.value)?a.jsx(a.Fragment,{children:i}):o})});bC.displayName=wC;var D8="SelectIcon",_C=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(xe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});_C.displayName=D8;var L8="SelectPortal",jC=e=>a.jsx(gl,{asChild:!0,...e});jC.displayName=L8;var Ro="SelectContent",NC=m.forwardRef((e,t)=>{const r=Wa(Ro,e.__scopeSelect),[n,s]=m.useState();if(Kt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?$o.createPortal(a.jsx(SC,{scope:e.__scopeSelect,children:a.jsx(ym.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(kC,{...e,ref:t})});NC.displayName=Ro;var Nn=10,[SC,qa]=Pl(Ro),F8="SelectContentImpl",kC=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:p,hideWhenDetached:y,avoidCollisions:x,...w}=e,g=Wa(Ro,r),[b,j]=m.useState(null),[S,N]=m.useState(null),_=Fe(t,H=>j(H)),[C,E]=m.useState(null),[T,I]=m.useState(null),F=vm(r),[R,A]=m.useState(!1),U=m.useRef(!1);m.useEffect(()=>{if(b)return am(b)},[b]),nm();const L=m.useCallback(H=>{const[G,...X]=F().map(Q=>Q.ref.current),[se]=X.slice(-1),ie=document.activeElement;for(const Q of H)if(Q===ie||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===G&&S&&(S.scrollTop=0),Q===se&&S&&(S.scrollTop=S.scrollHeight),Q==null||Q.focus(),document.activeElement!==ie))return},[F,S]),M=m.useCallback(()=>L([C,b]),[L,C,b]);m.useEffect(()=>{R&&M()},[R,M]);const{onOpenChange:k,triggerPointerDownPosRef:P}=g;m.useEffect(()=>{if(b){let H={x:0,y:0};const G=se=>{var ie,Q;H={x:Math.abs(Math.round(se.pageX)-(((ie=P.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(se.pageY)-(((Q=P.current)==null?void 0:Q.y)??0))}},X=se=>{H.x<=10&&H.y<=10?se.preventDefault():b.contains(se.target)||k(!1),document.removeEventListener("pointermove",G),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,k,P]),m.useEffect(()=>{const H=()=>k(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[k]);const[W,V]=VC(H=>{const G=F().filter(ie=>!ie.disabled),X=G.find(ie=>ie.ref.current===document.activeElement),se=WC(G,H,X);se&&setTimeout(()=>se.ref.current.focus())}),Z=m.useCallback((H,G,X)=>{const se=!U.current&&!X;(g.value!==void 0&&g.value===G||se)&&(E(H),se&&(U.current=!0))},[g.value]),fe=m.useCallback(()=>b==null?void 0:b.focus(),[b]),le=m.useCallback((H,G,X)=>{const se=!U.current&&!X;(g.value!==void 0&&g.value===G||se)&&I(H)},[g.value]),ke=n==="popper"?by:CC,ge=ke===by?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:v,sticky:p,hideWhenDetached:y,avoidCollisions:x}:{};return a.jsx(SC,{scope:r,content:b,viewport:S,onViewportChange:N,itemRefCallback:Z,selectedItem:C,onItemLeave:fe,itemTextRefCallback:le,focusSelectedItem:M,selectedItemText:T,position:n,isPositioned:R,searchRef:W,children:a.jsx(Du,{as:is,allowPinchZoom:!0,children:a.jsx(Mu,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:ae(s,H=>{var G;(G=g.trigger)==null||G.focus({preventScroll:!0}),H.preventDefault()}),children:a.jsx(Uo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(ke,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...w,...ge,onPlaced:()=>A(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ae(w.onKeyDown,H=>{const G=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!G&&H.key.length===1&&V(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let se=F().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(H.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ie=H.target,Q=se.indexOf(ie);se=se.slice(Q+1)}setTimeout(()=>L(se)),H.preventDefault()}})})})})})})});kC.displayName=F8;var $8="SelectItemAlignedPosition",CC=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Wa(Ro,r),i=qa(Ro,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Fe(t,_=>d(_)),h=vm(r),v=m.useRef(!1),p=m.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:w,focusSelectedItem:g}=i,b=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&y&&x&&w){const _=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(o.dir!=="rtl"){const ie=T.left-C.left,Q=E.left-ie,je=_.left-Q,Re=_.width+je,Ze=Math.max(Re,C.width),Je=window.innerWidth-Nn,mt=Xb(Q,[Nn,Math.max(Nn,Je-Ze)]);l.style.minWidth=Re+"px",l.style.left=mt+"px"}else{const ie=C.right-T.right,Q=window.innerWidth-E.right-ie,je=window.innerWidth-_.right-Q,Re=_.width+je,Ze=Math.max(Re,C.width),Je=window.innerWidth-Nn,mt=Xb(Q,[Nn,Math.max(Nn,Je-Ze)]);l.style.minWidth=Re+"px",l.style.right=mt+"px"}const I=h(),F=window.innerHeight-Nn*2,R=y.scrollHeight,A=window.getComputedStyle(u),U=parseInt(A.borderTopWidth,10),L=parseInt(A.paddingTop,10),M=parseInt(A.borderBottomWidth,10),k=parseInt(A.paddingBottom,10),P=U+L+R+k+M,W=Math.min(x.offsetHeight*5,P),V=window.getComputedStyle(y),Z=parseInt(V.paddingTop,10),fe=parseInt(V.paddingBottom,10),le=_.top+_.height/2-Nn,ke=F-le,ge=x.offsetHeight/2,H=x.offsetTop+ge,G=U+L+H,X=P-G;if(G<=le){const ie=I.length>0&&x===I[I.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-y.offsetTop-y.offsetHeight,je=Math.max(ke,ge+(ie?fe:0)+Q+M),Re=G+je;l.style.height=Re+"px"}else{const ie=I.length>0&&x===I[0].ref.current;l.style.top="0px";const je=Math.max(le,U+y.offsetTop+(ie?Z:0)+ge)+X;l.style.height=je+"px",y.scrollTop=G-le+y.offsetTop}l.style.margin=`${Nn}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=F+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[h,o.trigger,o.valueNode,l,u,y,x,w,o.dir,n]);Kt(()=>b(),[b]);const[j,S]=m.useState();Kt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=m.useCallback(_=>{_&&p.current===!0&&(b(),g==null||g(),p.current=!1)},[b,g]);return a.jsx(B8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:N,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(xe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CC.displayName=$8;var U8="SelectPopperPosition",by=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Nn,...o}=e,i=xm(r);return a.jsx(Wh,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});by.displayName=U8;var[B8,zx]=Pl(Ro,{}),_y="SelectViewport",EC=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=qa(_y,r),i=zx(_y,r),l=Fe(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(ym.Slot,{scope:r,children:a.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const p=window.innerHeight-Nn*2,y=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(y,x);if(w<p){const g=w+v,b=Math.min(p,g),j=g-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});EC.displayName=_y;var PC="SelectGroup",[z8,V8]=Pl(PC),W8=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=en();return a.jsx(z8,{scope:r,id:s,children:a.jsx(xe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});W8.displayName=PC;var TC="SelectLabel",RC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=V8(TC,r);return a.jsx(xe.div,{id:s.id,...n,ref:t})});RC.displayName=TC;var Yf="SelectItem",[q8,AC]=Pl(Yf),OC=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=Wa(Yf,r),c=qa(Yf,r),u=l.value===n,[d,f]=m.useState(o??""),[h,v]=m.useState(!1),p=Fe(t,g=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,g,n,s)}),y=en(),x=m.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(q8,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(g=>{f(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(ym.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(xe.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:p,onFocus:ae(i.onFocus,()=>v(!0)),onBlur:ae(i.onBlur,()=>v(!1)),onClick:ae(i.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:ae(i.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:ae(i.onPointerDown,g=>{x.current=g.pointerType}),onPointerMove:ae(i.onPointerMove,g=>{var b;x.current=g.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(i.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ae(i.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(R8.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})})})})});OC.displayName=Yf;var tc="SelectItemText",IC=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Wa(tc,r),l=qa(tc,r),c=AC(tc,r),u=M8(tc,r),[d,f]=m.useState(null),h=Fe(t,w=>f(w),c.onItemTextChange,w=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,w,c.value,c.disabled)}),v=d==null?void 0:d.textContent,p=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return Kt(()=>(y(p),()=>x(p)),[y,x,p]),a.jsxs(a.Fragment,{children:[a.jsx(xe.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?$o.createPortal(o.children,i.valueNode):null]})});IC.displayName=tc;var MC="SelectItemIndicator",DC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return AC(MC,r).isSelected?a.jsx(xe.span,{"aria-hidden":!0,...n,ref:t}):null});DC.displayName=MC;var jy="SelectScrollUpButton",LC=m.forwardRef((e,t)=>{const r=qa(jy,e.__scopeSelect),n=zx(jy,e.__scopeSelect),[s,o]=m.useState(!1),i=Fe(t,n.onScrollButtonChange);return Kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx($C,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LC.displayName=jy;var Ny="SelectScrollDownButton",FC=m.forwardRef((e,t)=>{const r=qa(Ny,e.__scopeSelect),n=zx(Ny,e.__scopeSelect),[s,o]=m.useState(!1),i=Fe(t,n.onScrollButtonChange);return Kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx($C,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});FC.displayName=Ny;var $C=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=qa("SelectScrollButton",r),i=m.useRef(null),l=vm(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Kt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(xe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ae(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),H8="SelectSeparator",UC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(xe.div,{"aria-hidden":!0,...n,ref:t})});UC.displayName=H8;var Sy="SelectArrow",G8=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=xm(r),o=Wa(Sy,r),i=qa(Sy,r);return o.open&&i.position==="popper"?a.jsx(qh,{...s,...n,ref:t}):null});G8.displayName=Sy;function BC(e){return e===""||e===void 0}var zC=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=m.useRef(null),o=Fe(t,s),i=gm(r);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),a.jsx(ku,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});zC.displayName="BubbleSelect";function VC(e){const t=rr(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function WC(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=K8(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function K8(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Y8=yC,qC=xC,Q8=bC,J8=_C,Z8=jC,HC=NC,X8=EC,GC=RC,KC=OC,eU=IC,tU=DC,YC=LC,QC=FC,JC=UC;const ol=Y8,il=Q8,Ao=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(qC,{ref:n,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(J8,{asChild:!0,children:a.jsx(Lh,{className:"h-4 w-4 opacity-50"})})]}));Ao.displayName=qC.displayName;const ZC=m.forwardRef(({className:e,...t},r)=>a.jsx(YC,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Z4,{className:"h-4 w-4"})}));ZC.displayName=YC.displayName;const XC=m.forwardRef(({className:e,...t},r)=>a.jsx(QC,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Lh,{className:"h-4 w-4"})}));XC.displayName=QC.displayName;const Oo=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(Z8,{children:a.jsxs(HC,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(ZC,{}),a.jsx(X8,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(XC,{})]})}));Oo.displayName=HC.displayName;const rU=m.forwardRef(({className:e,...t},r)=>a.jsx(GC,{ref:r,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rU.displayName=GC.displayName;const Zr=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(KC,{ref:n,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tU,{children:a.jsx(yl,{className:"h-4 w-4"})})}),a.jsx(eU,{children:t})]}));Zr.displayName=KC.displayName;const nU=m.forwardRef(({className:e,...t},r)=>a.jsx(JC,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));nU.displayName=JC.displayName;const Np=({tournaments:e,games:t,loading:r,type:n})=>{const{user:s}=jt(),[o,i]=m.useState([]),[l,c]=m.useState(""),[u,d]=m.useState("all");m.useEffect(()=>{let p=[...e];l&&(p=p.filter(y=>y.tournament_name.toLowerCase().includes(l.toLowerCase()))),u!=="all"&&(p=p.filter(y=>{var x;return((x=y.games)==null?void 0:x.id.toString())===u})),i(p)},[e,l,u]);const f=p=>{c(p.target.value)},h=p=>{d(p)};if(r)return a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});if(o.length===0)return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(we,{type:"search",placeholder:"Search tournaments...",value:l,onChange:f,className:"w-full"})}),a.jsx("div",{className:"md:w-48",children:a.jsxs(ol,{value:u,onValueChange:h,children:[a.jsx(Ao,{children:a.jsx(il,{placeholder:"Filter by game"})}),a.jsxs(Oo,{children:[a.jsx(Zr,{value:"all",children:"All Games"}),t.map(p=>a.jsx(Zr,{value:p.id.toString(),children:p.game_name},p.id))]})]})})]}),a.jsxs("div",{className:"bg-[#1a1a1a] p-8 rounded-lg shadow-md text-center border border-gray-800",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-100",children:"No tournaments found"}),l||u!=="all"?a.jsxs("div",{children:[a.jsx("p",{className:"mb-4 text-gray-400",children:"Try adjusting your filters"}),a.jsx(J,{variant:"outline",onClick:()=>{c(""),d("all")},children:"Clear filters"})]}):a.jsx("p",{className:"text-gray-400",children:n==="upcoming"?"There are no upcoming tournaments scheduled at the moment.":"There are no past tournaments to display."})]})]});const v=p=>{const y={year:"numeric",month:"short",day:"numeric"};return new Date(p).toLocaleDateString(void 0,y)};return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(we,{type:"search",placeholder:"Search tournaments...",value:l,onChange:f,className:"w-full"})}),a.jsx("div",{className:"md:w-48",children:a.jsxs(ol,{value:u,onValueChange:h,children:[a.jsx(Ao,{children:a.jsx(il,{placeholder:"Filter by game"})}),a.jsxs(Oo,{children:[a.jsx(Zr,{value:"all",children:"All Games"}),t.map(p=>a.jsx(Zr,{value:p.id.toString(),children:p.game_name},p.id))]})]})})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(p=>{var y,x,w,g,b,j,S,N,_,C;return a.jsx(wy,{id:p.id,name:p.tournament_name,game:((y=p.games)==null?void 0:y.game_name)||"Unknown Game",gameIcon:(x=p.games)==null?void 0:x.icon,date:v(p.start_date),registrationDeadline:v(p.reg_end_date),teamSize:`${(g=(w=p.tournament_details)==null?void 0:w[0])==null?void 0:g.players_per_team}v${(j=(b=p.tournament_details)==null?void 0:b[0])==null?void 0:j.players_per_team}`,totalTeams:((N=(S=p.tournament_details)==null?void 0:S[0])==null?void 0:N.number_of_teams)||0,registeredTeams:p.registered_teams,prize:(C=(_=p.tournament_details)==null?void 0:_[0])==null?void 0:C.prize_1,imageUrl:p.cover_image,isRegistered:p.userIsRegistered,addedBy:p.added_by,currentUserId:s==null?void 0:s.id},p.id)})})]})},sU=()=>{const{user:e}=jt(),{isLoungeAdmin:t,isAdmin:r,isSuperAdmin:n}=Sr(),[s,o]=m.useState([]);m.useEffect(()=>{(async()=>{try{const{data:g,error:b}=await z.from("games").select("id, game_name").order("game_name");if(b)throw b;o(g||[])}catch(g){console.error("Error fetching games:",g)}})()},[]);const i=async w=>{const{data:g,error:b}=await w;if(b)throw b;if(!g)return[];const{data:j,error:S}=await z.from("tournament_registrations").select("tournament_id").eq("is_completed",!0);if(S)throw console.error("Error fetching registration counts:",S),S;const N={};j&&Array.isArray(j)&&j.forEach(C=>{const E=C.tournament_id;N[E]=(N[E]||0)+1});let _=[];if(e){const{data:C}=await z.from("team_members").select(`
          team_id,
          teams!inner (
            tournament_registrations!inner (
              tournament_id
            )
          )
        `).eq("user_id",e.id);_=C||[]}return g.map(C=>{const E=N[C.id]||0;let T=!1;return e&&(T=_.some(I=>{var F,R;return(R=(F=I.teams)==null?void 0:F.tournament_registrations)==null?void 0:R.some(A=>A.tournament_id===C.id)})),{...C,registered_teams:E,userIsRegistered:T}})},{data:l=[],isLoading:c,error:u}=Ft({queryKey:["tournaments","upcoming"],queryFn:async()=>{const w=new Date().toISOString(),g=z.from("tournaments").select(`
          id,
          tournament_name,
          description,
          start_date,
          end_date,
          reg_start_date,
          reg_end_date,
          cover_image,
          added_by,
          games (
            id,
            game_name,
            icon
          ),
          tournament_details (
            players_per_team,
            number_of_teams,
            prize_1
          )
        `).gte("start_date",w).order("start_date");return i(g)}}),{data:d=[],isLoading:f,error:h}=Ft({queryKey:["tournaments","ongoing"],queryFn:async()=>{const w=new Date().toISOString(),g=z.from("tournaments").select(`
          id,
          tournament_name,
          description,
          start_date,
          end_date,
          reg_start_date,
          reg_end_date,
          cover_image,
          added_by,
          games (
            id,
            game_name,
            icon
          ),
          tournament_details (
            players_per_team,
            number_of_teams,
            prize_1
          )
        `).lte("start_date",w).gte("end_date",w).order("end_date");return i(g)}}),{data:v=[],isLoading:p,error:y}=Ft({queryKey:["tournaments","past"],queryFn:async()=>{const w=new Date().toISOString(),g=z.from("tournaments").select(`
          id,
          tournament_name,
          description,
          start_date,
          end_date,
          reg_start_date,
          reg_end_date,
          cover_image,
          added_by,
          games (
            id,
            game_name,
            icon
          ),
          tournament_details (
            players_per_team,
            number_of_teams,
            prize_1
          )
        `).lt("end_date",w).order("start_date",{ascending:!1});return i(g)}});m.useEffect(()=>{u&&(Y.error("Failed to fetch upcoming tournaments"),console.error(u)),h&&(Y.error("Failed to fetch ongoing tournaments"),console.error(h)),y&&(Y.error("Failed to fetch past tournaments"),console.error(y))},[u,h,y]);const x=nr();return a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212]",children:[a.jsx(He,{}),a.jsxs("div",{className:"flex-grow container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:"Tournaments"}),(t||r||n)&&a.jsxs(J,{onClick:()=>x("/host-tournament"),className:"bg-primary flex gap-2 items-center shadow hover:scale-105 transition-transform",variant:"default",children:[a.jsx(NN,{className:"h-5 w-5"}),"Create Tournament"]})]}),a.jsxs(hm,{defaultValue:"upcoming",className:"text-gray-100",children:[a.jsxs(Bu,{className:"mb-6 bg-[#1a1a1a] border border-gray-800",children:[a.jsx(rn,{value:"upcoming",className:"data-[state=active]:bg-gaming-primary data-[state=active]:text-white",children:"Upcoming"}),a.jsx(rn,{value:"ongoing",className:"data-[state=active]:bg-gaming-primary data-[state=active]:text-white",children:"Ongoing"}),a.jsx(rn,{value:"past",className:"data-[state=active]:bg-gaming-primary data-[state=active]:text-white",children:"Past"})]}),a.jsx(nn,{value:"upcoming",children:a.jsx(Np,{tournaments:l,games:s,loading:c,type:"upcoming"})}),a.jsx(nn,{value:"ongoing",children:a.jsx(Np,{tournaments:d,games:s,loading:f,type:"ongoing"})}),a.jsx(nn,{value:"past",children:a.jsx(Np,{tournaments:v,games:s,loading:p,type:"past"})})]})]}),a.jsx(Ge,{})]})},aU=()=>{var S,N,_,C,E,T,I,F,R,A,U,L,M,k,P;const{tournamentId:e}=Nl(),{user:t}=jt(),{roleId:r,loading:n}=Sr(),[s,o]=m.useState(!1),[i,l]=m.useState(!1),c=W=>{const V={year:"numeric",month:"short",day:"numeric"};return new Date(W).toLocaleDateString(void 0,V)},{data:u,isLoading:d,error:f}=Ft({queryKey:["tournament-detail",e],queryFn:async()=>{try{const W=parseInt(e);if(isNaN(W))throw new Error("Invalid tournament ID");const{data:V,error:Z}=await z.from("tournaments").select(`
            id,
            tournament_name,
            description,
            start_date,
            end_date,
            reg_start_date,
            reg_end_date,
            cover_image,
            added_by,
            games (
              id,
              game_name
            ),
            lounges (
              id,
              lounge_name,
              address
            ),
            tournament_details (
              players_per_team,
              number_of_teams,
              prize_1,
              prize_2,
              prize_3,
              format_type,
              rules,
              additional_prizes
            )
          `).eq("id",W).single();if(Z)throw Z;if(!V)throw new Error("Tournament not found");const{data:fe,error:le}=await z.from("tournament_registrations").select("tournament_id").eq("tournament_id",W).eq("is_completed",!0);if(le)throw le;let ke=!1;if(t){const{data:ge}=await z.from("team_members").select(`
              team_id,
              teams!inner (
                tournament_registrations!inner (
                  tournament_id
                )
              )
            `).eq("user_id",t.id);ke=ge&&ge.some(H=>{var G,X;return(X=(G=H.teams)==null?void 0:G.tournament_registrations)==null?void 0:X.some(se=>se.tournament_id===W)})}return V.cover_image&&(V.cover_image=rm(V.cover_image)),{...V,registered_teams:fe?fe.length:0,userIsRegistered:ke}}catch(W){throw console.error("Error fetching tournament:",W),W}}});if(d)return a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212]",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gaming-primary"})}),a.jsx(Ge,{})]});if(f||!u)return a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212]",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-[#1a1a1a] p-8 rounded-lg shadow-md text-center border border-gray-800",children:[a.jsx(vl,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-100",children:"Tournament Not Found"}),a.jsx("p",{className:"mb-6 text-gray-300",children:"The tournament you're looking for doesn't exist or has been removed."}),a.jsx(J,{asChild:!0,children:a.jsx(Ue,{to:"/tournaments",children:"Back to Tournaments"})})]})}),a.jsx(Ge,{})]});const h=new Date,p=new Date(u.reg_end_date)<h,y=u.registered_teams>=(((S=u.tournament_details[0])==null?void 0:S.number_of_teams)||0),x=t&&t.id===u.added_by,w=r===3||r===4,g=r===1,b=x||w,j=async()=>{o(!0);try{const{error:W}=await z.rpc("delete_tournament_completely",{tournament_id_param:parseInt(e)});if(W)throw W;Y.success("Tournament has been deleted"),setTimeout(()=>{window.location.href="/tournaments"},1500)}catch(W){console.error("Error deleting tournament:",W),Y.error("Failed to delete tournament")}finally{o(!1),l(!1)}};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212]",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-6",children:a.jsxs(Ue,{to:"/tournaments",className:"text-gaming-primary hover:underline flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Tournaments"]})}),a.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg shadow-md overflow-hidden border border-gray-800",children:[a.jsxs("div",{className:"relative h-64 md:h-96 bg-gray-800",children:[u.cover_image?a.jsx("img",{src:u.cover_image,alt:`${u.tournament_name} banner`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Tournament Banner"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-end",children:a.jsxs("div",{className:"p-6 text-white",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:u.tournament_name}),u.games&&a.jsxs("div",{className:"flex items-center text-sm",children:[a.jsx("div",{className:"px-2 py-1 bg-gaming-primary rounded text-white mr-2",children:u.games.game_name}),((N=u.tournament_details[0])==null?void 0:N.format_type)&&a.jsx("div",{className:"px-2 py-1 bg-gray-700 bg-opacity-60 rounded",children:u.tournament_details[0].format_type})]})]})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:[a.jsx("div",{className:"mb-4 md:mb-0",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx(Eu,{className:"h-5 w-5 mr-2 text-gaming-primary"}),a.jsxs("span",{children:["Date: ",c(u.start_date)]})]}),a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx(_o,{className:"h-5 w-5 mr-2 text-gaming-primary"}),a.jsxs("span",{children:["Registration Deadline: ",c(u.reg_end_date)]})]}),a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx($h,{className:"h-5 w-5 mr-2 text-gaming-primary"}),a.jsxs("span",{children:["Team Size: ",(_=u.tournament_details[0])==null?void 0:_.players_per_team,"v",(C=u.tournament_details[0])==null?void 0:C.players_per_team]})]}),a.jsxs("div",{className:"flex items-center text-gray-300",children:[a.jsx(Ca,{className:"h-5 w-5 mr-2 text-gaming-primary"}),a.jsxs("span",{children:["Venue: ",(E=u.lounges)==null?void 0:E.lounge_name]})]})]})}),a.jsxs("div",{className:"flex flex-col items-center",children:[((I=(T=u==null?void 0:u.tournament_details)==null?void 0:T[0])==null?void 0:I.prize_1)&&a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(cr,{className:"h-6 w-6 text-yellow-500 mr-2"}),a.jsx("span",{className:"font-bold text-lg text-gray-100",children:u.tournament_details[0].prize_1})]}),a.jsx("div",{children:u!=null&&u.userIsRegistered?a.jsx(J,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>window.location.href=`/tournaments/${e}/register`,children:"View Registration"}):b?a.jsxs(mm,{open:i,onOpenChange:l,children:[a.jsx(Bx,{asChild:!0,children:a.jsx(J,{className:"w-full bg-red-600 hover:bg-red-700",children:"Cancel Tournament"})}),a.jsxs(zu,{className:"sm:max-w-[425px] bg-[#1a1a1a] text-white border-gray-700",children:[a.jsxs(Vu,{children:[a.jsx(Wu,{children:"Cancel Tournament"}),a.jsx(qu,{className:"text-gray-400",children:"Are you sure you want to cancel this tournament? This action cannot be undone."})]}),a.jsxs(pm,{className:"mt-4",children:[a.jsx(J,{variant:"outline",onClick:()=>l(!1),className:"border-gray-600",children:"Keep Tournament"}),a.jsx(J,{onClick:j,className:"bg-red-600 hover:bg-red-700",disabled:s,children:s?"Cancelling...":"Yes, Cancel Tournament"})]})]})]}):y?a.jsx(J,{className:"w-full bg-amber-500 hover:bg-amber-600",disabled:!0,children:"Teams Full"}):a.jsx(J,{className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",disabled:p||!g||n,onClick:()=>window.location.href=`/tournaments/${e}/register`,children:p?"Registration Closed":!g&&!n?"Players Only":"Register"})})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1 text-gray-300",children:[a.jsxs("span",{children:[u.registered_teams," / ",((F=u.tournament_details[0])==null?void 0:F.number_of_teams)||0," Teams Registered"]}),a.jsxs("span",{children:[Math.round(u.registered_teams/(((R=u.tournament_details[0])==null?void 0:R.number_of_teams)||1)*100),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:a.jsx("div",{className:"bg-gaming-primary h-2 rounded-full",style:{width:`${u.registered_teams/(((A=u.tournament_details[0])==null?void 0:A.number_of_teams)||1)*100}%`}})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-100",children:"About the Tournament"}),a.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:u.description||"No description provided."})]}),((U=u.tournament_details[0])==null?void 0:U.rules)&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-100",children:"Rules"}),a.jsx("div",{className:"bg-[#222222] p-4 rounded-lg border border-gray-800",children:a.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:u.tournament_details[0].rules})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-100",children:"Prizes"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[((L=u.tournament_details[0])==null?void 0:L.prize_1)&&a.jsxs("div",{className:"bg-gradient-to-b from-yellow-900/20 to-yellow-800/10 p-4 rounded-lg border border-yellow-800/50 flex items-center",children:[a.jsx("div",{className:"bg-yellow-500 text-white rounded-full h-10 w-10 flex items-center justify-center mr-3",children:"1st"}),a.jsx("span",{className:"font-semibold text-gray-100",children:u.tournament_details[0].prize_1})]}),((M=u.tournament_details[0])==null?void 0:M.prize_2)&&a.jsxs("div",{className:"bg-gradient-to-b from-gray-800 to-gray-900 p-4 rounded-lg border border-gray-700 flex items-center",children:[a.jsx("div",{className:"bg-gray-400 text-white rounded-full h-10 w-10 flex items-center justify-center mr-3",children:"2nd"}),a.jsx("span",{className:"font-semibold text-gray-100",children:u.tournament_details[0].prize_2})]}),((k=u.tournament_details[0])==null?void 0:k.prize_3)&&a.jsxs("div",{className:"bg-gradient-to-b from-orange-900/20 to-orange-800/10 p-4 rounded-lg border border-orange-800/50 flex items-center",children:[a.jsx("div",{className:"bg-orange-500 text-white rounded-full h-10 w-10 flex items-center justify-center mr-3",children:"3rd"}),a.jsx("span",{className:"font-semibold text-gray-100",children:u.tournament_details[0].prize_3})]}),((P=u.tournament_details[0])==null?void 0:P.additional_prizes)&&a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-purple-900/30 text-purple-400 mr-3",children:a.jsx(lO,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-100",children:"Additional Prizes"}),a.jsx("p",{className:"text-gray-400",children:u.tournament_details[0].additional_prizes})]})]})]})]}),u.lounges&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-100",children:"Location"}),a.jsxs("div",{className:"bg-[#222222] p-4 rounded-lg border border-gray-800",children:[a.jsx("h3",{className:"font-semibold mb-1 text-gray-100",children:u.lounges.lounge_name}),a.jsx("p",{className:"text-gray-300",children:u.lounges.address})]})]})]})]})]})}),a.jsx(Ge,{})]})};var oU="Label",eE=m.forwardRef((e,t)=>a.jsx(xe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));eE.displayName=oU;var tE=eE;const iU=Dh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=m.forwardRef(({className:e,...t},r)=>a.jsx(tE,{ref:r,className:ee(iU(),e),...t}));ze.displayName=tE.displayName;var Vx="Checkbox",[lU,sq]=fr(Vx),[cU,uU]=lU(Vx),rE=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,v]=m.useState(null),p=Fe(t,j=>v(j)),y=m.useRef(!1),x=h?d||!!h.closest("form"):!0,[w=!1,g]=zr({prop:s,defaultProp:o,onChange:u}),b=m.useRef(w);return m.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const S=()=>g(b.current);return j.addEventListener("reset",S),()=>j.removeEventListener("reset",S)}},[h,g]),a.jsxs(cU,{scope:r,state:w,disabled:l,children:[a.jsx(xe.button,{type:"button",role:"checkbox","aria-checked":Na(w)?"mixed":w,"aria-required":i,"data-state":aE(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onKeyDown:ae(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ae(e.onClick,j=>{g(S=>Na(S)?!0:!S),x&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})}),x&&a.jsx(dU,{control:h,bubbles:!y.current,name:n,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Na(o)?!1:o})]})});rE.displayName=Vx;var nE="CheckboxIndicator",sE=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=uU(nE,r);return a.jsx(hr,{present:n||Na(o.state)||o.state===!0,children:a.jsx(xe.span,{"data-state":aE(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});sE.displayName=nE;var dU=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=m.useRef(null),l=gm(r),c=Vh(t);m.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&v){const p=new Event("click",{bubbles:n});d.indeterminate=Na(r),v.call(d,Na(r)?!1:r),d.dispatchEvent(p)}},[l,r,n]);const u=m.useRef(Na(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Na(e){return e==="indeterminate"}function aE(e){return Na(e)?"indeterminate":e?"checked":"unchecked"}var oE=rE,fU=sE;const eu=m.forwardRef(({className:e,...t},r)=>a.jsx(oE,{ref:r,className:ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(fU,{className:ee("flex items-center justify-center text-current"),children:a.jsx(yl,{className:"h-4 w-4"})})}));eu.displayName=oE.displayName;var iE="AlertDialog",[hU,aq]=fr(iE,[Jk]),Ds=Jk(),lE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ds(t);return a.jsx(hC,{...n,...r,modal:!0})};lE.displayName=iE;var mU="AlertDialogTrigger",cE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ds(r);return a.jsx(mC,{...s,...n,ref:t})});cE.displayName=mU;var pU="AlertDialogPortal",uE=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ds(t);return a.jsx(pC,{...n,...r})};uE.displayName=pU;var gU="AlertDialogOverlay",dE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ds(r);return a.jsx(Dx,{...s,...n,ref:t})});dE.displayName=gU;var Ri="AlertDialogContent",[yU,vU]=hU(Ri),fE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=Ds(r),i=m.useRef(null),l=Fe(t,i),c=m.useRef(null);return a.jsx(S8,{contentName:Ri,titleName:hE,docsSlug:"alert-dialog",children:a.jsx(yU,{scope:r,cancelRef:c,children:a.jsxs(Lx,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:ae(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(Tv,{children:n}),a.jsx(wU,{contentRef:i})]})})})});fE.displayName=Ri;var hE="AlertDialogTitle",mE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ds(r);return a.jsx(Fx,{...s,...n,ref:t})});mE.displayName=hE;var pE="AlertDialogDescription",gE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ds(r);return a.jsx($x,{...s,...n,ref:t})});gE.displayName=pE;var xU="AlertDialogAction",yE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ds(r);return a.jsx(Ux,{...s,...n,ref:t})});yE.displayName=xU;var vE="AlertDialogCancel",xE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=vU(vE,r),o=Ds(r),i=Fe(t,s);return a.jsx(Ux,{...o,...n,ref:i})});xE.displayName=vE;var wU=({contentRef:e})=>{const t=`\`${Ri}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ri}\` by passing a \`${pE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ri}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},bU=lE,_U=cE,jU=uE,wE=dE,bE=fE,_E=yE,jE=xE,NE=mE,SE=gE;const ky=bU,Cy=_U,NU=jU,kE=m.forwardRef(({className:e,...t},r)=>a.jsx(wE,{className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));kE.displayName=wE.displayName;const Qf=m.forwardRef(({className:e,...t},r)=>a.jsxs(NU,{children:[a.jsx(kE,{}),a.jsx(bE,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Qf.displayName=bE.displayName;const Jf=({className:e,...t})=>a.jsx("div",{className:ee("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jf.displayName="AlertDialogHeader";const Zf=({className:e,...t})=>a.jsx("div",{className:ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zf.displayName="AlertDialogFooter";const Xf=m.forwardRef(({className:e,...t},r)=>a.jsx(NE,{ref:r,className:ee("text-lg font-semibold",e),...t}));Xf.displayName=NE.displayName;const eh=m.forwardRef(({className:e,...t},r)=>a.jsx(SE,{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));eh.displayName=SE.displayName;const th=m.forwardRef(({className:e,...t},r)=>a.jsx(_E,{ref:r,className:ee(al(),e),...t}));th.displayName=_E.displayName;const rh=m.forwardRef(({className:e,...t},r)=>a.jsx(jE,{ref:r,className:ee(al({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));rh.displayName=jE.displayName;function Nt({className:e,...t}){return a.jsx("div",{className:ee("animate-pulse rounded-md bg-muted",e),...t})}const SU=({teamId:e,isCaptain:t,isCompleted:r,requiredMembers:n,onTransferCaptain:s})=>{const[o,i]=m.useState([]),[l,c]=m.useState(!0),[u,d]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const{data:y,error:x}=await ht("team_members").select(`
            id,
            user_id,
            is_captain
          `).eq("team_id",e);if(x)throw x;if(y&&y.length>0){const w=y,g=await Promise.all(w.map(async b=>{try{const{data:j,error:S}=await ht("profiles").select("username, full_name").eq("id",b.user_id).single();return S?(console.error("Error fetching profile for user:",b.user_id,S),{...b,profiles:{username:"Unknown User",full_name:""}}):{...b,profiles:j}}catch(j){return console.error("Error in profile fetch:",j),{...b,profiles:{username:"Unknown User",full_name:""}}}}));console.log("Team members with profiles:",g),i(g)}else i([])}catch(y){console.error("Error fetching team members:",y),Y.error("Failed to load team members")}finally{c(!1)}})()},[e]);const f=async p=>{if(!(!t||r))try{const{error:y}=await ht("team_members").delete().eq("id",p);if(y)throw y;i(o.filter(x=>x.id!==p)),Y.success("Team member removed")}catch(y){console.error("Error removing team member:",y),Y.error("Failed to remove team member")}},h=async(p,y)=>{if(s){d(!0);try{await s(p,y)}catch(x){console.error("Error transferring captain role:",x)}finally{d(!1)}}};if(l)return a.jsxs("div",{className:"space-y-2 my-6",children:[a.jsx(Nt,{className:"h-12 w-full bg-gray-800/50"}),a.jsx(Nt,{className:"h-12 w-full bg-gray-800/50"}),a.jsx(Nt,{className:"h-12 w-full bg-gray-800/50"})]});const v=o.filter(p=>!p.is_captain);return a.jsxs("div",{className:"mt-3",children:[o.length===0?a.jsx("div",{className:"text-center py-4 text-gray-400",children:a.jsx("p",{children:"No team members yet"})}):a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"space-y-2 max-h-64 overflow-y-auto mb-4",children:o.map(p=>{var y,x;return a.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md bg-[#222222] border border-gray-700",children:[a.jsxs("div",{className:"flex items-center",children:[p.is_captain?a.jsx(sp,{className:"h-5 w-5 mr-2 text-blue-500"}):a.jsx(ba,{className:"h-5 w-5 mr-2 text-gray-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-100",children:(y=p.profiles)==null?void 0:y.username}),a.jsx("div",{className:"text-xs text-gray-400",children:(x=p.profiles)==null?void 0:x.full_name})]})]}),t&&!r&&!p.is_captain&&a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>f(p.id),className:"text-red-500 hover:text-red-400 hover:bg-red-900/20",children:a.jsx(yO,{className:"h-4 w-4"})})]},p.id)})}),t&&!r&&v.length>0&&s&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center",children:[a.jsx(sp,{className:"h-4 w-4 mr-2"}),"Transfer Captain Role"]}),a.jsxs(cm,{children:[a.jsx(um,{asChild:!0,children:a.jsx(J,{variant:"outline",size:"sm",className:"w-full justify-start",disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Transferring..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sp,{className:"h-4 w-4 mr-2"}),"Select a new captain"]})})}),a.jsx($u,{className:"w-56",children:v.map(p=>{var y;return a.jsx(Zs,{onClick:()=>h(p.user_id,p.id),className:"cursor-pointer",children:((y=p.profiles)==null?void 0:y.username)||"Unknown user"},p.id)})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will transfer your captain privileges to another team member."})]})]}),!r&&a.jsx("div",{className:"mt-2 text-sm text-gray-400",children:a.jsxs("p",{children:[o.length," of ",n," members joined"]})})]})},kU=({teamId:e,tournamentId:t})=>{const[r,n]=m.useState(""),[s,o]=m.useState(""),[i,l]=m.useState(!0),[c,u]=m.useState(!1),{user:d}=jt();m.useEffect(()=>{(async()=>{try{const{data:p,error:y}=await ht("team_invites").select("invite_code, expires_at").eq("team_id",e).eq("tournament_id",t).order("expires_at",{ascending:!1}).limit(1);if(y)throw y;if(p&&p.length>0){const x=p[0],w=new Date(x.expires_at);w>new Date&&(n(x.invite_code),o(w.toLocaleString()))}}catch(p){console.error("Error fetching invite code:",p)}finally{l(!1)}})()},[e,t]);const f=async()=>{if(!d){Y.error("You must be logged in");return}u(!0);try{const v=Math.random().toString(36).substring(2,15).toUpperCase(),p=new Date(Date.now()+24*60*60*1e3).toISOString(),{data:y,error:x}=await ht("team_invites").insert([{team_id:e,tournament_id:t,invite_code:v,expires_at:p,created_by:d.id}]).select("invite_code, expires_at").single();if(x)throw x;const w=y,g=new Date(w.expires_at);n(w.invite_code),o(g.toLocaleString()),Y.success("New invite code generated!")}catch(v){console.error("Error generating invite code:",v),Y.error("Failed to generate invite code")}finally{u(!1)}},h=()=>{navigator.clipboard.writeText(r),Y.success("Invite code copied to clipboard!")};return i?a.jsx("div",{className:"flex justify-center",children:a.jsx(wr,{className:"h-5 w-5 animate-spin"})}):a.jsxs("div",{children:[r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(we,{type:"text",value:r,readOnly:!0,className:"mr-2"}),a.jsxs(J,{variant:"outline",size:"sm",onClick:h,children:[a.jsx(tO,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Expires: ",s]})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No invite code generated yet."}),a.jsx(J,{className:"w-full mt-4",onClick:f,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):"Generate Invite Code"})]})},CU=()=>{var V,Z,fe,le,ke,ge,H;const{tournamentId:e}=Nl(),t=nr(),{user:r,loading:n}=jt(),[s,o]=m.useState(null),[i,l]=m.useState(!0),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,v]=m.useState(""),[p,y]=m.useState(!1),[x,w]=m.useState(null),[g,b]=m.useState(null),[j,S]=m.useState(!1),[N,_]=m.useState(null),[C,E]=m.useState(!1),[T,I]=m.useState(!1),[F,R]=m.useState([]);m.useEffect(()=>{!n&&!r&&(Y.error("Please log in to register for tournaments"),t("/login",{state:{redirectUrl:`/tournaments/${e}/register`}}))},[r,n,t,e]),m.useEffect(()=>{(async()=>{if(e)try{const{data:X,error:se}=await z.from("tournaments").select(`
            id, 
            tournament_name, 
            start_date, 
            reg_end_date,
            games(game_name),
            tournament_details(players_per_team, number_of_teams)
          `).eq("id",parseInt(e)).single();if(se)throw se;o(X);const{count:ie,error:Q}=await z.from("tournament_registrations").select("*",{count:"exact",head:!0}).eq("tournament_id",parseInt(e)).eq("is_completed",!0);if(Q)throw Q;const je=ie!==null&&X.tournament_details&&X.tournament_details.length>0&&ie>=X.tournament_details[0].number_of_teams;E(je)}catch(X){console.error("Error loading tournament:",X),Y.error("Failed to load tournament details")}})()},[e]);const A=async()=>{if(!(!r||!e))try{const{data:G,error:X}=await ht("team_members").select(`
          id,
          is_captain,
          team_id,
          teams:team_id!inner(
            id,
            team_name,
            tournament_registrations!inner(
              id,
              is_completed,
              accepted_terms,
              tournament_id
            )
          )
        `).eq("user_id",r.id).filter("teams.tournament_registrations.tournament_id","eq",parseInt(e));if(X)throw X;if(console.log("Direct tournament registration check result:",G),G&&G.length>0){const Q=G[0];S(Q.is_captain),b(Q.teams),_(Q.id),Q.teams.tournament_registrations.length>0&&(w(Q.teams.tournament_registrations[0]),y(Q.teams.tournament_registrations[0].accepted_terms)),Q.is_captain&&await U(Q.team_id),l(!1);return}const{data:se,error:ie}=await ht("team_members").select(`
          id,
          is_captain,
          team_id,
          teams:team_id(
            id,
            team_name
          )
        `).eq("user_id",r.id);if(ie)throw ie;console.log("Existing membership check result:",se),l(!1)}catch(G){console.error("Error checking registration:",G),l(!1)}},U=async G=>{try{const{data:X,error:se}=await ht("team_members").select(`
          id,
          user_id,
          is_captain,
          profiles:user_id(
            username,
            full_name
          )
        `).eq("team_id",G).eq("is_captain",!1);if(se)throw se;console.log("Team members for captain transfer:",X),R(X||[])}catch(X){console.error("Error fetching team members:",X)}};m.useEffect(()=>{s&&r&&A()},[s,r,e]);const L=async G=>{if(G.preventDefault(),!(!r||!e||!h.trim())){if(C){Y.error("This tournament is full. No more teams can be registered.");return}if(s&&new Date(s.reg_end_date)<new Date){Y.error("Registration deadline has passed. You can no longer register for this tournament.");return}u(!0);try{const{data:X,error:se}=await ht("team_members").select(`
          id,
          teams!inner(
            tournament_registrations!inner(
              tournament_id
            )
          )
        `).eq("user_id",r.id).filter("teams.tournament_registrations.tournament_id","eq",parseInt(e));if(se&&console.error("Error checking existing membership:",se),X&&X.length>0){Y.info("You're already registered for this tournament"),await A(),u(!1);return}const{data:ie,error:Q}=await z.from("teams").insert([{team_name:h.trim(),tournament_id:parseInt(e)}]).select().single();if(Q)throw Q;const{data:je,error:Re}=await ht("team_members").insert({team_id:ie.id,user_id:r.id,is_captain:!0}).select().single();if(Re)throw Re;const{data:Ze,error:Je}=await ht("tournament_registrations").insert({tournament_id:parseInt(e),team_id:ie.id,accepted_terms:p,is_completed:!1,added_by:r.id}).select().single();if(Je)throw Je;Y.success("Team created successfully!"),b(ie),w(Ze),S(!0),_(je.id)}catch(X){console.error("Error creating team:",X),Y.error("Failed to create team")}finally{u(!1)}}},M=async()=>{var G,X,se,ie;if(!x||!g||C||!j){if(C){Y.error("This tournament is now full. Your registration cannot be completed."),await k();return}if(!j){Y.error("Only the team captain can complete registration.");return}return}try{const{count:Q,error:je}=await ht("team_members").select("*",{count:"exact",head:!0}).eq("team_id",g.id);if(je)throw je;const Re=((X=(G=s==null?void 0:s.tournament_details)==null?void 0:G[0])==null?void 0:X.players_per_team)||1;if(Q<Re)return Y.error(`Your team needs ${Re} players. Currently you have ${Q}.`);if(!p)return Y.error("You must accept the tournament terms to complete registration");const{count:Ze,error:Je}=await z.from("tournament_registrations").select("*",{count:"exact",head:!0}).eq("tournament_id",parseInt(e)).eq("is_completed",!0);if(Je)throw Je;const mt=((ie=(se=s==null?void 0:s.tournament_details)==null?void 0:se[0])==null?void 0:ie.number_of_teams)||0;if(Ze>=mt){Y.error("This tournament is now full. Your registration cannot be completed.");return}const{error:O}=await ht("tournament_registrations").update({is_completed:!0,accepted_terms:!0,updated_at:new Date().toISOString()}).eq("id",x.id);if(O)throw O;Y.success("Registration completed successfully!"),w({...x,is_completed:!0,accepted_terms:!0})}catch(Q){console.error("Error completing registration:",Q),Y.error("Failed to complete registration")}},k=async()=>{if(!(!r||!N||!e)){f(!0);try{if(j){const{count:G,error:X}=await ht("team_members").select("*",{count:"exact",head:!0}).eq("team_id",g.id);if(X)throw X;if(G>1)throw new Error("As team captain, you must transfer captaincy or remove all team members before you can leave");const{error:se}=await ht("tournament_registrations").delete().eq("team_id",g.id).eq("tournament_id",parseInt(e));if(se)throw se;const{error:ie}=await ht("team_members").delete().eq("id",N);if(ie)throw ie;const{error:Q}=await z.from("teams").delete().eq("id",g.id);if(Q)throw Q;Y.success("Team registration has been canceled")}else{const{error:G}=await ht("team_members").delete().eq("id",N);if(G)throw G;Y.success("You have left the team")}b(null),w(null),_(null),S(!1),t(`/tournaments/${e}/register`)}catch(G){console.error("Error leaving team:",G),Y.error(G.message||"Failed to leave team")}finally{f(!1)}}},P=async(G,X)=>{if(!(!g||!j)){I(!0);try{const{error:se}=await ht("team_members").update({is_captain:!1}).eq("id",N);if(se)throw se;const{error:ie}=await ht("team_members").update({is_captain:!0}).eq("id",X);if(ie)throw ie;Y.success("Captain role transferred successfully"),S(!1),await A()}catch(se){console.error("Error transferring captain:",se),Y.error("Failed to transfer captain role");try{N&&await ht("team_members").update({is_captain:!0}).eq("id",N)}catch(ie){console.error("Error reverting captain changes:",ie)}}finally{I(!1)}}};if(n||i)return a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(He,{}),a.jsxs("main",{className:"flex-grow flex items-center justify-center",children:[a.jsx(wr,{className:"h-8 w-8 animate-spin text-gray-500"}),a.jsx("span",{className:"ml-2",children:"Loading..."})]}),a.jsx(Ge,{})]});if(!s)return a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Tournament Not Found"}),a.jsx("p",{className:"mb-6",children:"The tournament you're looking for doesn't exist or has been removed."}),a.jsx(J,{onClick:()=>t("/tournaments"),children:"Back to Tournaments"})]})}),a.jsx(Ge,{})]});const W=new Date(s.reg_end_date)<new Date;return a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212] text-gray-100",children:[a.jsx(He,{}),a.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:s.tournament_name}),a.jsxs("div",{className:"text-gray-400 mt-1",children:[a.jsxs("span",{children:[(V=s.games)==null?void 0:V.game_name,"  "]}),a.jsxs("span",{children:["Team Size: ",(fe=(Z=s.tournament_details)==null?void 0:Z[0])==null?void 0:fe.players_per_team,"v",(ke=(le=s.tournament_details)==null?void 0:le[0])==null?void 0:ke.players_per_team]})]})]}),W?a.jsxs(Se,{className:"mb-8 bg-[#1a1a1a] border-gray-800",children:[a.jsx(qt,{children:a.jsxs(Ht,{className:"text-xl flex items-center text-red-500",children:[a.jsx(Pu,{className:"mr-2 h-5 w-5"}),"Registration Closed"]})}),a.jsx(Ie,{children:a.jsx("p",{className:"text-gray-300",children:"The registration period for this tournament has ended."})}),a.jsx(bs,{children:a.jsx(J,{variant:"outline",onClick:()=>t(`/tournaments/${e}`),children:"View Tournament Details"})})]}):C&&!g?a.jsxs(Se,{className:"mb-8 bg-[#1a1a1a] border-gray-800",children:[a.jsx(qt,{children:a.jsxs(Ht,{className:"text-xl flex items-center text-amber-500",children:[a.jsx(vl,{className:"mr-2 h-5 w-5"}),"Tournament Full"]})}),a.jsx(Ie,{children:a.jsx("p",{className:"text-gray-300",children:"This tournament has reached its maximum capacity of teams. No more registrations are being accepted."})}),a.jsx(bs,{children:a.jsx(J,{variant:"outline",onClick:()=>t(`/tournaments/${e}`),children:"View Tournament Details"})})]}):g&&x?a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Se,{className:"bg-[#1a1a1a] border-gray-800",children:[a.jsxs(qt,{children:[a.jsxs(Ht,{className:"text-xl text-gray-100",children:[a.jsx("span",{children:g.team_name}),j&&a.jsx("span",{className:"ml-2 text-sm bg-blue-900/30 text-blue-400 px-2 py-0.5 rounded",children:"Captain"})]}),a.jsx(ja,{className:"text-gray-400",children:x.is_completed?"Registration completed":"Registration in progress (draft)"})]}),a.jsxs(Ie,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($h,{className:"h-5 w-5 mr-2 text-gray-400"}),a.jsx("span",{className:"font-medium text-gray-200",children:"Team Members"})]}),x.is_completed&&a.jsxs("span",{className:"bg-green-900/30 text-green-400 px-2 py-1 rounded-full text-xs flex items-center",children:[a.jsx(yl,{className:"h-3 w-3 mr-1"}),"Registered"]})]}),a.jsx(SU,{teamId:g.id,tournamentId:parseInt(e),isCaptain:j,isCompleted:x.is_completed,requiredMembers:((H=(ge=s==null?void 0:s.tournament_details)==null?void 0:ge[0])==null?void 0:H.players_per_team)||1,onTransferCaptain:P})]}),j&&!x.is_completed&&a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center h-5 space-x-2 mb-2",children:[a.jsx(eu,{id:"terms",checked:p,onCheckedChange:G=>{typeof G=="boolean"&&y(G)}}),a.jsx(ze,{htmlFor:"terms",className:"text-gray-300",children:"I accept the tournament rules and guidelines"})]})})})]}),a.jsxs(bs,{className:"flex justify-between flex-wrap gap-2",children:[a.jsxs(ky,{children:[a.jsx(Cy,{asChild:!0,children:a.jsxs(J,{variant:"destructive",disabled:d,children:[d?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(el,{className:"mr-2 h-4 w-4"}),"Cancel Registration"]})}),a.jsxs(Qf,{children:[a.jsxs(Jf,{children:[a.jsx(Xf,{children:"Cancel Team Registration"}),a.jsx(eh,{children:"This will permanently delete your team and registration for this tournament. This action cannot be undone."})]}),a.jsxs(Zf,{children:[a.jsx(rh,{children:"Cancel"}),a.jsx(th,{onClick:k,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirm"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(J,{variant:"outline",onClick:()=>t(`/tournaments/${e}`),children:"Back"}),j&&!x.is_completed&&a.jsx(J,{onClick:M,disabled:!p,children:"Complete Registration"})]})]}),!j&&!x.is_completed&&a.jsxs(bs,{className:"flex justify-between",children:[a.jsxs(ky,{children:[a.jsx(Cy,{asChild:!0,children:a.jsxs(J,{variant:"outline",className:"text-red-500 border-red-200 hover:bg-red-50 hover:text-red-600",disabled:d,children:[d?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Dg,{className:"mr-2 h-4 w-4"}),"Leave Team"]})}),a.jsxs(Qf,{children:[a.jsxs(Jf,{children:[a.jsx(Xf,{children:"Leave Team"}),a.jsx(eh,{children:"Are you sure you want to leave this team? You will need a new invitation code to rejoin."})]}),a.jsxs(Zf,{children:[a.jsx(rh,{children:"Cancel"}),a.jsx(th,{onClick:k,children:"Confirm"})]})]})]}),a.jsx(J,{variant:"outline",onClick:()=>t(`/tournaments/${e}`),children:"Back to Tournament"})]}),(!j||x.is_completed)&&x.is_completed&&a.jsx(bs,{children:a.jsx(J,{variant:"outline",onClick:()=>t(`/tournaments/${e}`),children:"Back to Tournament"})})]}),j&&!x.is_completed&&a.jsxs(Se,{className:"bg-[#1a1a1a] border-gray-800",children:[a.jsxs(qt,{children:[a.jsx(Ht,{className:"text-xl text-gray-100",children:"Team Invitations"}),a.jsx(ja,{className:"text-gray-400",children:"Invite players to join your team"})]}),a.jsx(Ie,{children:a.jsx(kU,{teamId:g.id,tournamentId:parseInt(e)})})]})]}):a.jsxs(Se,{className:"bg-[#1a1a1a] border-gray-800",children:[a.jsxs(qt,{children:[a.jsx(Ht,{className:"text-xl text-gray-100",children:"Register Your Team"}),a.jsxs(ja,{className:"text-gray-400",children:["Create a new team for ",s.tournament_name]})]}),a.jsx(Ie,{children:a.jsxs("form",{onSubmit:L,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(ze,{htmlFor:"teamName",children:"Team Name"}),a.jsx(we,{id:"teamName",placeholder:"Enter your team name",value:h,onChange:G=>v(G.target.value),required:!0,className:"bg-[#252525] border-gray-700 text-gray-100"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center h-5 space-x-2",children:[a.jsx(eu,{id:"terms",checked:p,onCheckedChange:G=>{typeof G=="boolean"&&y(G)}}),a.jsx(ze,{htmlFor:"terms",className:"text-gray-300",children:"I accept the tournament rules and guidelines"})]})})]})}),a.jsxs(bs,{className:"flex justify-between",children:[a.jsx(J,{variant:"outline",onClick:()=>t(`/tournaments/${e}`),children:"Cancel"}),a.jsx(J,{onClick:L,disabled:c||!h.trim()||!p,children:c?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gO,{className:"mr-2 h-4 w-4"}),"Create Team"]})})]})]})]}),a.jsx(Ge,{})]})},EU=({players:e,isLoading:t=!1,title:r="Global Rankings",searchQuery:n=""})=>{const s=n&&n.length>0?e.filter(o=>o.name.toLowerCase().includes(n.toLowerCase())):e;return t?a.jsxs(Se,{className:"border-gray-800 bg-[#1a1a1a]",children:[a.jsx(qt,{className:"pb-3",children:a.jsx(Ht,{className:"text-white",children:r})}),a.jsx(Ie,{className:"p-0",children:a.jsxs("div",{className:"divide-y divide-gray-800",children:[a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 font-medium text-sm bg-[#232323]",children:[a.jsx("div",{className:"col-span-1 text-gray-400",children:"Rank"}),a.jsx("div",{className:"col-span-3 text-gray-400",children:"Player"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Elo Rating"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Rate"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Streak"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Tournaments"})]}),Array.from({length:5}).map((o,i)=>a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 items-center",children:[a.jsx("div",{className:"col-span-1",children:a.jsx(Nt,{className:"h-6 w-6 rounded-full bg-gray-700"})}),a.jsx("div",{className:"col-span-3",children:a.jsx(Nt,{className:"h-5 w-32 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-16 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-12 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-8 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-10 bg-gray-700"})})]},i))]})})]}):a.jsxs(Se,{className:"border-gray-800 bg-[#1a1a1a]",children:[a.jsx(qt,{className:"pb-3",children:a.jsx(Ht,{className:"text-white",children:r})}),a.jsx(Ie,{className:"p-0",children:a.jsxs("div",{className:"divide-y divide-gray-800",children:[a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 font-medium text-sm bg-[#232323]",children:[a.jsx("div",{className:"col-span-1 text-gray-400",children:"Rank"}),a.jsx("div",{className:"col-span-3 text-gray-400",children:"Player"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Elo Rating"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Rate"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Streak"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Tournaments"})]}),s.length===0?a.jsx("div",{className:"py-6 text-center text-gray-500",children:n?"No players match your search":"No player rankings available"}):s.map(o=>a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 items-center text-sm hover:bg-[#2a2a2a] transition-colors duration-200",children:[a.jsx("div",{className:"col-span-1",children:a.jsx("div",{className:`
                    w-6 h-6 rounded-full flex items-center justify-center text-white font-medium
                    ${o.rank===1?"bg-gaming-winner":"bg-gray-700"}
                  `,children:o.rank})}),a.jsxs("div",{className:"col-span-3 flex items-center text-gray-300",children:[a.jsx(ro,{userId:o.user_id,size:"sm",className:"mr-2"}),o.name]}),a.jsx("div",{className:"col-span-2 font-semibold text-white",children:o.elo_rating.toLocaleString()}),a.jsx("div",{className:"col-span-2 text-gray-300",children:o.win_rate}),a.jsx("div",{className:"col-span-2 text-gray-300",children:o.win_streak}),a.jsx("div",{className:"col-span-2 text-gray-300",children:o.tournaments_played})]},o.user_id))]})})]})},Wx=({className:e,...t})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:ee("mx-auto flex w-full justify-center",e),...t});Wx.displayName="Pagination";const qx=m.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,className:ee("flex flex-row items-center gap-1",e),...t}));qx.displayName="PaginationContent";const mo=m.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:ee("",e),...t}));mo.displayName="PaginationItem";const po=({className:e,isActive:t,size:r="icon",...n})=>a.jsx("a",{"aria-current":t?"page":void 0,className:ee(al({variant:t?"outline":"ghost",size:r}),e),...n});po.displayName="PaginationLink";const CE=({className:e,...t})=>a.jsxs(po,{"aria-label":"Go to previous page",size:"default",className:ee("gap-1 pl-2.5",e),...t,children:[a.jsx(Mv,{className:"h-4 w-4"}),a.jsx("span",{children:"Previous"})]});CE.displayName="PaginationPrevious";const EE=({className:e,...t})=>a.jsxs(po,{"aria-label":"Go to next page",size:"default",className:ee("gap-1 pr-2.5",e),...t,children:[a.jsx("span",{children:"Next"}),a.jsx(Fh,{className:"h-4 w-4"})]});EE.displayName="PaginationNext";const PE=({user:e})=>a.jsx(Se,{className:"border-gray-800 bg-[#1a1a1a]",children:a.jsx(Ie,{className:"p-0",children:a.jsxs("div",{className:"divide-y divide-gray-800",children:[a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 font-medium text-sm bg-[#232323]",children:[a.jsx("div",{className:"col-span-1 text-gray-400",children:"Rank"}),a.jsx("div",{className:"col-span-3 text-gray-400",children:"Player"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Elo Rating"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Rate"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Streak"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Tournaments"})]}),a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 items-center text-sm hover:bg-[#2a2a2a] transition-colors duration-200",children:[a.jsx("div",{className:"col-span-1",children:a.jsx("div",{className:`
                w-6 h-6 rounded-full flex items-center justify-center text-white font-medium
                ${e.rank===1?"bg-gaming-winner":"bg-gray-700"}
              `,children:e.rank})}),a.jsxs("div",{className:"col-span-3 flex items-center text-gray-300",children:[a.jsx(ro,{userId:e.user_id,size:"sm",className:"mr-2"}),e.name]}),a.jsx("div",{className:"col-span-2 font-semibold text-white",children:e.elo_rating.toLocaleString()}),a.jsx("div",{className:"col-span-2 text-gray-300",children:e.win_rate}),a.jsx("div",{className:"col-span-2 text-gray-300",children:e.win_streak}),a.jsx("div",{className:"col-span-2 text-gray-300",children:e.tournaments_played})]})]})})}),PU=()=>{var U,L,M;const{user:e}=jt(),[t,r]=m.useState("elo"),[n,s]=m.useState(""),[o,i]=m.useState(1),[l,c]=m.useState(null),[u,d]=m.useState(!1),f=10,{data:h,isLoading:v,refetch:p,isError:y}=Ft({queryKey:["playerRankings",o,t,f],queryFn:async()=>{const k=(o-1)*f;console.log("Fetching player rankings with params:",{limit_count:f,offset_val:k,sort_by:t});try{let{data:P,error:W}=await z.rpc("get_player_rankings",{limit_count:f,offset_val:k});if(W)throw console.error("Player rankings error:",W),W;if(!P){const{data:V,error:Z}=await z.rpc("get_global_rankings",{limit_count:f,offset_val:k});if(Z)throw console.error("Fallback rankings error:",Z),Z;P=V}return t==="wins"?P=P.sort((V,Z)=>{const fe=parseInt(V.win_rate.replace("%",""));return parseInt(Z.win_rate.replace("%",""))-fe}):t==="streak"?P=P.sort((V,Z)=>Z.win_streak-V.win_streak):t==="tournaments"&&(P=P.sort((V,Z)=>Z.tournaments_played-V.tournaments_played)),console.log("Player rankings data after filtering:",P),P}catch(P){throw console.error("Error in player rankings fetch:",P),P}},refetchOnWindowFocus:!1}),{data:x,isLoading:w,refetch:g,isError:b}=Ft({queryKey:["playerStats"],queryFn:async()=>{try{const{data:k,error:P}=await z.rpc("get_player_stats");if(P){console.error("Player stats error:",P);const{data:W,error:V}=await z.rpc("get_global_stats");if(V)throw console.error("Fallback stats error:",V),V;return W&&W[0]?W[0]:null}return k&&k[0]?k[0]:null}catch(k){throw console.error("Error in player stats fetch:",k),k}},refetchOnWindowFocus:!1}),{data:j,isLoading:S,refetch:N,isError:_}=Ft({queryKey:["userRanking",e==null?void 0:e.id],queryFn:async()=>{if(!e)return null;try{console.log("Fetching user ranking with user_uuid:",e.id);const{data:k,error:P}=await z.rpc("get_user_ranking",{user_uuid:e.id});if(P)throw console.error("User ranking error:",P),P;return console.log("User ranking data:",k),Array.isArray(k)&&k.length>0?k[0]:null}catch(k){throw console.error("Error in user ranking fetch:",k),k}},enabled:!!e,refetchOnWindowFocus:!1}),C=()=>{const k=window.location.href;navigator.clipboard.writeText(k).then(()=>{console.log("URL copied to clipboard"),Xt.success("Link copied to clipboard! Share it with your friends to show off your ranking!")}).catch(P=>{console.error("Failed to copy URL:",P),Xt.error("Error copying page link")})},E=async()=>{d(!0),Xt({title:"Refreshing data...",description:"Updating rankings and statistics..."});try{const{data:k,error:P}=await z.functions.invoke("update_monthly_stats");if(console.log("Monthly stats update response:",k),P||!k.success)throw new Error((P==null?void 0:P.message)||(k==null?void 0:k.error)||"Failed to update monthly stats");k.comparison&&k.comparison.length>0&&(c(k.comparison[0]),console.log("Using comparison data from edge function:",k.comparison[0])),await Promise.all([p(),g(),e?N():Promise.resolve()]),Xt.success("Rankings data refreshed successfully")}catch(k){console.error("Error refreshing data:",k),Xt.error(k.message||"Failed to refresh rankings data")}finally{d(!1)}},T=k=>{i(k),window.scrollTo(0,0)},I=k=>{r(k),i(1)},F=k=>{s(k.target.value),i(1)};m.useEffect(()=>{(async()=>{try{console.log("Initializing monthly stats...");const{data:P,error:W}=await z.functions.invoke("update_monthly_stats");if(console.log("Monthly stats initialization response:",P),W||!P.success){console.error("Error initializing monthly stats:",(W==null?void 0:W.message)||(P==null?void 0:P.error));return}P.comparison&&P.comparison.length>0&&(c(P.comparison[0]),console.log("Using comparison data from edge function:",P.comparison[0]))}catch(P){console.error("Error calling update_monthly_stats function:",P)}})()},[]),m.useEffect(()=>{y&&Xt.error({title:"Error",description:"Failed to load player rankings"}),b&&Xt.error({title:"Error",description:"Failed to load global statistics"}),_&&e&&Xt.error({title:"Error",description:"Failed to load your ranking"})},[y,b,_,e]);const R=[{rank:1,user_id:"1",name:"Vortex",elo_rating:2500,win_rate:"85%",win_streak:10,tournaments_played:15},{rank:2,user_id:"2",name:"ShadowBlade",elo_rating:2350,win_rate:"78%",win_streak:7,tournaments_played:12},{rank:3,user_id:"3",name:"ThunderStrike",elo_rating:2200,win_rate:"72%",win_streak:4,tournaments_played:10}],A=k=>{if(!k||k==="N/A")return"Previous Month";const[P,W]=k.split("-");return new Date(parseInt(P),parseInt(W)-1).toLocaleString("default",{month:"long",year:"numeric"})};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212]",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Player Rankings"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Track the best players across all games and competitions. See who's dominating the leaderboards and climbing the ranks."})]}),a.jsxs("div",{className:"flex space-x-2 mt-4 md:mt-0",children:[a.jsxs(J,{variant:"outline",className:"flex items-center gap-2 rounded-full border-gray-700 bg-[#222222] text-gray-300 hover:bg-[#333333]",onClick:C,children:[a.jsx(mO,{className:"w-4 h-4"}),"Share"]}),a.jsxs(J,{variant:"outline",className:"flex items-center gap-2 rounded-full border-gray-700 bg-[#222222] text-gray-300 hover:bg-[#333333]",onClick:E,disabled:u||v||w,children:[a.jsx(hO,{className:`w-4 h-4 ${u?"animate-spin":""}`}),"Refresh"]})]})]}),a.jsx(Se,{className:"mb-6 border-gray-800 bg-[#1a1a1a]",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("h2",{className:"font-semibold mb-4 text-white",children:"Leaderboard Filters"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"w-full md:w-1/2",children:a.jsxs(ol,{value:t,onValueChange:I,children:[a.jsx(Ao,{className:"w-full bg-[#222222] border-gray-800 text-gray-300",children:a.jsx(il,{placeholder:"Sort By"})}),a.jsxs(Oo,{className:"bg-[#222222] border-gray-800 text-gray-300",children:[a.jsx(Zr,{value:"elo",children:"Elo Rating"}),a.jsx(Zr,{value:"wins",children:"Win Rate"}),a.jsx(Zr,{value:"streak",children:"Win Streak"}),a.jsx(Zr,{value:"tournaments",children:"Tournaments Played"})]})]})}),a.jsxs("div",{className:"w-full md:w-1/2 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:a.jsx(vc,{className:"h-4 w-4 text-gray-400"})}),a.jsx(we,{type:"text",placeholder:"Search players...",className:"pl-10 pr-3 w-full rounded-md bg-[#222222] border-gray-800 text-gray-300",value:n,onChange:F})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx(Se,{className:"bg-[#1a1a1a] border-gray-800",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Total Players"}),w?a.jsx(Nt,{className:"h-8 w-24 mt-1 bg-gray-700"}):a.jsx("p",{className:"text-3xl font-bold mt-1 text-white",children:((U=x==null?void 0:x.total_players)==null?void 0:U.toLocaleString())||0}),l?a.jsx("p",{className:`text-sm ${l.total_players_change_pct>0?"text-green-500":l.total_players_change_pct<0?"text-red-500":"text-gray-400"} mt-1`,children:a.jsxs("span",{className:"inline-block",children:[l.total_players_change_pct>0?"":l.total_players_change_pct<0?"":"",Math.abs(l.total_players_change_pct),"% ",l.total_players_change_pct>=0?"increase":"decrease"," since ",A(l.prev_month)]})}):a.jsx(Nt,{className:"h-4 w-32 mt-1 bg-gray-700"})]})}),a.jsx(Se,{className:"bg-[#1a1a1a] border-gray-800",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Average Elo"}),w?a.jsx(Nt,{className:"h-8 w-24 mt-1 bg-gray-700"}):a.jsx("p",{className:"text-3xl font-bold mt-1 text-white",children:((L=x==null?void 0:x.average_elo)==null?void 0:L.toLocaleString())||0}),l?a.jsx("p",{className:`text-sm ${l.average_elo_change_pct>0?"text-green-500":l.average_elo_change_pct<0?"text-red-500":"text-gray-400"} mt-1`,children:a.jsxs("span",{className:"inline-block",children:[l.average_elo_change_pct>0?"":l.average_elo_change_pct<0?"":"",Math.abs(l.average_elo_change_pct),"% ",l.average_elo_change_pct>=0?"increase":"decrease"," since ",A(l.prev_month)]})}):a.jsx(Nt,{className:"h-4 w-32 mt-1 bg-gray-700"})]})}),a.jsx(Se,{className:"bg-[#1a1a1a] border-gray-800",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Tournaments Played"}),w?a.jsx(Nt,{className:"h-8 w-24 mt-1 bg-gray-700"}):a.jsx("p",{className:"text-3xl font-bold mt-1 text-white",children:((M=x==null?void 0:x.tournaments_played)==null?void 0:M.toLocaleString())||0}),l?a.jsx("p",{className:`text-sm ${l.tournaments_played_change_pct>0?"text-green-500":l.tournaments_played_change_pct<0?"text-red-500":"text-gray-400"} mt-1`,children:a.jsxs("span",{className:"inline-block",children:[l.tournaments_played_change_pct>0?"":l.tournaments_played_change_pct<0?"":"",Math.abs(l.tournaments_played_change_pct),"% ",l.tournaments_played_change_pct>=0?"increase":"decrease"," since ",A(l.prev_month)]})}):a.jsx(Nt,{className:"h-4 w-32 mt-1 bg-gray-700"})]})}),a.jsx(Se,{className:"bg-[#1a1a1a] border-gray-800",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Top Win Streak"}),w?a.jsx(Nt,{className:"h-8 w-24 mt-1 bg-gray-700"}):a.jsx("p",{className:"text-3xl font-bold mt-1 text-white",children:(x==null?void 0:x.top_win_streak)||0}),a.jsx("p",{className:"text-sm font-medium mt-1 text-gray-300",children:w?a.jsx(Nt,{className:"h-4 w-32 bg-gray-700"}):(x==null?void 0:x.top_win_streak_user)||"No record holder"})]})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Global Rankings"}),a.jsx(EU,{players:y?R:h||[],isLoading:v,searchQuery:n}),!v&&h&&h.length>0&&a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx(Wx,{children:a.jsxs(qx,{children:[o>1&&a.jsx(mo,{children:a.jsx(po,{onClick:()=>T(o-1),className:"cursor-pointer bg-[#222222] border-gray-800 text-gray-300 hover:bg-[#333333]",children:"Previous"})}),[...Array(5)].map((k,P)=>{const W=o-2+P;return W<1?null:a.jsx(mo,{children:a.jsx(po,{onClick:()=>T(W),isActive:W===o,className:`cursor-pointer ${W===o?"bg-gaming-primary text-white":"bg-[#222222] border-gray-800 text-gray-300 hover:bg-[#333333]"}`,children:W})},P)}),a.jsx(mo,{children:a.jsx(po,{onClick:()=>T(o+1),className:"cursor-pointer bg-[#222222] border-gray-800 text-gray-300 hover:bg-[#333333]",children:a.jsx(Fh,{className:"h-4 w-4"})})})]})})})]}),e&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"My Stats"}),S?a.jsx(Se,{className:"border-gray-800 bg-[#1a1a1a]",children:a.jsx(Ie,{className:"p-0",children:a.jsxs("div",{className:"divide-y divide-gray-800",children:[a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 font-medium text-sm bg-[#222222]",children:[a.jsx("div",{className:"col-span-1 text-gray-400",children:"Rank"}),a.jsx("div",{className:"col-span-3 text-gray-400",children:"Player"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Elo Rating"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Rate"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Win Streak"}),a.jsx("div",{className:"col-span-2 text-gray-400",children:"Tournaments"})]}),a.jsxs("div",{className:"grid grid-cols-12 py-3 px-4 items-center",children:[a.jsx("div",{className:"col-span-1",children:a.jsx(Nt,{className:"h-6 w-6 rounded-full bg-gray-700"})}),a.jsx("div",{className:"col-span-3",children:a.jsx(Nt,{className:"h-5 w-32 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-16 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-12 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-8 bg-gray-700"})}),a.jsx("div",{className:"col-span-2",children:a.jsx(Nt,{className:"h-5 w-10 bg-gray-700"})})]})]})})}):j?a.jsx(PE,{user:j}):a.jsx("div",{className:"text-center py-6 bg-[#1a1a1a] rounded-md border border-gray-800",children:a.jsx("p",{className:"text-gray-300",children:"You don't have any ranking data yet. Participate in tournaments to get ranked!"})})]})]})}),a.jsx(Ge,{})]})},TU=({id:e,name:t,location:r,rating:n,totalReviews:s,stations:o,imageUrl:i,description:l})=>{const c=()=>{const d=[],f=Math.floor(n),h=n%1>=.5;for(let v=1;v<=5;v++)v<=f?d.push(a.jsx(Jd,{className:"w-4 h-4 fill-current text-yellow-500"},v)):v===f+1&&h?d.push(a.jsx(Jd,{className:"w-4 h-4 text-yellow-500 fill-current",strokeWidth:0},v)):d.push(a.jsx(Jd,{className:"w-4 h-4 text-gray-300"},v));return d},u=hx(i||null);return a.jsx(Se,{className:"overflow-hidden h-full",children:a.jsxs(Ie,{className:"p-0",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-full h-40 bg-gray-200",children:u?a.jsx("img",{src:u,alt:`${t} lounge`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:t}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"flex mr-2",children:c()}),a.jsxs("span",{className:"text-sm text-gray-600",children:[n.toFixed(1)," (",s," ",s===1?"review":"reviews",")"]})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ca,{className:"w-4 h-4 mr-2"}),r]}),o>0&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(fO,{className:"w-4 h-4 mr-2"}),o," ",o===1?"station":"stations"]})]}),l&&a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:l}),a.jsx(Ue,{to:`/gaming-lounges/${e}`,children:a.jsx(J,{className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",children:"View Details"})})]})]})})};var Hx="Popover",[TE,oq]=fr(Hx,[Ua]),Gu=Ua(),[RU,Ha]=TE(Hx),RE=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,l=Gu(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=zr({prop:n,defaultProp:s,onChange:o});return a.jsx(Zv,{...l,children:a.jsx(RU,{scope:t,contentId:en(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(v=>!v),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:r})})};RE.displayName=Hx;var AE="PopoverAnchor",AU=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ha(AE,r),o=Gu(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(i(),()=>l()),[i,l]),a.jsx(Ru,{...o,...n,ref:t})});AU.displayName=AE;var OE="PopoverTrigger",IE=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ha(OE,r),o=Gu(r),i=Fe(t,s.triggerRef),l=a.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$E(s.open),...n,ref:i,onClick:ae(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Ru,{asChild:!0,...o,children:l})});IE.displayName=OE;var Gx="PopoverPortal",[OU,IU]=TE(Gx,{forceMount:void 0}),ME=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Ha(Gx,t);return a.jsx(OU,{scope:t,forceMount:r,children:a.jsx(hr,{present:r||o.open,children:a.jsx(gl,{asChild:!0,container:s,children:n})})})};ME.displayName=Gx;var ll="PopoverContent",DE=m.forwardRef((e,t)=>{const r=IU(ll,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Ha(ll,e.__scopePopover);return a.jsx(hr,{present:n||o.open,children:o.modal?a.jsx(MU,{...s,ref:t}):a.jsx(DU,{...s,ref:t})})});DE.displayName=ll;var MU=m.forwardRef((e,t)=>{const r=Ha(ll,e.__scopePopover),n=m.useRef(null),s=Fe(t,n),o=m.useRef(!1);return m.useEffect(()=>{const i=n.current;if(i)return am(i)},[]),a.jsx(Du,{as:is,allowPinchZoom:!0,children:a.jsx(LE,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ae(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),DU=m.forwardRef((e,t)=>{const r=Ha(ll,e.__scopePopover),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(LE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),LE=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ha(ll,r),v=Gu(r);return nm(),a.jsx(Mu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Uo,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Wh,{"data-state":$E(h.open),role:"dialog",id:h.contentId,...v,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FE="PopoverClose",LU=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Ha(FE,r);return a.jsx(xe.button,{type:"button",...n,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});LU.displayName=FE;var FU="PopoverArrow",$U=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Gu(r);return a.jsx(qh,{...s,...n,ref:t})});$U.displayName=FU;function $E(e){return e?"open":"closed"}var UU=RE,BU=IE,zU=ME,UE=DE;const rc=UU,nc=BU,gi=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(zU,{children:a.jsx(UE,{ref:s,align:t,sideOffset:r,className:ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));gi.displayName=UE.displayName;const VU=()=>{const[e,t]=m.useState(1),[r,n]=m.useState(""),[s,o]=m.useState("rating"),[i,l]=m.useState({minRating:0,hasReviews:!1,minCapacity:0}),c=6,{roleId:u}=Sr(),d=u===1,{data:f,isLoading:h,error:v}=Ft({queryKey:["lounges"],queryFn:async()=>{const{data:_,error:C}=await z.from("lounges").select("id, lounge_name, address, description, capacity, cover_image").eq("active",!0);if(C)throw C;return await Promise.all(_.map(async T=>{const{data:I,error:F}=await z.from("lounge_reviews").select("rating").eq("lounge_id",T.id);if(F)return console.error("Error fetching reviews:",F),{...T,average_rating:0,review_count:0};const R=I?I.length:0,A=R>0?I.reduce((U,L)=>U+L.rating,0)/R:0;return{...T,average_rating:A,review_count:R}}))},refetchOnWindowFocus:!1});m.useEffect(()=>{v&&(Y.error("Failed to load lounges"),console.error("Error loading lounges:",v))},[v]);const y=[...(f?f.filter(_=>{const C=r.toLowerCase().trim(),E=C===""||_.lounge_name.toLowerCase().includes(C)||_.description&&_.description.toLowerCase().includes(C)||_.address.toLowerCase().includes(C),T=_.average_rating>=i.minRating,I=!i.hasReviews||_.review_count>0,F=_.capacity?_.capacity>=i.minCapacity:i.minCapacity===0;return E&&T&&I&&F}):[])||[]].sort((_,C)=>s==="rating"?C.average_rating-_.average_rating:s==="reviews"?C.review_count-_.review_count:s==="capacity"?(C.capacity||0)-(_.capacity||0):_.lounge_name.localeCompare(C.lounge_name)),x=Math.ceil(y.length/c),w=e*c,g=w-c,b=y.slice(g,w),j=_=>{t(_),window.scrollTo(0,0)},S=_=>{n(_.target.value),t(1)},N=(_,C)=>{l(E=>({...E,[_]:C})),t(1)};return a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Gaming Lounges"}),d&&a.jsx(Ue,{to:"/lounge-admin-application",children:a.jsxs(J,{className:"mt-4 md:mt-0 bg-gaming-primary hover:bg-gaming-primary/90 flex items-center gap-2",children:[a.jsx(Fv,{className:"h-4 w-4"}),"Apply for Lounge"]})})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-1/2",children:[a.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:a.jsx(vc,{className:"h-4 w-4 text-gray-400"})}),a.jsx(we,{type:"text",placeholder:"Search gaming lounges...",className:"pl-10 w-full",value:r,onChange:S})]}),a.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[a.jsxs(rc,{children:[a.jsx(nc,{asChild:!0,children:a.jsxs(J,{variant:"outline",className:"flex items-center gap-2",children:[a.jsx(aO,{className:"h-4 w-4"}),"Filter"]})}),a.jsx(gi,{className:"w-80",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Filter Lounges"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"min-rating",children:"Minimum Rating"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(we,{id:"min-rating",type:"range",min:"0",max:"5",step:"0.5",value:i.minRating,onChange:_=>N("minRating",Number(_.target.value)),className:"w-full"}),a.jsx("span",{className:"ml-2 min-w-[30px] text-center",children:i.minRating})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(eu,{id:"has-reviews",checked:i.hasReviews,onCheckedChange:_=>N("hasReviews",!!_)}),a.jsx(ze,{htmlFor:"has-reviews",children:"Has reviews"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"min-capacity",children:"Minimum Capacity"}),a.jsx(we,{id:"min-capacity",type:"number",min:"0",value:i.minCapacity,onChange:_=>N("minCapacity",Number(_.target.value))})]}),a.jsx(J,{variant:"outline",className:"w-full",onClick:()=>l({minRating:0,hasReviews:!1,minCapacity:0}),children:"Reset Filters"})]})})]}),a.jsxs(cm,{children:[a.jsx(um,{asChild:!0,children:a.jsxs(J,{variant:"outline",className:"flex items-center gap-2",children:["Sort By",a.jsx(Lh,{className:"h-4 w-4"})]})}),a.jsx($u,{children:a.jsxs(_6,{value:s,onValueChange:o,children:[a.jsx(Xl,{value:"name",children:"Name"}),a.jsx(Xl,{value:"rating",children:"Rating"}),a.jsx(Xl,{value:"reviews",children:"Number of Reviews"}),a.jsx(Xl,{value:"capacity",children:"Capacity"})]})})]})]})]}),a.jsx("section",{className:"mb-8",children:h?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):b&&b.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(_=>a.jsx(TU,{id:_.id.toString(),name:_.lounge_name,location:_.address,rating:_.average_rating,totalReviews:_.review_count,stations:_.capacity||0,imageUrl:_.cover_image||void 0,description:_.description||""},_.id))}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"No gaming lounges found"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your filters or search query."})]})}),x>1&&a.jsx("div",{className:"flex justify-center mt-8 mb-4",children:a.jsx(Wx,{children:a.jsxs(qx,{children:[e>1&&a.jsx(mo,{children:a.jsx(CE,{onClick:()=>j(e-1)})}),[...Array(x)].map((_,C)=>a.jsx(mo,{children:a.jsx(po,{isActive:e===C+1,onClick:()=>j(C+1),children:C+1})},C)),e<x&&a.jsx(mo,{children:a.jsx(EE,{onClick:()=>j(e+1)})})]})})})]})}),a.jsx(Ge,{})]})},Aa=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Aa.displayName="Textarea";const WU=()=>{const{loungeId:e}=Nl(),{user:t}=jt(),r=sx(),[n,s]=m.useState(0),[o,i]=m.useState(""),l=e?parseInt(e):0,{data:c,isLoading:u,error:d}=Ft({queryKey:["lounge",l],queryFn:async()=>{const{data:N,error:_}=await z.from("lounges").select(`
          id, 
          lounge_name, 
          description, 
          address, 
          cover_image, 
          capacity, 
          phone_number, 
          email
        `).eq("id",l).single();if(_)throw _;return N},enabled:!!e&&l>0}),{data:f}=Ft({queryKey:["lounge-hours",l],queryFn:async()=>{const{data:N,error:_}=await z.from("lounge_opening_hours").select("*").eq("lounge_id",l).order("id");if(_)throw _;return N||[]},enabled:!!e&&l>0}),{data:h}=Ft({queryKey:["lounge-pricing",l],queryFn:async()=>{const{data:N,error:_}=await z.from("lounge_pricing_plans").select("*").eq("lounge_id",l).order("price");if(_)throw _;return N||[]},enabled:!!e&&l>0}),{data:v,isLoading:p}=Ft({queryKey:["lounge-reviews",l],queryFn:async()=>{const{data:N,error:_}=await z.from("lounge_reviews").select(`
          id,
          rating,
          review,
          created_at,
          user_id
        `).eq("lounge_id",l).order("created_at",{ascending:!1});if(_)throw _;return await Promise.all((N||[]).map(async E=>{const{data:T,error:I}=await z.from("profiles").select("username, full_name, avatar_url").eq("id",E.user_id).single();return I?(console.error("Error fetching user data:",I),{...E,user:{username:"Unknown",full_name:"Unknown User"}}):{...E,user:T}}))},enabled:!!e&&l>0}),y=K.useMemo(()=>!v||v.length===0?{averageRating:0,reviewCount:0}:{averageRating:v.reduce((C,E)=>C+E.rating,0)/v.length,reviewCount:v.length},[v]),{data:x}=Ft({queryKey:["user-review",l,t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:N,error:_}=await z.from("lounge_reviews").select("id, rating, review").eq("lounge_id",l).eq("user_id",t.id).maybeSingle();if(_)throw _;return N},enabled:!!e&&!!t&&l>0});m.useEffect(()=>{x&&(s(x.rating),i(x.review||""))},[x]);const w=F3({mutationFn:async()=>{if(!t)throw new Error("You must be logged in to submit a review");if(n===0)throw new Error("Please select a rating");const N={user_id:t.id,lounge_id:l,rating:n,review:o.trim()||null};if(x){const{error:_}=await z.from("lounge_reviews").update({rating:n,review:o.trim()||null,updated_at:new Date().toISOString()}).eq("id",x.id);if(_)throw _}else{const{error:_}=await z.from("lounge_reviews").insert(N);if(_)throw _}},onSuccess:()=>{Y.success(x?"Review updated successfully":"Review submitted successfully"),r.invalidateQueries({queryKey:["lounge-reviews",l]}),r.invalidateQueries({queryKey:["user-review",l,t==null?void 0:t.id]})},onError:N=>{Y.error(`Failed to submit review: ${N.message}`)}}),g=()=>{w.mutate()},b=N=>{if(!N)return"";const[_,C]=N.split(":"),E=parseInt(_),T=E>=12?"PM":"AM";return`${E%12||12}:${C} ${T}`},j=(N,_=!1)=>Array.from({length:5}).map((C,E)=>a.jsx(Jd,{className:`w-5 h-5 ${E<N?"fill-yellow-500 text-yellow-500":"text-gray-300"}`,onClick:_?()=>s(E+1):void 0,style:_?{cursor:"pointer"}:{}},E)),S=c?hx(c.cover_image):null;return u?a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 bg-[#121212]",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"})})}),a.jsx(Ge,{})]}):d||!c?a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8 bg-[#121212]",children:a.jsxs("div",{className:"text-center py-10",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-100",children:"Lounge Not Found"}),a.jsx("p",{className:"mb-6 text-gray-300",children:"The gaming lounge you're looking for doesn't exist or has been removed."}),a.jsx(Ue,{to:"/gaming-lounges",children:a.jsx(J,{variant:"outline",children:"Back to Gaming Lounges"})})]})}),a.jsx(Ge,{})]}):a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212]",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow bg-[#121212]",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-4",children:a.jsxs(Ue,{to:"/gaming-lounges",className:"flex items-center text-gaming-primary hover:text-gaming-primary/80",children:[a.jsx(Mv,{className:"h-4 w-4 mr-1"}),"Back to Gaming Lounges"]})}),a.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-100",children:c.lounge_name}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden h-64 md:h-80",children:S?a.jsx("img",{src:S,alt:`${c.lounge_name} cover image`,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),a.jsxs("div",{className:"mt-6 bg-dark-200 p-6 rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"About This Lounge"}),a.jsx("p",{className:"text-gray-300",children:c.description||"No description available for this gaming lounge."}),c.capacity&&a.jsxs("div",{className:"mt-4 flex items-center text-gray-300",children:[a.jsx(Eu,{className:"w-5 h-5 mr-2"}),a.jsxs("span",{children:["Capacity: ",c.capacity," gaming stations"]})]})]})]}),a.jsx("div",{children:a.jsxs("div",{className:"bg-dark-200 p-6 rounded-lg border border-gray-800 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"Location & Info"}),a.jsx("div",{className:"bg-dark-300 rounded-lg h-40 mb-6 flex items-center justify-center",children:a.jsx(Ca,{className:"h-8 w-8 text-gray-400"})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-start mb-1",children:[a.jsx(Ca,{className:"w-5 h-5 mr-2 text-gray-300 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-200",children:"Address"}),a.jsx("p",{className:"text-gray-300",children:c.address})]})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-start mb-1",children:[a.jsx(_o,{className:"w-5 h-5 mr-2 text-gray-300 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-200",children:"Opening Hours"}),f&&f.length>0?a.jsx("ul",{className:"text-sm text-gray-300 space-y-1 mt-1",children:f.map(N=>a.jsxs("li",{className:"flex",children:[a.jsxs("span",{className:"inline-block w-24 font-medium",children:[N.day,":"]}),a.jsx("span",{children:b(N.opening_hour)===b(N.closing_hour)?"Closed":`${b(N.opening_hour)} - ${b(N.closing_hour)}`})]},N.id))}):a.jsx("p",{className:"text-gray-400 text-sm",children:"Hours not available"})]})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-start mb-1",children:[a.jsx(Xi,{className:"w-5 h-5 mr-2 text-gray-300 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-200",children:"Contact Information"}),a.jsxs("div",{className:"mt-1 space-y-2",children:[c.phone_number&&a.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[a.jsx(Lv,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("span",{children:c.phone_number})]}),c.email&&a.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[a.jsx(Dv,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("span",{children:c.email})]})]})]})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[a.jsxs("div",{className:"bg-dark-200 p-6 rounded-lg border border-gray-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:"Reviews & Ratings"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex mr-2",children:j(Math.round(y.averageRating))}),a.jsxs("span",{className:"text-sm text-gray-300",children:[y.averageRating.toFixed(1)," (",y.reviewCount," ",y.reviewCount===1?"review":"reviews",")"]})]})]}),a.jsx("div",{className:"space-y-4 mb-6",children:p?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-400"})}):v&&v.length>0?v.map(N=>a.jsxs("div",{className:"bg-dark-300 p-4 rounded-md border border-gray-700",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ko,{className:"h-8 w-8 mr-2",children:N.user.avatar_url?a.jsx(Co,{avatarUrl:N.user.avatar_url,alt:N.user.username||"User"}):a.jsx(Eo,{className:"bg-gray-700",children:a.jsx(ba,{className:"h-4 w-4 text-gray-400"})})}),a.jsx("span",{className:"font-medium text-gray-200",children:N.user.username||"Anonymous"})]}),a.jsx("div",{className:"flex",children:j(N.rating)})]}),N.review&&a.jsx("p",{className:"mt-3 text-gray-300",children:N.review})]},N.id)):a.jsx("p",{className:"text-gray-400 text-center py-4",children:"No reviews yet. Be the first to review!"})}),t?a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"font-semibold mb-3 text-gray-200",children:x?"Update Your Review":"Write a Review"}),a.jsx("div",{className:"flex mb-3",children:j(n,!0)}),a.jsx(Aa,{placeholder:"Share your experience with this gaming lounge...",className:"w-full mb-3 bg-dark-300 border-gray-700 text-gray-200 placeholder:text-gray-500",value:o,onChange:N=>i(N.target.value)}),a.jsx(J,{onClick:g,disabled:w.isPending||n===0,className:"bg-gaming-primary hover:bg-gaming-primary/90",children:w.isPending?"Submitting...":x?"Update Review":"Submit Review"})]}):a.jsxs("div",{className:"mt-6 p-4 border border-gray-700 rounded-md bg-dark-300",children:[a.jsx("p",{className:"text-center mb-3 text-gray-300",children:"You need to be logged in to leave a review"}),a.jsx(Ue,{to:"/login",children:a.jsx(J,{variant:"outline",className:"w-full",children:"Log In to Write a Review"})})]})]}),a.jsxs("div",{className:"bg-dark-200 p-6 rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-100",children:"Pricing"}),h&&h.length>0?a.jsx("div",{className:"space-y-4",children:h.map(N=>a.jsx("div",{className:"bg-dark-300 p-4 rounded-md border border-gray-700",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-200",children:N.plan_name}),N.description&&a.jsx("p",{className:"text-sm text-gray-400",children:N.description})]}),a.jsxs("div",{className:"text-lg font-semibold text-gaming-primary",children:["$",N.price.toFixed(2)]})]})},N.id))}):a.jsx("p",{className:"text-gray-400 text-center py-4",children:"No pricing information available"})]})]})]})}),a.jsx(Ge,{})]})},qU=()=>{const{signIn:e}=jt(),[t,r]=m.useState(""),[n,s]=m.useState(""),[o,i]=m.useState(!1),[l,c]=m.useState(""),u=async d=>{if(d.preventDefault(),!t||!n){c("Please enter both email and password");return}c(""),i(!0);try{await e(t,n)}catch{}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow container mx-auto px-4 py-12 flex items-center justify-center",children:a.jsxs(Se,{className:"max-w-md w-full mx-auto p-8 bg-[#1a1a1a] border-gray-800 shadow-lg",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gaming-primary",children:"Sign In"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Welcome back! Enter your details below to continue"})]}),l&&a.jsx("div",{className:"bg-red-900/20 text-red-400 p-3 rounded-md mb-4 border border-red-900/30",children:l}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"email",className:"text-gray-300",children:"Email"}),a.jsx(we,{id:"email",type:"email",value:t,onChange:d=>r(d.target.value),placeholder:"Enter your email",disabled:o,className:"bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(ze,{htmlFor:"password",className:"text-gray-300",children:"Password"}),a.jsx(Ue,{to:"/forgot-password",className:"text-xs text-gaming-primary hover:text-gaming-secondary",children:"Forgot Password?"})]}),a.jsx(we,{id:"password",type:"password",value:n,onChange:d=>s(d.target.value),placeholder:"Enter your password",disabled:o,className:"bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary"})]}),a.jsx(J,{type:"submit",className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",a.jsx(Ue,{to:"/sign-up",className:"text-gaming-primary hover:text-gaming-secondary",children:"Sign up"})]})})]})}),a.jsx(Ge,{})]})},HU=()=>{const{signUp:e}=jt(),[t,r]=m.useState({fullName:"",username:"",email:"",phoneNumber:"",dateOfBirth:"",password:"",confirmPassword:""}),[n,s]=m.useState({}),[o,i]=m.useState(!1),l=d=>{const{name:f,value:h}=d.target;r({...t,[f]:h}),n[f]&&s({...n,[f]:""})},c=()=>{const d={};return t.fullName||(d.fullName="Full name is required"),t.username||(d.username="Username is required"),t.email?/\S+@\S+\.\S+/.test(t.email)||(d.email="Email is invalid"):d.email="Email is required",t.password?t.password.length<6&&(d.password="Password must be at least 6 characters"):d.password="Password is required",t.password!==t.confirmPassword&&(d.confirmPassword="Passwords do not match"),t.dateOfBirth||(d.dateOfBirth="Date of birth is required"),s(d),Object.keys(d).length===0},u=async d=>{var f;if(d.preventDefault(),!!c()){i(!0);try{const h=await e(t.fullName,t.username,t.email,t.dateOfBirth,t.phoneNumber,t.password);!h.success&&((f=h.message)!=null&&f.includes("Username is already taken"))&&s({...n,username:"This username is already taken"})}finally{i(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs(Se,{className:"max-w-md mx-auto bg-[#1a1a1a] p-8 rounded-lg shadow-lg border border-gray-800",children:[a.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-gaming-primary",children:"Create an Account"}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),a.jsx(we,{id:"fullName",name:"fullName",value:t.fullName,onChange:l,placeholder:"John Doe",disabled:o,className:`bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary ${n.fullName?"border-red-500":""}`}),n.fullName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.fullName})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"username",className:"text-gray-300",children:"Username"}),a.jsx(we,{id:"username",name:"username",value:t.username,onChange:l,placeholder:"johndoe",disabled:o,className:`bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary ${n.username?"border-red-500":""}`}),n.username&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.username})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"email",className:"text-gray-300",children:"Email"}),a.jsx(we,{id:"email",name:"email",type:"email",value:t.email,onChange:l,placeholder:"john@example.com",disabled:o,className:`bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary ${n.email?"border-red-500":""}`}),n.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.email})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"phoneNumber",className:"text-gray-300",children:"Phone Number (optional)"}),a.jsx(we,{id:"phoneNumber",name:"phoneNumber",value:t.phoneNumber,onChange:l,placeholder:"+1234567890",disabled:o,className:"bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"dateOfBirth",className:"text-gray-300",children:"Date of Birth"}),a.jsx(we,{id:"dateOfBirth",name:"dateOfBirth",type:"date",value:t.dateOfBirth,onChange:l,disabled:o,className:`bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary ${n.dateOfBirth?"border-red-500":""}`}),n.dateOfBirth&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.dateOfBirth})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"password",className:"text-gray-300",children:"Password"}),a.jsx(we,{id:"password",name:"password",type:"password",value:t.password,onChange:l,disabled:o,className:`bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary ${n.password?"border-red-500":""}`}),n.password&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.password})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),a.jsx(we,{id:"confirmPassword",name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:l,disabled:o,className:`bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary ${n.confirmPassword?"border-red-500":""}`}),n.confirmPassword&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.confirmPassword})]}),a.jsx(J,{type:"submit",className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Sign Up"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",a.jsx(Ue,{to:"/login",className:"text-gaming-primary hover:text-gaming-secondary",children:"Sign in"})]})})]})}),a.jsx(Ge,{})]})},GU=()=>{const{resetPassword:e}=jt(),[t,r]=m.useState(""),[n,s]=m.useState(!1),[o,i]=m.useState(!1),[l,c]=m.useState(""),u=async d=>{if(d.preventDefault(),!t){c("Please enter your email address");return}c(""),i(!0);try{await e(t),s(!0)}catch{}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow container mx-auto px-4 py-12 flex items-center justify-center",children:a.jsxs(Se,{className:"max-w-md w-full mx-auto p-8 bg-[#1a1a1a] border-gray-800 shadow-lg",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gaming-primary",children:"Forgot Password"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Enter your email and we'll send you a reset link"})]}),l&&a.jsx("div",{className:"bg-red-900/20 text-red-400 p-3 rounded-md mb-4 border border-red-900/30",children:l}),n?a.jsxs("div",{className:"text-center py-4",children:[a.jsxs("div",{className:"bg-gaming-primary/20 border border-gaming-primary/30 p-4 rounded-md mb-4",children:[a.jsx("p",{className:"text-gaming-primary font-medium mb-2",children:"Password reset link has been sent!"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Check your inbox and spam folders for the password reset link."}),a.jsx("p",{className:"text-gray-300 text-sm mt-2",children:"The link will redirect you back to this website to complete the password reset process."})]}),a.jsxs("p",{className:"text-sm text-gray-400 mt-4",children:["Didn't receive an email? Check your spam folder or"," ",a.jsx("button",{onClick:()=>s(!1),className:"text-gaming-primary hover:text-gaming-secondary",children:"try again"})]})]}):a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"email",className:"text-gray-300",children:"Email Address"}),a.jsx(we,{id:"email",type:"email",value:t,onChange:d=>r(d.target.value),placeholder:"Enter your email",className:"w-full bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary",disabled:o}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"We'll send you a link to reset your password."})]}),a.jsx(J,{type:"submit",className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Ue,{to:"/login",className:"text-sm text-gaming-primary hover:text-gaming-secondary",children:"Back to sign in"})})]})}),a.jsx(Ge,{})]})},KU=()=>{jt();const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(""),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(null),[h,v]=m.useState(null),p=nr(),[y]=FD();m.useEffect(()=>{(async()=>{try{const g=window.location.hash;if(g&&g.includes("type=recovery")&&g.includes("access_token=")){u(!0);return}const b=y.get("token");if(b)try{const j=JSON.parse(atob(b));if(j&&j.email&&j.exp&&j.type==="reset_password"&&j.exp>Math.floor(Date.now()/1e3)){u(!0),f(j.email),v(b);return}}catch(j){console.error("Error parsing reset token:",j)}Y.error("Invalid or expired password reset link"),p("/login")}catch(g){console.error("Error validating reset token:",g),p("/login")}})()},[p,y]);const x=async w=>{if(w.preventDefault(),!e){o("Please enter a new password");return}if(e.length<6){o("Password must be at least 6 characters");return}if(e!==r){o("Passwords do not match");return}o(""),l(!0);try{if(h&&d){const{data:g,error:b}=await z.functions.invoke("reset-password",{body:{token:h,password:e}});if(b)throw new Error(b.message||"Failed to reset password");if(g!=null&&g.error)throw new Error(g.error);Y.success("Your password has been updated successfully!"),p("/login")}else{const{error:g}=await z.auth.updateUser({password:e});if(g)throw g;Y.success("Your password has been updated successfully!"),p("/login")}}catch(g){console.error("Password reset error:",g),o(g.message||"Failed to reset password")}finally{l(!1)}};return c?a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow container mx-auto px-4 py-12 flex items-center justify-center",children:a.jsxs(Se,{className:"max-w-md w-full mx-auto p-8 bg-[#1a1a1a] border-gray-800 shadow-lg",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gaming-primary",children:"Reset Your Password"}),a.jsx("p",{className:"text-gray-400 mt-2",children:"Enter your new password below"})]}),s&&a.jsx("div",{className:"bg-red-900/20 text-red-400 p-3 rounded-md mb-4 border border-red-900/30",children:s}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"password",className:"text-gray-300",children:"New Password"}),a.jsx(we,{id:"password",type:"password",value:e,onChange:w=>t(w.target.value),placeholder:"Enter new password",disabled:i,className:"bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 6 characters long."})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm New Password"}),a.jsx(we,{id:"confirmPassword",type:"password",value:r,onChange:w=>n(w.target.value),placeholder:"Confirm new password",disabled:i,className:"bg-[#252530] border-gray-700 text-gray-200 focus:border-gaming-primary"})]}),a.jsx(J,{type:"submit",className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating password..."]}):"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Ue,{to:"/login",className:"text-sm text-gaming-primary hover:text-gaming-secondary",children:"Back to sign in"})})]})}),a.jsx(Ge,{})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gaming-primary mx-auto mb-4"}),a.jsx("p",{className:"text-gray-300",children:"Validating reset link..."})]})}),a.jsx(Ge,{})]})},e_=()=>{const{user:e,loading:t}=jt(),{isLoungeAdmin:r,isAdmin:n,isSuperAdmin:s,loading:o}=Sr(),i=nr(),{toast:l}=Wn(),{userId:c}=Nl(),[u,d]=m.useState(!0),[f,h]=m.useState(null),[v,p]=m.useState({fullName:"",username:"",email:"",phoneNumber:"",avatarUrl:""}),[y,x]=m.useState(null),[w,g]=m.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[b,j]=m.useState(!1),[S,N]=m.useState(!1),[_,C]=m.useState(!1),[E,T]=m.useState(!1);m.useEffect(()=>{if(!t){if(!e){i("/login");return}c&&c!==e.id?(d(!1),I(c),R(c)):(d(!0),F(),R(e.id)),A()}},[e,c,t,i]);const I=async H=>{try{const{data:G,error:X}=await z.from("profiles").select("*, roles(role_name)").eq("id",H).single();if(X)throw X;let se="";e&&e.id===H&&(se=e.email||""),G&&(h(G),p({fullName:G.full_name||"",username:G.username||"",email:se,phoneNumber:G.phone_number||"",avatarUrl:G.avatar_url||""}))}catch(G){console.error("Error fetching user profile:",G),l({title:"Error",description:"Failed to load user profile data",variant:"destructive"})}},F=async()=>{try{const{data:H,error:G}=await z.from("profiles").select("*").eq("id",e==null?void 0:e.id).single();if(G)throw G;H&&p({fullName:H.full_name||"",username:H.username||"",email:(e==null?void 0:e.email)||"",phoneNumber:H.phone_number||"",avatarUrl:H.avatar_url||""})}catch(H){console.error("Error fetching profile:",H),l({title:"Error",description:"Failed to load profile data",variant:"destructive"})}},R=async H=>{try{const{data:G,error:X}=await z.rpc("get_user_ranking",{user_uuid:H});if(X)throw X;G&&G.length>0&&x(G[0])}catch(G){console.error("Error fetching user ranking:",G)}},A=async()=>{if(!e)return;const H=c||e.id;try{const{data:G,error:X}=await z.from("lounges").select("id").eq("user_id",H).maybeSingle();if(X)throw X;j(!!G)}catch(G){console.error("Error checking if user has lounge:",G)}},U=H=>{const{name:G,value:X}=H.target;p({...v,[G]:X})},L=H=>{const{name:G,value:X}=H.target;g({...w,[G]:X})},M=async()=>{if(e){N(!0);try{const{error:H}=await z.from("profiles").update({full_name:v.fullName,username:v.username,phone_number:v.phoneNumber}).eq("id",e.id);if(H)throw H;l({title:"Success",description:"Profile updated successfully"})}catch(H){console.error("Error updating profile:",H),l({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{N(!1)}}},k=async()=>{if(e){if(w.newPassword!==w.confirmNewPassword){l({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(w.newPassword.length<6){l({title:"Error",description:"Password must be at least 6 characters",variant:"destructive"});return}C(!0);try{const{error:H}=await z.auth.updateUser({password:w.newPassword});if(H)throw H;l({title:"Success",description:"Password updated successfully"}),g({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(H){console.error("Error updating password:",H),l({title:"Error",description:"Failed to update password",variant:"destructive"})}finally{C(!1)}}},P=async H=>{if(!e||!H.target.files||H.target.files.length===0)return;const G=H.target.files[0],X=G.name.split(".").pop(),se=`${e.id}.${X}`;T(!0);try{const{error:ie}=await z.storage.from("avatars").upload(se,G,{upsert:!0});if(ie)throw ie;const Q=Vf(se),{error:je}=await z.from("profiles").update({avatar_url:se}).eq("id",e.id);if(je)throw je;p(Re=>({...Re,avatarUrl:se})),l({title:"Success",description:"Profile picture updated successfully"})}catch(ie){console.error("Error uploading avatar:",ie),l({title:"Error",description:"Failed to upload profile picture",variant:"destructive"})}finally{T(!1)}},W=async()=>{if(!(!e||!v.avatarUrl)){T(!0);try{const{error:H}=await z.storage.from("avatars").remove([v.avatarUrl]);if(H)throw H;const{error:G}=await z.from("profiles").update({avatar_url:null}).eq("id",e.id);if(G)throw G;p(X=>({...X,avatarUrl:""})),l({title:"Success",description:"Profile picture removed successfully"})}catch(H){console.error("Error removing avatar:",H),l({title:"Error",description:"Failed to remove profile picture",variant:"destructive"})}finally{T(!1)}}},V=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{l({title:"Account Deletion",description:"This feature is not implemented yet",variant:"destructive"})}catch(H){console.error("Error deleting account:",H)}},Z=()=>{i(r&&b?"/lounge/manage":"/lounge-admin-application")},fe=()=>{i("/admin")};if(t||o)return a.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse p-4 rounded-lg text-gray-300",children:"Loading profile..."})}),a.jsx(Ge,{})]});const le=!u,ke=le?`${v.username||"User"}'s Profile`:"Account Settings",ge=H=>{const G=H||"User";let X="bg-gray-700 text-gray-300";return H==="LoungeAdmin"?X="bg-green-900 text-green-300":H==="Admin"?X="bg-blue-900 text-blue-300":H==="SuperAdmin"&&(X="bg-purple-900 text-purple-300"),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${X}`,children:G})};return a.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[le&&(n||s)&&a.jsx("div",{className:"mb-4",children:a.jsxs(J,{variant:"outline",onClick:fe,className:"flex items-center gap-2 bg-[#222222] border-gray-700 text-gray-300 hover:bg-[#333333]",children:[a.jsx(Cu,{className:"h-4 w-4"}),"Back to Admin Dashboard"]})}),a.jsx("h1",{className:"text-2xl font-bold mb-2 text-white",children:ke}),le&&(f==null?void 0:f.roles)&&a.jsx("div",{className:"mb-6",children:ge(f.roles.role_name)}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Se,{className:"mb-6 border-gray-800 bg-[#1a1a1a]",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Personal Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium mb-1 text-gray-300",children:"Full Name"}),a.jsx(we,{id:"fullName",name:"fullName",value:v.fullName,onChange:U,placeholder:"Full name",disabled:le,className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-1 text-gray-300",children:"Username"}),a.jsx(we,{id:"username",name:"username",value:v.username,onChange:U,placeholder:"Username",disabled:le,className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1 text-gray-300",children:"Email Address"}),a.jsx(we,{id:"email",name:"email",value:v.email,onChange:U,placeholder:"Email address",disabled:!0,className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium mb-1 text-gray-300",children:"Phone Number"}),a.jsx(we,{id:"phoneNumber",name:"phoneNumber",value:v.phoneNumber,onChange:U,placeholder:"Phone number",disabled:le,className:"bg-[#222222] border-gray-700 text-gray-300"})]})]}),!le&&a.jsx("div",{className:"flex justify-end",children:a.jsx(J,{onClick:M,disabled:S,className:"bg-gaming-primary hover:bg-gaming-primary/90",children:S?"Saving...":"Save Changes"})})]})}),le?y&&a.jsx(PE,{user:y}):a.jsx(Se,{className:"border-gray-800 bg-[#1a1a1a]",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Password Settings"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium mb-1 text-gray-300",children:"Current Password"}),a.jsx(we,{id:"currentPassword",name:"currentPassword",type:"password",value:w.currentPassword,onChange:L,placeholder:"Enter current password",className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium mb-1 text-gray-300",children:"New Password"}),a.jsx(we,{id:"newPassword",name:"newPassword",type:"password",value:w.newPassword,onChange:L,placeholder:"Enter new password",className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmNewPassword",className:"block text-sm font-medium mb-1 text-gray-300",children:"Confirm New Password"}),a.jsx(we,{id:"confirmNewPassword",name:"confirmNewPassword",type:"password",value:w.confirmNewPassword,onChange:L,placeholder:"Confirm new password",className:"bg-[#222222] border-gray-700 text-gray-300"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(J,{onClick:k,disabled:_,className:"bg-gaming-primary hover:bg-gaming-primary/90",children:_?"Updating...":"Update Password"})})]})})]}),a.jsxs("div",{className:"md:col-span-1",children:[a.jsx(Se,{className:"mb-6 border-gray-800 bg-[#1a1a1a]",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Profile Picture"}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-800 flex items-center justify-center mb-4",children:a.jsxs(ko,{className:"w-32 h-32",children:[a.jsx(Co,{src:v.avatarUrl&&Vf(v.avatarUrl)||void 0,alt:v.username}),a.jsx(Eo,{className:"bg-[#333333]",children:a.jsx(ba,{className:"h-16 w-16 text-gray-300"})})]})}),!le&&a.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[a.jsxs(J,{variant:"outline",className:"w-full gap-2 border-gray-700 bg-[#222222] text-gray-300 hover:bg-[#333333]",onClick:()=>{var H;return(H=document.getElementById("avatar-input"))==null?void 0:H.click()},disabled:E,children:[a.jsx(Uv,{className:"h-4 w-4"}),E?"Uploading...":"Upload New Photo"]}),a.jsx("input",{id:"avatar-input",type:"file",accept:"image/*",className:"hidden",onChange:P,disabled:E}),v.avatarUrl&&a.jsxs(J,{variant:"outline",className:"w-full gap-2 text-red-500 hover:text-red-400 border-gray-700 bg-[#222222] hover:bg-[#333333]",onClick:W,disabled:E,children:[a.jsx(el,{className:"h-4 w-4"})," Remove Photo"]})]})]})]})}),le?b&&a.jsx(Se,{className:"border-gray-800 bg-[#1a1a1a]",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Lounge"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"mb-3 text-gray-300",children:"This user owns a gaming lounge"}),a.jsxs(J,{variant:"outline",className:"w-full justify-center gap-2 border-gray-700 bg-[#222222] text-gray-300 hover:bg-[#333333]",onClick:()=>i(`/gaming-lounges?user=${c}`),children:[a.jsx(Ig,{className:"h-4 w-4"}),"View User's Lounge"]})]})]})}):a.jsx(Se,{className:"border-gray-800 bg-[#1a1a1a]",children:a.jsxs(Ie,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Account Actions"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs(J,{variant:"outline",className:"w-full justify-start gap-2 border-gray-700 bg-[#222222] text-gray-300 hover:bg-[#333333]",onClick:Z,children:[a.jsx(Ig,{className:"h-4 w-4"}),r?b?"Manage Lounge":"Create Lounge":"Apply for Lounge Admin"]}),a.jsxs(J,{variant:"outline",className:"w-full justify-start gap-2 text-red-500 hover:text-red-400 border-gray-700 bg-[#222222] hover:bg-[#333333]",onClick:V,children:[a.jsx($v,{className:"h-4 w-4"})," Delete Account"]})]})]})})]})]})]})}),a.jsx(Ge,{})]})},YU=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(!1),{user:s}=jt(),o=nr(),i=async l=>{if(l.preventDefault(),!s){Y.error("Please log in to join a team");return}if(!e.trim()){Y.error("Please enter an invitation code");return}n(!0);try{const{data:c,error:u}=await ht("team_invites").select("team_id, tournament_id, expires_at").eq("invite_code",e.trim()).single();if(u||!c)throw new Error("Invalid invitation code");const d=c;if(new Date(d.expires_at)<new Date)throw new Error("This invitation code has expired");const{data:f,error:h}=await ht("team_members").select(`
          id,
          team_id,
          teams!inner(
            tournament_registrations!inner(
              tournament_id
            )
          )
        `).eq("user_id",s.id).filter("teams.tournament_registrations.tournament_id","eq",d.tournament_id);h&&console.error("Error checking existing membership:",h);const v=f;if(v&&v.length>0)return o(`/tournaments/${d.tournament_id}/register`),Y.info("You're already registered for this tournament");const{data:p,error:y}=await ht("tournament_registrations").select("is_completed").eq("team_id",d.team_id).eq("tournament_id",d.tournament_id).single();if(y||!p)throw new Error("Unable to verify team registration status");if(p.is_completed)throw new Error("This team has already completed registration and is not accepting new members");const{data:w,error:g}=await ht("tournament_details").select("players_per_team").eq("tournament_id",d.tournament_id).single();if(g||!w)throw new Error("Unable to verify team size requirements");const j=w.players_per_team,{count:S,error:N}=await ht("team_members").select("*",{count:"exact",head:!0}).eq("team_id",d.team_id);if(N)throw new Error("Unable to verify current team size");if(S!==null&&S>=j)throw new Error("This team is already full and cannot accept more members");const{error:_}=await ht("team_members").insert({team_id:d.team_id,user_id:s.id,is_captain:!1});if(_)throw new Error("Failed to join the team");Y.success("You've successfully joined the team!"),o(`/tournaments/${d.tournament_id}/register`)}catch(c){console.error("Error joining team:",c),Y.error(c.message||"Failed to join team")}finally{n(!1)}};return a.jsxs(Se,{children:[a.jsxs(qt,{className:"pb-2",children:[a.jsx(Ht,{className:"text-lg font-semibold",children:"Join a Team"}),a.jsx(ja,{children:"Enter your invitation code to join a team"})]}),a.jsx(Ie,{children:a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[a.jsx("div",{children:a.jsx(we,{placeholder:"Enter invitation code",value:e,onChange:l=>t(l.target.value)})}),a.jsx(J,{type:"submit",className:"w-full",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Joining..."]}):"Join Team"})]})})]})},QU=()=>{const{user:e,loading:t}=jt(),{isLoungeAdmin:r,isAdmin:n,isSuperAdmin:s}=Sr(),o=nr(),[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(!0);K.useEffect(()=>{!t&&!e&&o("/login")},[e,t,o]),m.useEffect(()=>{(async()=>{if(e)try{const{data:y,error:x}=await ht("team_members").select(`
            id,
            is_captain,
            teams!inner(
              id,
              team_name,
              tournaments!teams_tournament_id_fkey!inner(
                id,
                tournament_name,
                start_date,
                reg_end_date,
                games(
                  game_name,
                  icon
                ),
                cover_image,
                tournament_details(
                  players_per_team, 
                  number_of_teams,
                  prize_1
                )
              ),
              tournament_registrations!inner(
                id,
                is_completed,
                accepted_terms
              )
            )
          `).eq("user_id",e.id).order("is_captain",{ascending:!1});if(x)throw x;const w=y;if(w&&Array.isArray(w)){const g=new Date,b=[],j=[],S=w.map(_=>{var C,E;return(E=(C=_.teams)==null?void 0:C.tournaments)==null?void 0:E.id}).filter(Boolean),N={};if(S.length>0)for(const _ of S){const{data:C,error:E}=await z.from("tournament_registrations").select("id").eq("tournament_id",_).eq("is_completed",!0);if(E){console.error(`Error fetching count for tournament ${_}:`,E);continue}N[_]=(C==null?void 0:C.length)||0}w.forEach(_=>{var T,I;if(!_||!_.teams||!_.teams.tournaments)return;const C={id:_.teams.tournaments.id,tournament_name:_.teams.tournaments.tournament_name,start_date:_.teams.tournaments.start_date,reg_end_date:_.teams.tournaments.reg_end_date,games:_.teams.tournaments.games,cover_image:rm(_.teams.tournaments.cover_image)||"",tournament_details:_.teams.tournaments.tournament_details,team_name:_.teams.team_name,is_captain:_.is_captain,is_completed:((T=_.teams.tournament_registrations[0])==null?void 0:T.is_completed)||!1,registered_teams:N[_.teams.tournaments.id]||0,totalTeams:((I=_.teams.tournaments.tournament_details[0])==null?void 0:I.number_of_teams)||0,userIsRegistered:!0};new Date(_.teams.tournaments.start_date)<g?j.push(C):b.push(C)}),l(b),u(j)}}catch(y){console.error("Error fetching tournaments:",y),Y.error("Failed to load tournaments")}finally{f(!1)}})()},[e]);const h=p=>{const y={year:"numeric",month:"short",day:"numeric"};return new Date(p).toLocaleDateString(void 0,y)},v=p=>{const y={hour:"2-digit",minute:"2-digit"};return new Date(p).toLocaleTimeString(void 0,y)};return t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse p-4 rounded-lg",children:"Loading tournaments..."})}),a.jsx(Ge,{})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] flex flex-col",children:[a.jsx(He,{}),a.jsxs("div",{className:"flex-grow container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"My Tournaments"}),(r||n||s)&&a.jsxs(J,{onClick:()=>o("/host-tournament"),className:"bg-primary flex gap-2 items-center shadow hover:scale-105 transition-transform",variant:"default",children:[a.jsx(NN,{className:"h-5 w-5"}),"Create Tournament"]})]}),a.jsxs(hm,{defaultValue:"registered",className:"text-gray-100",children:[a.jsxs(Bu,{className:"mb-6 bg-[#252525] border border-gray-800",children:[a.jsx(rn,{value:"registered",className:"data-[state=active]:bg-gaming-primary",children:"My Registrations"}),a.jsx(rn,{value:"completed",className:"data-[state=active]:bg-gaming-primary",children:"Completed"}),a.jsx(rn,{value:"join",className:"data-[state=active]:bg-gaming-primary",children:"Join a Team"})]}),a.jsx(nn,{value:"registered",children:d?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-300"})}):i.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(p=>{var y,x;return a.jsx(wy,{id:p.id.toString(),name:p.tournament_name,game:p.games.game_name,gameIcon:p.games.icon,date:h(p.start_date),time:v(p.start_date),registrationDeadline:h(p.reg_end_date),teamSize:(y=p.tournament_details[0])!=null&&y.players_per_team?`${p.tournament_details[0].players_per_team}v${p.tournament_details[0].players_per_team}`:"TBD",totalTeams:p.totalTeams,registeredTeams:p.registered_teams||0,prize:(x=p.tournament_details[0])==null?void 0:x.prize_1,imageUrl:p.cover_image,isRegistered:!0},p.id)})}):a.jsxs(Se,{children:[a.jsx(qt,{className:"pb-2",children:a.jsxs(Ht,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(cr,{className:"h-5 w-5 text-gaming-primary"}),"Your Tournament History"]})}),a.jsx(Ie,{children:a.jsxs("div",{className:"py-8 text-center text-gray-500",children:[a.jsx(cr,{className:"h-10 w-10 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"You haven't participated in any tournaments yet."}),a.jsx("div",{className:"mt-4",children:a.jsx(J,{onClick:()=>o("/tournaments"),children:"Browse Tournaments"})})]})})]})}),a.jsx(nn,{value:"completed",children:d?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-300"})}):c.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(p=>{var y,x;return a.jsx(wy,{id:p.id.toString(),name:p.tournament_name,game:p.games.game_name,gameIcon:p.games.icon,date:h(p.start_date),time:v(p.start_date),registrationDeadline:h(p.reg_end_date),teamSize:(y=p.tournament_details[0])!=null&&y.players_per_team?`${p.tournament_details[0].players_per_team}v${p.tournament_details[0].players_per_team}`:"TBD",totalTeams:p.totalTeams,registeredTeams:p.registered_teams||0,prize:(x=p.tournament_details[0])==null?void 0:x.prize_1,imageUrl:p.cover_image,isRegistered:!0},p.id)})}):a.jsxs(Se,{children:[a.jsx(qt,{className:"pb-2",children:a.jsxs(Ht,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(cr,{className:"h-5 w-5 text-gaming-primary"}),"Completed Tournaments"]})}),a.jsx(Ie,{children:a.jsxs("div",{className:"py-8 text-center text-gray-500",children:[a.jsx(cr,{className:"h-10 w-10 mx-auto mb-2 text-gray-400"}),a.jsx("p",{children:"You haven't completed any tournaments yet."}),a.jsx("div",{className:"mt-4",children:a.jsx(J,{onClick:()=>o("/tournaments"),children:"Browse Tournaments"})})]})})]})}),a.jsx(nn,{value:"join",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(YU,{}),a.jsxs(Se,{children:[a.jsx(qt,{className:"pb-2",children:a.jsxs(Ht,{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(vl,{className:"h-5 w-5 text-gaming-primary"}),"How Team Invites Work"]})}),a.jsx(Ie,{children:a.jsxs("div",{className:"space-y-4 text-gray-700",children:[a.jsx("p",{children:"To join a tournament team:"}),a.jsxs("ol",{className:"list-decimal pl-5 space-y-2",children:[a.jsx("li",{children:"Ask your team captain for the invitation code"}),a.jsx("li",{children:"Enter the code in the form on the left"}),a.jsx("li",{children:"You'll be added to the team immediately if eligible"})]}),a.jsx("div",{className:"bg-[#1a1a2a] p-3 rounded-md mt-4 border border-gray-800",children:a.jsxs("p",{className:"text-sm text-blue-400",children:[a.jsx("strong",{children:"Note:"})," You can only join one team per tournament, and you cannot join a team that has already completed registration."]})})]})})]})]})})]})]}),a.jsx(Ge,{})]})};var Kx="Radio",[JU,BE]=fr(Kx),[ZU,XU]=JU(Kx),zE=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=m.useState(null),v=Fe(t,x=>h(x)),p=m.useRef(!1),y=f?u||!!f.closest("form"):!0;return a.jsxs(ZU,{scope:r,checked:s,disabled:i,children:[a.jsx(xe.button,{type:"button",role:"radio","aria-checked":s,"data-state":qE(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:v,onClick:ae(e.onClick,x=>{s||c==null||c(),y&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})}),y&&a.jsx(e7,{control:f,bubbles:!p.current,name:n,value:l,checked:s,required:o,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});zE.displayName=Kx;var VE="RadioIndicator",WE=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,o=XU(VE,r);return a.jsx(hr,{present:n||o.checked,children:a.jsx(xe.span,{"data-state":qE(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})})});WE.displayName=VE;var e7=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=m.useRef(null),i=gm(r),l=Vh(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qE(e){return e?"checked":"unchecked"}var t7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yx="RadioGroup",[r7,iq]=fr(Yx,[El,BE]),HE=El(),GE=BE(),[n7,s7]=r7(Yx),KE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,v=HE(r),p=Cl(u),[y,x]=zr({prop:o,defaultProp:s,onChange:f});return a.jsx(n7,{scope:r,name:n,required:i,disabled:l,value:y,onValueChange:x,children:a.jsx(mx,{asChild:!0,...v,orientation:c,dir:p,loop:d,children:a.jsx(xe.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...h,ref:t})})})});KE.displayName=Yx;var YE="RadioGroupItem",QE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,o=s7(YE,r),i=o.disabled||n,l=HE(r),c=GE(r),u=m.useRef(null),d=Fe(t,u),f=o.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const v=y=>{t7.includes(y.key)&&(h.current=!0)},p=()=>h.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",p)}},[]),a.jsx(px,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx(zE,{disabled:i,required:o.required,checked:f,...c,...s,name:o.name,ref:d,onCheck:()=>o.onValueChange(s.value),onKeyDown:ae(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:ae(s.onFocus,()=>{var v;h.current&&((v=u.current)==null||v.click())})})})});QE.displayName=YE;var a7="RadioGroupIndicator",JE=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=GE(r);return a.jsx(WE,{...s,...n,ref:t})});JE.displayName=a7;var ZE=KE,XE=QE,o7=JE;const eP=m.forwardRef(({className:e,...t},r)=>a.jsx(ZE,{className:ee("grid gap-2",e),...t,ref:r}));eP.displayName=ZE.displayName;const rf=m.forwardRef(({className:e,...t},r)=>a.jsx(XE,{ref:r,className:ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(o7,{className:"flex items-center justify-center",children:a.jsx(SN,{className:"h-2.5 w-2.5 fill-current text-current"})})}));rf.displayName=XE.displayName;const i7=()=>{var F,R,A,U,L;const{user:e,loading:t}=jt(),{roleId:r,loading:n,isViewingApplication:s}=Sr(),o=nr(),i=za(),{toast:l}=Wn(),[c,u]=m.useState({loungeName:"",loungeLocation:"",loungeDescription:"",previousExperience:!1,frequencyPlan:"weekly",applicationReason:""}),[d,f]=m.useState(null),[h,v]=m.useState(!1),[p,y]=m.useState(!0),w=new URLSearchParams(i.search).get("view"),g=!!w;m.useEffect(()=>{if(!t){if(!e){o("/login");return}g?b(parseInt(w,10)):j()}},[e,t,o,w]),m.useEffect(()=>{if(!(t||n)){if(!e){o("/login");return}!g&&(r===2||r===3||r===4)&&(l({title:"Access Denied",description:"You already have administrative privileges or own a lounge.",variant:"destructive"}),o("/"))}},[e,t,r,n,o,l,g]);const b=async M=>{try{const{data:k,error:P}=await z.from("lounge_admin_application").select("*, application_status(status_name), profiles(username, full_name, avatar_url)").eq("id",M).single();if(P)throw P;k&&(f(k),u({loungeName:k.lounge_name,loungeLocation:k.lounge_location,loungeDescription:k.lounge_description||"",previousExperience:k.previous_experience,frequencyPlan:k.frequency_plan||"weekly",applicationReason:k.application_reason||""}))}catch(k){console.error("Error fetching application by ID:",k),l({title:"Error",description:"Failed to fetch application details",variant:"destructive"})}finally{y(!1)}},j=async()=>{if(e)try{const{data:M,error:k}=await z.from("lounge_admin_application").select("*, application_status(status_name)").eq("user_id",e.id).single();if(k&&k.code!=="PGRST116")throw k;M&&(f(M),u({loungeName:M.lounge_name,loungeLocation:M.lounge_location,loungeDescription:M.lounge_description||"",previousExperience:M.previous_experience,frequencyPlan:M.frequency_plan||"weekly",applicationReason:M.application_reason||""}))}catch(M){console.error("Error fetching application:",M),l({title:"Error",description:"Failed to fetch existing application",variant:"destructive"})}finally{y(!1)}},S=M=>{const{name:k,value:P}=M.target;u(W=>({...W,[k]:P}))},N=M=>{u(k=>({...k,previousExperience:M}))},_=M=>{u(k=>({...k,frequencyPlan:M}))},C=async M=>{if(M.preventDefault(),!!e){if(!c.loungeName.trim()){l({title:"Error",description:"Lounge name is required",variant:"destructive"});return}if(!c.loungeLocation.trim()){l({title:"Error",description:"Lounge location is required",variant:"destructive"});return}v(!0);try{if(d&&d.status_id===1){const{error:k}=await z.from("lounge_admin_application").update({lounge_name:c.loungeName,lounge_location:c.loungeLocation,lounge_description:c.loungeDescription,previous_experience:c.previousExperience,frequency_plan:c.frequencyPlan,application_reason:c.applicationReason,updated_at:new Date().toISOString()}).eq("id",d.id);if(k)throw k;l({title:"Success",description:"Application updated successfully"})}else if(!d){const{error:k}=await z.from("lounge_admin_application").insert({user_id:e.id,lounge_name:c.loungeName,lounge_location:c.loungeLocation,lounge_description:c.loungeDescription,previous_experience:c.previousExperience,frequency_plan:c.frequencyPlan,application_reason:c.applicationReason});if(k)throw k;l({title:"Success",description:"Application submitted successfully"})}j()}catch(k){console.error("Error submitting application:",k),l({title:"Error",description:"Failed to submit application",variant:"destructive"})}finally{v(!1)}}};if(t||p)return a.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse p-4 rounded-lg text-gray-300",children:"Loading..."})}),a.jsx(Ge,{})]});const E=d&&d.status_id===1,T=d&&d.status_id===2,I=d&&d.status_id===3;return a.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[g&&a.jsx("div",{className:"mb-6",children:a.jsxs(J,{variant:"outline",onClick:()=>o("/admin"),className:"flex items-center gap-2 bg-[#222222] border-gray-700 text-gray-300 hover:bg-[#333333]",children:[a.jsx(Cu,{className:"h-4 w-4"}),"Back to Admin Dashboard"]})}),a.jsxs("h1",{className:"text-2xl font-bold mb-6 flex items-center gap-2 text-white",children:[a.jsx(Ig,{className:"h-6 w-6 text-gaming-primary"}),g?"Gaming Lounge Application Details":"Gaming Lounge Admin Application"]}),T&&!g&&a.jsx(Se,{className:"mb-6 border-green-600 bg-[#122716]",children:a.jsx(Ie,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-[#1a3a1f] p-2 rounded-full",children:a.jsx(Xi,{className:"h-6 w-6 text-green-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-green-400",children:"Application Approved"}),a.jsx("p",{className:"text-green-300",children:"Congratulations! Your application has been approved. You can now host tournaments and manage your gaming lounge."}),a.jsx(J,{className:"mt-4 bg-green-600 hover:bg-green-700",onClick:()=>o("/profile"),children:"Manage Your Lounge"})]})]})})}),I&&!g&&a.jsx(Se,{className:"mb-6 border-red-600 bg-[#271212]",children:a.jsx(Ie,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-[#3a1a1a] p-2 rounded-full",children:a.jsx($v,{className:"h-6 w-6 text-red-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-red-400",children:"Application Rejected"}),a.jsx("p",{className:"text-red-300",children:"Unfortunately, your application has been rejected. You can submit a new application with updated information."}),a.jsx(J,{className:"mt-4 bg-red-600 hover:bg-red-700",onClick:()=>f(null),children:"Start New Application"})]})]})})}),g&&d&&a.jsxs(Se,{className:"mb-6 border-gray-700 bg-[#1a1a1a]",children:[a.jsx(qt,{children:a.jsxs(Ht,{className:"flex items-center justify-between text-white",children:[a.jsxs("span",{children:["Application #",d.id]}),a.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${d.status_id===1?"bg-yellow-900 text-yellow-300":d.status_id===2?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:((F=d.application_status)==null?void 0:F.status_name)||"Unknown"})]})}),a.jsx(Ie,{className:"text-gray-300",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700 pb-2",children:[a.jsx("span",{className:"font-medium text-gray-400 w-1/3",children:"Applicant:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ko,{className:"h-6 w-6",children:(R=d.profiles)!=null&&R.avatar_url?a.jsx(Co,{avatarUrl:d.profiles.avatar_url,alt:((A=d.profiles)==null?void 0:A.full_name)||"User"}):a.jsx(Eo,{className:"bg-gray-700",children:a.jsx(ba,{className:"h-3 w-3 text-gray-300"})})}),a.jsxs("span",{children:[((U=d.profiles)==null?void 0:U.full_name)||"Unknown"," (",((L=d.profiles)==null?void 0:L.username)||"Unknown",")"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700 pb-2",children:[a.jsx("span",{className:"font-medium text-gray-400 w-1/3",children:"Submission Date:"}),a.jsx("span",{children:new Date(d.created_at).toLocaleDateString()})]}),d.updated_at!==d.created_at&&a.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-700 pb-2",children:[a.jsx("span",{className:"font-medium text-gray-400 w-1/3",children:"Last Updated:"}),a.jsx("span",{children:new Date(d.updated_at).toLocaleDateString()})]})]})})]}),E&&!g&&a.jsx(Se,{className:"mb-6 border-yellow-600 bg-[#272512]",children:a.jsx(Ie,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-[#3a341a] p-2 rounded-full",children:a.jsx(Xi,{className:"h-6 w-6 text-yellow-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-yellow-400",children:"Application Pending"}),a.jsx("p",{className:"text-yellow-300",children:"Your application is currently under review. You can update your application details below."})]})]})})}),a.jsxs(Se,{className:"border-gray-700 bg-[#1a1a1a]",children:[a.jsx(qt,{children:a.jsx(Ht,{className:"text-white",children:g?"Application Details":E?"Update Your Application":d?"Application Details":"Apply to Host Tournaments"})}),a.jsx(Ie,{children:a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"loungeName",className:"text-gray-300",children:"Lounge Name *"}),a.jsx(we,{id:"loungeName",name:"loungeName",value:c.loungeName,onChange:g?void 0:S,placeholder:"Enter your gaming lounge name",required:!0,disabled:g||E===!1&&d!==null,className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"loungeLocation",className:"text-gray-300",children:"Lounge Location *"}),a.jsx(we,{id:"loungeLocation",name:"loungeLocation",value:c.loungeLocation,onChange:g?void 0:S,placeholder:"Enter your lounge physical address",required:!0,disabled:g||E===!1&&d!==null,className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"loungeDescription",className:"text-gray-300",children:"Lounge Description"}),a.jsx(Aa,{id:"loungeDescription",name:"loungeDescription",value:c.loungeDescription,onChange:g?void 0:S,placeholder:"Describe your gaming lounge facilities, equipment, etc.",rows:4,disabled:g||E===!1&&d!==null,className:"bg-[#222222] border-gray-700 text-gray-300"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(eu,{id:"previousExperience",checked:c.previousExperience,onCheckedChange:g?void 0:N,disabled:g||E===!1&&d!==null,className:"border-gray-600 data-[state=checked]:bg-gaming-primary"}),a.jsx(ze,{htmlFor:"previousExperience",className:"text-gray-300",children:"I have previous experience hosting gaming tournaments"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{className:"text-gray-300",children:"How often do you plan to host tournaments?"}),a.jsxs(eP,{value:c.frequencyPlan,onValueChange:g?void 0:_,disabled:g||E===!1&&d!==null,className:"text-gray-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rf,{value:"weekly",id:"weekly",className:"border-gray-600 text-gaming-primary"}),a.jsx(ze,{htmlFor:"weekly",className:"text-gray-300",children:"Weekly"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rf,{value:"monthly",id:"monthly",className:"border-gray-600 text-gaming-primary"}),a.jsx(ze,{htmlFor:"monthly",className:"text-gray-300",children:"Monthly"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rf,{value:"quarterly",id:"quarterly",className:"border-gray-600 text-gaming-primary"}),a.jsx(ze,{htmlFor:"quarterly",className:"text-gray-300",children:"Quarterly"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"applicationReason",className:"text-gray-300",children:"Why do you want to become a tournament host?"}),a.jsx(Aa,{id:"applicationReason",name:"applicationReason",value:c.applicationReason,onChange:g?void 0:S,placeholder:"Tell us why you want to host tournaments on our platform",rows:4,disabled:g||E===!1&&d!==null,className:"bg-[#222222] border-gray-700 text-gray-300"})]}),!g&&a.jsxs("div",{children:[a.jsx(ze,{className:"block mb-2 text-gray-300",children:"Lounge Cover Image (coming soon)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-4 text-center bg-[#222222]",children:[a.jsx(Uv,{className:"mx-auto h-10 w-10 text-gray-400"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Image upload will be available soon"})]})]})]}),g?a.jsx(J,{type:"button",onClick:()=>o("/admin"),className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",children:"Back to Admin Dashboard"}):(E||!d)&&a.jsx(J,{type:"submit",className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",disabled:h,children:h?"Submitting...":E?"Update Application":"Submit Application"})]})})]})]})}),a.jsx(Ge,{})]})};var Ku=e=>e.type==="checkbox",no=e=>e instanceof Date,vr=e=>e==null;const tP=e=>typeof e=="object";var $t=e=>!vr(e)&&!Array.isArray(e)&&tP(e)&&!no(e),rP=e=>$t(e)&&e.target?Ku(e.target)?e.target.checked:e.target.value:e,l7=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,nP=(e,t)=>e.has(l7(t)),c7=e=>{const t=e.constructor&&e.constructor.prototype;return $t(t)&&t.hasOwnProperty("isPrototypeOf")},Qx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pr(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Qx&&(e instanceof Blob||e instanceof FileList))&&(r||$t(e)))if(t=r?[]:{},!r&&!c7(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Pr(e[n]));else return e;return t}var wm=e=>Array.isArray(e)?e.filter(Boolean):[],Mt=e=>e===void 0,ce=(e,t,r)=>{if(!t||!$t(e))return r;const n=wm(t.split(/[,[\].]+?/)).reduce((s,o)=>vr(s)?s:s[o],e);return Mt(n)||n===e?Mt(e[t])?r:e[t]:n},fn=e=>typeof e=="boolean",Jx=e=>/^\w*$/.test(e),sP=e=>wm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),et=(e,t,r)=>{let n=-1;const s=Jx(t)?[t]:sP(t),o=s.length,i=o-1;for(;++n<o;){const l=s[n];let c=r;if(n!==i){const u=e[l];c=$t(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const nh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aP=K.createContext(null),bm=()=>K.useContext(aP),u7=e=>{const{children:t,...r}=e;return K.createElement(aP.Provider,{value:r},t)};var oP=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Rn.all&&(t._proxyFormState[i]=!n||Rn.all),r&&(r[i]=!0),e[i]}});return s},Ar=e=>$t(e)&&!Object.keys(e).length,iP=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Ar(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||Rn.all))},jc=e=>Array.isArray(e)?e:[e],lP=(e,t,r)=>!e||!t||e===t||jc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function Zx(e){const t=K.useRef(e);t.current=e,K.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function d7(e){const t=bm(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,l]=K.useState(r._formState),c=K.useRef(!0),u=K.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=K.useRef(s);return d.current=s,Zx({disabled:n,next:f=>c.current&&lP(d.current,f.name,o)&&iP(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),K.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),oP(i,r,u.current,!1)}var rs=e=>typeof e=="string",cP=(e,t,r,n,s)=>rs(e)?(n&&t.watch.add(e),ce(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),ce(r,o))):(n&&(t.watchAll=!0),r);function f7(e){const t=bm(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i}=e||{},l=K.useRef(n);l.current=n,Zx({disabled:o,subject:r._subjects.values,next:d=>{lP(l.current,d.name,i)&&u(Pr(cP(l.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=K.useState(r._getWatch(n,s));return K.useEffect(()=>r._removeUnmounted()),c}function h7(e){const t=bm(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o}=e,i=nP(s._names.array,r),l=f7({control:s,name:r,defaultValue:ce(s._formValues,r,ce(s._defaultValues,r,e.defaultValue)),exact:!0}),c=d7({control:s,name:r,exact:!0}),u=K.useRef(s.register(r,{...e.rules,value:l,...fn(e.disabled)?{disabled:e.disabled}:{}}));return K.useEffect(()=>{const d=s._options.shouldUnregister||o,f=(h,v)=>{const p=ce(s._fields,h);p&&p._f&&(p._f.mount=v)};if(f(r,!0),d){const h=Pr(ce(s._options.defaultValues,r));et(s._defaultValues,r,h),Mt(ce(s._formValues,r))&&et(s._formValues,r,h)}return()=>{(i?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,i,o]),K.useEffect(()=>{ce(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:ce(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...fn(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:K.useCallback(d=>u.current.onChange({target:{value:rP(d),name:r},type:nh.CHANGE}),[r]),onBlur:K.useCallback(()=>u.current.onBlur({target:{value:ce(s._formValues,r),name:r},type:nh.BLUR}),[r,s]),ref:K.useCallback(d=>{const f=ce(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ce(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ce(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ce(c.validatingFields,r)},error:{enumerable:!0,get:()=>ce(c.errors,r)}})}}const m7=e=>e.render(h7(e));var uP=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},t_=e=>({isOnSubmit:!e||e===Rn.onSubmit,isOnBlur:e===Rn.onBlur,isOnChange:e===Rn.onChange,isOnAll:e===Rn.all,isOnTouch:e===Rn.onTouched}),r_=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Nc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=ce(e,s);if(o){const{_f:i,...l}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Nc(l,t))break}else if($t(l)&&Nc(l,t))break}}};var p7=(e,t,r)=>{const n=jc(ce(e,r));return et(n,"root",t[r]),et(e,r,n),e},Xx=e=>e.type==="file",Ss=e=>typeof e=="function",sh=e=>{if(!Qx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},nf=e=>rs(e),e0=e=>e.type==="radio",ah=e=>e instanceof RegExp;const n_={value:!1,isValid:!1},s_={value:!0,isValid:!0};var dP=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Mt(e[0].attributes.value)?Mt(e[0].value)||e[0].value===""?s_:{value:e[0].value,isValid:!0}:s_:n_}return n_};const a_={isValid:!1,value:null};var fP=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,a_):a_;function o_(e,t,r="validate"){if(nf(e)||Array.isArray(e)&&e.every(nf)||fn(e)&&!e)return{type:r,message:nf(e)?e:"",ref:t}}var ei=e=>$t(e)&&!ah(e)?e:{value:e,message:""},i_=async(e,t,r,n,s)=>{const{ref:o,refs:i,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:v,name:p,valueAsNumber:y,mount:x,disabled:w}=e._f,g=ce(t,p);if(!x||w)return{};const b=i?i[0]:o,j=F=>{n&&b.reportValidity&&(b.setCustomValidity(fn(F)?"":F||""),b.reportValidity())},S={},N=e0(o),_=Ku(o),C=N||_,E=(y||Xx(o))&&Mt(o.value)&&Mt(g)||sh(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,T=uP.bind(null,p,r,S),I=(F,R,A,U=ms.maxLength,L=ms.minLength)=>{const M=F?R:A;S[p]={type:F?U:L,message:M,ref:o,...T(F?U:L,M)}};if(s?!Array.isArray(g)||!g.length:l&&(!C&&(E||vr(g))||fn(g)&&!g||_&&!dP(i).isValid||N&&!fP(i).isValid)){const{value:F,message:R}=nf(l)?{value:!!l,message:l}:ei(l);if(F&&(S[p]={type:ms.required,message:R,ref:b,...T(ms.required,R)},!r))return j(R),S}if(!E&&(!vr(d)||!vr(f))){let F,R;const A=ei(f),U=ei(d);if(!vr(g)&&!isNaN(g)){const L=o.valueAsNumber||g&&+g;vr(A.value)||(F=L>A.value),vr(U.value)||(R=L<U.value)}else{const L=o.valueAsDate||new Date(g),M=W=>new Date(new Date().toDateString()+" "+W),k=o.type=="time",P=o.type=="week";rs(A.value)&&g&&(F=k?M(g)>M(A.value):P?g>A.value:L>new Date(A.value)),rs(U.value)&&g&&(R=k?M(g)<M(U.value):P?g<U.value:L<new Date(U.value))}if((F||R)&&(I(!!F,A.message,U.message,ms.max,ms.min),!r))return j(S[p].message),S}if((c||u)&&!E&&(rs(g)||s&&Array.isArray(g))){const F=ei(c),R=ei(u),A=!vr(F.value)&&g.length>+F.value,U=!vr(R.value)&&g.length<+R.value;if((A||U)&&(I(A,F.message,R.message),!r))return j(S[p].message),S}if(h&&!E&&rs(g)){const{value:F,message:R}=ei(h);if(ah(F)&&!g.match(F)&&(S[p]={type:ms.pattern,message:R,ref:o,...T(ms.pattern,R)},!r))return j(R),S}if(v){if(Ss(v)){const F=await v(g,t),R=o_(F,b);if(R&&(S[p]={...R,...T(ms.validate,R.message)},!r))return j(R.message),S}else if($t(v)){let F={};for(const R in v){if(!Ar(F)&&!r)break;const A=o_(await v[R](g,t),b,R);A&&(F={...A,...T(R,A.message)},j(A.message),r&&(S[p]=F))}if(!Ar(F)&&(S[p]={ref:b,...F},!r))return S}}return j(!0),S};function g7(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Mt(e)?n++:e[t[n++]];return e}function y7(e){for(const t in e)if(e.hasOwnProperty(t)&&!Mt(e[t]))return!1;return!0}function zt(e,t){const r=Array.isArray(t)?t:Jx(t)?[t]:sP(t),n=r.length===1?e:g7(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&($t(n)&&Ar(n)||Array.isArray(n)&&y7(n))&&zt(e,r.slice(0,-1)),e}var Sp=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},Ey=e=>vr(e)||!tP(e);function Xs(e,t){if(Ey(e)||Ey(t))return e===t;if(no(e)&&no(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(no(o)&&no(i)||$t(o)&&$t(i)||Array.isArray(o)&&Array.isArray(i)?!Xs(o,i):o!==i)return!1}}return!0}var hP=e=>e.type==="select-multiple",v7=e=>e0(e)||Ku(e),kp=e=>sh(e)&&e.isConnected,mP=e=>{for(const t in e)if(Ss(e[t]))return!0;return!1};function oh(e,t={}){const r=Array.isArray(e);if($t(e)||r)for(const n in e)Array.isArray(e[n])||$t(e[n])&&!mP(e[n])?(t[n]=Array.isArray(e[n])?[]:{},oh(e[n],t[n])):vr(e[n])||(t[n]=!0);return t}function pP(e,t,r){const n=Array.isArray(e);if($t(e)||n)for(const s in e)Array.isArray(e[s])||$t(e[s])&&!mP(e[s])?Mt(t)||Ey(r[s])?r[s]=Array.isArray(e[s])?oh(e[s],[]):{...oh(e[s])}:pP(e[s],vr(t)?{}:t[s],r[s]):r[s]=!Xs(e[s],t[s]);return r}var Bl=(e,t)=>pP(e,t,oh(t)),gP=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Mt(e)?e:t?e===""?NaN:e&&+e:r&&rs(e)?new Date(e):n?n(e):e;function Cp(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Xx(t)?t.files:e0(t)?fP(e.refs).value:hP(t)?[...t.selectedOptions].map(({value:r})=>r):Ku(t)?dP(e.refs).value:gP(Mt(t.value)?e.ref.value:t.value,e)}var x7=(e,t,r,n)=>{const s={};for(const o of e){const i=ce(t,o);i&&et(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},zl=e=>Mt(e)?e:ah(e)?e.source:$t(e)?ah(e.value)?e.value.source:e.value:e;const l_="AsyncFunction";var w7=e=>(!e||!e.validate)&&!!(Ss(e.validate)&&e.validate.constructor.name===l_||$t(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===l_)),b7=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function c_(e,t,r){const n=ce(e,r);if(n||Jx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=ce(t,o),l=ce(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};s.pop()}return{name:r}}var _7=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,j7=(e,t)=>!wm(ce(e,t)).length&&zt(e,t);const N7={mode:Rn.onSubmit,reValidateMode:Rn.onChange,shouldFocusError:!0};function S7(e={}){let t={...N7,...e},r={submitCount:0,isDirty:!1,isLoading:Ss(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=$t(t.defaultValues)||$t(t.values)?Pr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Pr(s),i={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Sp(),array:Sp(),state:Sp()},h=t_(t.mode),v=t_(t.reValidateMode),p=t.criteriaMode===Rn.all,y=O=>$=>{clearTimeout(u),u=setTimeout(O,$)},x=async O=>{if(!e.disabled&&(d.isValid||O)){const $=t.resolver?Ar((await C()).errors):await T(n,!0);$!==r.isValid&&f.state.next({isValid:$})}},w=(O,$)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((O||Array.from(l.mount)).forEach(q=>{q&&($?et(r.validatingFields,q,$):zt(r.validatingFields,q))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Ar(r.validatingFields)}))},g=(O,$=[],q,ue,oe=!0,te=!0)=>{if(ue&&q&&!e.disabled){if(i.action=!0,te&&Array.isArray(ce(n,O))){const _e=q(ce(n,O),ue.argA,ue.argB);oe&&et(n,O,_e)}if(te&&Array.isArray(ce(r.errors,O))){const _e=q(ce(r.errors,O),ue.argA,ue.argB);oe&&et(r.errors,O,_e),j7(r.errors,O)}if(d.touchedFields&&te&&Array.isArray(ce(r.touchedFields,O))){const _e=q(ce(r.touchedFields,O),ue.argA,ue.argB);oe&&et(r.touchedFields,O,_e)}d.dirtyFields&&(r.dirtyFields=Bl(s,o)),f.state.next({name:O,isDirty:F(O,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else et(o,O,$)},b=(O,$)=>{et(r.errors,O,$),f.state.next({errors:r.errors})},j=O=>{r.errors=O,f.state.next({errors:r.errors,isValid:!1})},S=(O,$,q,ue)=>{const oe=ce(n,O);if(oe){const te=ce(o,O,Mt(q)?ce(s,O):q);Mt(te)||ue&&ue.defaultChecked||$?et(o,O,$?te:Cp(oe._f)):U(O,te),i.mount&&x()}},N=(O,$,q,ue,oe)=>{let te=!1,_e=!1;const Ae={name:O};if(!e.disabled){const ut=!!(ce(n,O)&&ce(n,O)._f&&ce(n,O)._f.disabled);if(!q||ue){d.isDirty&&(_e=r.isDirty,r.isDirty=Ae.isDirty=F(),te=_e!==Ae.isDirty);const Xe=ut||Xs(ce(s,O),$);_e=!!(!ut&&ce(r.dirtyFields,O)),Xe||ut?zt(r.dirtyFields,O):et(r.dirtyFields,O,!0),Ae.dirtyFields=r.dirtyFields,te=te||d.dirtyFields&&_e!==!Xe}if(q){const Xe=ce(r.touchedFields,O);Xe||(et(r.touchedFields,O,q),Ae.touchedFields=r.touchedFields,te=te||d.touchedFields&&Xe!==q)}te&&oe&&f.state.next(Ae)}return te?Ae:{}},_=(O,$,q,ue)=>{const oe=ce(r.errors,O),te=d.isValid&&fn($)&&r.isValid!==$;if(e.delayError&&q?(c=y(()=>b(O,q)),c(e.delayError)):(clearTimeout(u),c=null,q?et(r.errors,O,q):zt(r.errors,O)),(q?!Xs(oe,q):oe)||!Ar(ue)||te){const _e={...ue,...te&&fn($)?{isValid:$}:{},errors:r.errors,name:O};r={...r,..._e},f.state.next(_e)}},C=async O=>{w(O,!0);const $=await t.resolver(o,t.context,x7(O||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(O),$},E=async O=>{const{errors:$}=await C(O);if(O)for(const q of O){const ue=ce($,q);ue?et(r.errors,q,ue):zt(r.errors,q)}else r.errors=$;return $},T=async(O,$,q={valid:!0})=>{for(const ue in O){const oe=O[ue];if(oe){const{_f:te,..._e}=oe;if(te){const Ae=l.array.has(te.name),ut=oe._f&&w7(oe._f);ut&&d.validatingFields&&w([ue],!0);const Xe=await i_(oe,o,p,t.shouldUseNativeValidation&&!$,Ae);if(ut&&d.validatingFields&&w([ue]),Xe[te.name]&&(q.valid=!1,$))break;!$&&(ce(Xe,te.name)?Ae?p7(r.errors,Xe,te.name):et(r.errors,te.name,Xe[te.name]):zt(r.errors,te.name))}!Ar(_e)&&await T(_e,$,q)}}return q.valid},I=()=>{for(const O of l.unMount){const $=ce(n,O);$&&($._f.refs?$._f.refs.every(q=>!kp(q)):!kp($._f.ref))&&ge(O)}l.unMount=new Set},F=(O,$)=>!e.disabled&&(O&&$&&et(o,O,$),!Xs(V(),s)),R=(O,$,q)=>cP(O,l,{...i.mount?o:Mt($)?s:rs(O)?{[O]:$}:$},q,$),A=O=>wm(ce(i.mount?o:s,O,e.shouldUnregister?ce(s,O,[]):[])),U=(O,$,q={})=>{const ue=ce(n,O);let oe=$;if(ue){const te=ue._f;te&&(!te.disabled&&et(o,O,gP($,te)),oe=sh(te.ref)&&vr($)?"":$,hP(te.ref)?[...te.ref.options].forEach(_e=>_e.selected=oe.includes(_e.value)):te.refs?Ku(te.ref)?te.refs.length>1?te.refs.forEach(_e=>(!_e.defaultChecked||!_e.disabled)&&(_e.checked=Array.isArray(oe)?!!oe.find(Ae=>Ae===_e.value):oe===_e.value)):te.refs[0]&&(te.refs[0].checked=!!oe):te.refs.forEach(_e=>_e.checked=_e.value===oe):Xx(te.ref)?te.ref.value="":(te.ref.value=oe,te.ref.type||f.values.next({name:O,values:{...o}})))}(q.shouldDirty||q.shouldTouch)&&N(O,oe,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&W(O)},L=(O,$,q)=>{for(const ue in $){const oe=$[ue],te=`${O}.${ue}`,_e=ce(n,te);(l.array.has(O)||$t(oe)||_e&&!_e._f)&&!no(oe)?L(te,oe,q):U(te,oe,q)}},M=(O,$,q={})=>{const ue=ce(n,O),oe=l.array.has(O),te=Pr($);et(o,O,te),oe?(f.array.next({name:O,values:{...o}}),(d.isDirty||d.dirtyFields)&&q.shouldDirty&&f.state.next({name:O,dirtyFields:Bl(s,o),isDirty:F(O,te)})):ue&&!ue._f&&!vr(te)?L(O,te,q):U(O,te,q),r_(O,l)&&f.state.next({...r}),f.values.next({name:i.mount?O:void 0,values:{...o}})},k=async O=>{i.mount=!0;const $=O.target;let q=$.name,ue=!0;const oe=ce(n,q),te=()=>$.type?Cp(oe._f):rP(O),_e=Ae=>{ue=Number.isNaN(Ae)||no(Ae)&&isNaN(Ae.getTime())||Xs(Ae,ce(o,q,Ae))};if(oe){let Ae,ut;const Xe=te(),B=O.type===nh.BLUR||O.type===nh.FOCUS_OUT,de=!b7(oe._f)&&!t.resolver&&!ce(r.errors,q)&&!oe._f.deps||_7(B,ce(r.touchedFields,q),r.isSubmitted,v,h),ye=r_(q,l,B);et(o,q,Xe),B?(oe._f.onBlur&&oe._f.onBlur(O),c&&c(0)):oe._f.onChange&&oe._f.onChange(O);const vt=N(q,Xe,B,!1),Dt=!Ar(vt)||ye;if(!B&&f.values.next({name:q,type:O.type,values:{...o}}),de)return d.isValid&&(e.mode==="onBlur"?B&&x():x()),Dt&&f.state.next({name:q,...ye?{}:vt});if(!B&&ye&&f.state.next({...r}),t.resolver){const{errors:Tt}=await C([q]);if(_e(Xe),ue){const mr=c_(r.errors,n,q),Hn=c_(Tt,n,mr.name||q);Ae=Hn.error,q=Hn.name,ut=Ar(Tt)}}else w([q],!0),Ae=(await i_(oe,o,p,t.shouldUseNativeValidation))[q],w([q]),_e(Xe),ue&&(Ae?ut=!1:d.isValid&&(ut=await T(n,!0)));ue&&(oe._f.deps&&W(oe._f.deps),_(q,ut,Ae,vt))}},P=(O,$)=>{if(ce(r.errors,$)&&O.focus)return O.focus(),1},W=async(O,$={})=>{let q,ue;const oe=jc(O);if(t.resolver){const te=await E(Mt(O)?O:oe);q=Ar(te),ue=O?!oe.some(_e=>ce(te,_e)):q}else O?(ue=(await Promise.all(oe.map(async te=>{const _e=ce(n,te);return await T(_e&&_e._f?{[te]:_e}:_e)}))).every(Boolean),!(!ue&&!r.isValid)&&x()):ue=q=await T(n);return f.state.next({...!rs(O)||d.isValid&&q!==r.isValid?{}:{name:O},...t.resolver||!O?{isValid:q}:{},errors:r.errors}),$.shouldFocus&&!ue&&Nc(n,P,O?oe:l.mount),ue},V=O=>{const $={...i.mount?o:s};return Mt(O)?$:rs(O)?ce($,O):O.map(q=>ce($,q))},Z=(O,$)=>({invalid:!!ce(($||r).errors,O),isDirty:!!ce(($||r).dirtyFields,O),error:ce(($||r).errors,O),isValidating:!!ce(r.validatingFields,O),isTouched:!!ce(($||r).touchedFields,O)}),fe=O=>{O&&jc(O).forEach($=>zt(r.errors,$)),f.state.next({errors:O?r.errors:{}})},le=(O,$,q)=>{const ue=(ce(n,O,{_f:{}})._f||{}).ref,oe=ce(r.errors,O)||{},{ref:te,message:_e,type:Ae,...ut}=oe;et(r.errors,O,{...ut,...$,ref:ue}),f.state.next({name:O,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&ue&&ue.focus&&ue.focus()},ke=(O,$)=>Ss(O)?f.values.subscribe({next:q=>O(R(void 0,$),q)}):R(O,$,!0),ge=(O,$={})=>{for(const q of O?jc(O):l.mount)l.mount.delete(q),l.array.delete(q),$.keepValue||(zt(n,q),zt(o,q)),!$.keepError&&zt(r.errors,q),!$.keepDirty&&zt(r.dirtyFields,q),!$.keepTouched&&zt(r.touchedFields,q),!$.keepIsValidating&&zt(r.validatingFields,q),!t.shouldUnregister&&!$.keepDefaultValue&&zt(s,q);f.values.next({values:{...o}}),f.state.next({...r,...$.keepDirty?{isDirty:F()}:{}}),!$.keepIsValid&&x()},H=({disabled:O,name:$,field:q,fields:ue,value:oe})=>{if(fn(O)&&i.mount||O){const te=O?void 0:Mt(oe)?Cp(q?q._f:ce(ue,$)._f):oe;et(o,$,te),N($,te,!1,!1,!0)}},G=(O,$={})=>{let q=ce(n,O);const ue=fn($.disabled)||fn(e.disabled);return et(n,O,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:O}},name:O,mount:!0,...$}}),l.mount.add(O),q?H({field:q,disabled:fn($.disabled)?$.disabled:e.disabled,name:O,value:$.value}):S(O,!0,$.value),{...ue?{disabled:$.disabled||e.disabled}:{},...t.progressive?{required:!!$.required,min:zl($.min),max:zl($.max),minLength:zl($.minLength),maxLength:zl($.maxLength),pattern:zl($.pattern)}:{},name:O,onChange:k,onBlur:k,ref:oe=>{if(oe){G(O,$),q=ce(n,O);const te=Mt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,_e=v7(te),Ae=q._f.refs||[];if(_e?Ae.find(ut=>ut===te):te===q._f.ref)return;et(n,O,{_f:{...q._f,..._e?{refs:[...Ae.filter(kp),te,...Array.isArray(ce(s,O))?[{}]:[]],ref:{type:te.type,name:O}}:{ref:te}}}),S(O,!1,void 0,te)}else q=ce(n,O,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(nP(l.array,O)&&i.action)&&l.unMount.add(O)}}},X=()=>t.shouldFocusError&&Nc(n,P,l.mount),se=O=>{fn(O)&&(f.state.next({disabled:O}),Nc(n,($,q)=>{const ue=ce(n,q);ue&&($.disabled=ue._f.disabled||O,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(oe=>{oe.disabled=ue._f.disabled||O}))},0,!1))},ie=(O,$)=>async q=>{let ue;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let oe=Pr(o);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:te,values:_e}=await C();r.errors=te,oe=_e}else await T(n);if(zt(r.errors,"root"),Ar(r.errors)){f.state.next({errors:{}});try{await O(oe,q)}catch(te){ue=te}}else $&&await $({...r.errors},q),X(),setTimeout(X);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ar(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},Q=(O,$={})=>{ce(n,O)&&(Mt($.defaultValue)?M(O,Pr(ce(s,O))):(M(O,$.defaultValue),et(s,O,Pr($.defaultValue))),$.keepTouched||zt(r.touchedFields,O),$.keepDirty||(zt(r.dirtyFields,O),r.isDirty=$.defaultValue?F(O,Pr(ce(s,O))):F()),$.keepError||(zt(r.errors,O),d.isValid&&x()),f.state.next({...r}))},je=(O,$={})=>{const q=O?Pr(O):s,ue=Pr(q),oe=Ar(O),te=oe?s:ue;if($.keepDefaultValues||(s=q),!$.keepValues){if($.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(Bl(s,o))]);for(const Ae of Array.from(_e))ce(r.dirtyFields,Ae)?et(te,Ae,ce(o,Ae)):M(Ae,ce(te,Ae))}else{if(Qx&&Mt(O))for(const _e of l.mount){const Ae=ce(n,_e);if(Ae&&Ae._f){const ut=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(sh(ut)){const Xe=ut.closest("form");if(Xe){Xe.reset();break}}}}n={}}o=e.shouldUnregister?$.keepDefaultValues?Pr(s):{}:Pr(te),f.array.next({values:{...te}}),f.values.next({values:{...te}})}l={mount:$.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!$.keepIsValid||!!$.keepDirtyValues,i.watch=!!e.shouldUnregister,f.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Xs(O,s)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:$.keepDirtyValues?$.keepDefaultValues&&o?Bl(s,o):r.dirtyFields:$.keepDefaultValues&&O?Bl(s,O):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Re=(O,$)=>je(Ss(O)?O(o):O,$);return{control:{register:G,unregister:ge,getFieldState:Z,handleSubmit:ie,setError:le,_executeSchema:C,_getWatch:R,_getDirty:F,_updateValid:x,_removeUnmounted:I,_updateFieldArray:g,_updateDisabledField:H,_getFieldArray:A,_reset:je,_resetDefaultValues:()=>Ss(t.defaultValues)&&t.defaultValues().then(O=>{Re(O,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:O=>{r={...r,...O}},_disableForm:se,_subjects:f,_proxyFormState:d,_setErrors:j,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(O){i=O},get _defaultValues(){return s},get _names(){return l},set _names(O){l=O},get _formState(){return r},set _formState(O){r=O},get _options(){return t},set _options(O){t={...t,...O}}},trigger:W,register:G,handleSubmit:ie,watch:ke,setValue:M,getValues:V,reset:Re,resetField:Q,clearErrors:fe,unregister:ge,setError:le,setFocus:(O,$={})=>{const q=ce(n,O),ue=q&&q._f;if(ue){const oe=ue.refs?ue.refs[0]:ue.ref;oe.focus&&(oe.focus(),$.shouldSelect&&oe.select())}},getFieldState:Z}}function Yu(e={}){const t=K.useRef(),r=K.useRef(),[n,s]=K.useState({isDirty:!1,isValidating:!1,isLoading:Ss(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ss(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...S7(e),formState:n});const o=t.current.control;return o._options=e,Zx({subject:o._subjects.state,next:i=>{iP(i,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),K.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),K.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),K.useEffect(()=>{e.values&&!Xs(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),K.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),K.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),K.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),K.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=oP(n,o),t.current}const u_=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ce(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},yP=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?u_(n.ref,r,e):n.refs&&n.refs.forEach(s=>u_(s,r,e))}},k7=(e,t)=>{t.shouldUseNativeValidation&&yP(e,t);const r={};for(const n in e){const s=ce(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(C7(t.names||Object.keys(e),n)){const i=Object.assign({},ce(r,n));et(i,"root",o),et(r,n,i)}else et(r,n,o)}return r},C7=(e,t)=>e.some(r=>r.startsWith(t+"."));var E7=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=uP(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},Qu=function(e,t,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return o.shouldUseNativeValidation&&yP({},o),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:k7(E7(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},Ye;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const i of s)o[i]=i;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),i={};for(const l of o)i[l]=s[l];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},e.find=(s,o)=>{for(const i of s)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(Ye||(Ye={}));var Py;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Py||(Py={}));const pe=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ea=e=>{switch(typeof e){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return isNaN(e)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(e)?pe.array:e===null?pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pe.promise:typeof Map<"u"&&e instanceof Map?pe.map:typeof Set<"u"&&e instanceof Set?pe.set:typeof Date<"u"&&e instanceof Date?pe.date:pe.object;default:return pe.unknown}},ne=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),P7=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class sn extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof sn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}sn.create=e=>new sn(e);const cl=(e,t)=>{let r;switch(e.code){case ne.invalid_type:e.received===pe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ne.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ye.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ye.joinValues(e.keys,", ")}`;break;case ne.invalid_union:r="Invalid input";break;case ne.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ye.joinValues(e.options)}`;break;case ne.invalid_enum_value:r=`Invalid enum value. Expected ${Ye.joinValues(e.options)}, received '${e.received}'`;break;case ne.invalid_arguments:r="Invalid function arguments";break;case ne.invalid_return_type:r="Invalid function return type";break;case ne.invalid_date:r="Invalid date";break;case ne.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ne.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ne.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ne.custom:r="Invalid input";break;case ne.invalid_intersection_types:r="Intersection results could not be merged";break;case ne.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ne.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ye.assertNever(e)}return{message:r}};let vP=cl;function T7(e){vP=e}function ih(){return vP}const lh=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...s,path:o,message:l}},R7=[];function he(e,t){const r=ih(),n=lh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===cl?void 0:cl].filter(s=>!!s)});e.common.issues.push(n)}class dr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Te;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return dr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return Te;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const Te=Object.freeze({status:"aborted"}),yi=e=>({status:"dirty",value:e}),_r=e=>({status:"valid",value:e}),Ty=e=>e.status==="aborted",Ry=e=>e.status==="dirty",tu=e=>e.status==="valid",ru=e=>typeof Promise<"u"&&e instanceof Promise;function ch(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function xP(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Ne;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ne||(Ne={}));var sc,ac;class cs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const d_=(e,t)=>{if(tu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new sn(e.common.issues);return this._error=r,this._error}}};function Me(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>{var c,u;const{message:d}=e;return i.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Be{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ea(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ea(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dr,ctx:{common:t.parent.common,data:t.data,parsedType:ea(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ru(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ea(t)},o=this._parseSync({data:t,path:s.path,parent:s});return d_(s,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ea(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(ru(s)?s:Promise.resolve(s));return d_(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const i=t(s),l=()=>o.addIssue({code:ne.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Bn({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return os.create(this,this._def)}nullable(){return Da.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ln.create(this,this._def)}promise(){return dl.create(this,this._def)}or(t){return ou.create([this,t],this._def)}and(t){return iu.create(this,t,this._def)}transform(t){return new Bn({...Me(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new fu({...Me(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new t0({typeName:Ee.ZodBranded,type:this,...Me(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new hu({...Me(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ju.create(this,t)}readonly(){return mu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const A7=/^c[^\s-]{8,}$/i,O7=/^[0-9a-z]+$/,I7=/^[0-9A-HJKMNP-TV-Z]{26}$/,M7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D7=/^[a-z0-9_-]{21}$/i,L7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,F7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ep;const U7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B7=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,z7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",V7=new RegExp(`^${wP}$`);function bP(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function W7(e){return new RegExp(`^${bP(e)}$`)}function _P(e){let t=`${wP}T${bP(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function q7(e,t){return!!((t==="v4"||!t)&&U7.test(e)||(t==="v6"||!t)&&B7.test(e))}class An extends Be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pe.string){const o=this._getOrReturnCtx(t);return he(o,{code:ne.invalid_type,expected:pe.string,received:o.parsedType}),Te}const n=new dr;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ne.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ne.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(s=this._getOrReturnCtx(t,s),i?he(s,{code:ne.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&he(s,{code:ne.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")F7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"email",code:ne.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Ep||(Ep=new RegExp($7,"u")),Ep.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"emoji",code:ne.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")M7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"uuid",code:ne.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")D7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"nanoid",code:ne.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")A7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid",code:ne.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")O7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"cuid2",code:ne.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")I7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ulid",code:ne.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),he(s,{validation:"url",code:ne.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"regex",code:ne.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),he(s,{code:ne.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:ne.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),he(s,{code:ne.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?_P(o).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:ne.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?V7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:ne.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?W7(o).test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{code:ne.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?L7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"duration",code:ne.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?q7(t.data,o.version)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"ip",code:ne.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?z7.test(t.data)||(s=this._getOrReturnCtx(t,s),he(s,{validation:"base64",code:ne.invalid_string,message:o.message}),n.dirty()):Ye.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ne.invalid_string,...Ne.errToObj(n)})}_addCheck(t){return new An({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ne.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ne.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ne.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ne.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ne.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ne.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ne.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ne.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ne.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ne.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Ne.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ne.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ne.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ne.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ne.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ne.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ne.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ne.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ne.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ne.errToObj(r)})}nonempty(t){return this.min(1,Ne.errToObj(t))}trim(){return new An({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new An({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new An({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}An.create=e=>{var t;return new An({checks:[],typeName:Ee.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Me(e)})};function H7(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(e.toFixed(s).replace(".","")),i=parseInt(t.toFixed(s).replace(".",""));return o%i/Math.pow(10,s)}class Oa extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pe.number){const o=this._getOrReturnCtx(t);return he(o,{code:ne.invalid_type,expected:pe.number,received:o.parsedType}),Te}let n;const s=new dr;for(const o of this._def.checks)o.kind==="int"?Ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:ne.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ne.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ne.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?H7(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),he(n,{code:ne.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),he(n,{code:ne.not_finite,message:o.message}),s.dirty()):Ye.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ne.toString(r))}setLimit(t,r,n,s){return new Oa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ne.toString(s)}]})}_addCheck(t){return new Oa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ne.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ne.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ye.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Oa.create=e=>new Oa({checks:[],typeName:Ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Me(e)});class Ia extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==pe.bigint){const o=this._getOrReturnCtx(t);return he(o,{code:ne.invalid_type,expected:pe.bigint,received:o.parsedType}),Te}let n;const s=new dr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ne.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ne.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),he(n,{code:ne.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):Ye.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ne.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ne.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ne.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ne.toString(r))}setLimit(t,r,n,s){return new Ia({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ne.toString(s)}]})}_addCheck(t){return new Ia({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ne.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ia.create=e=>{var t;return new Ia({checks:[],typeName:Ee.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Me(e)})};class nu extends Be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pe.boolean){const n=this._getOrReturnCtx(t);return he(n,{code:ne.invalid_type,expected:pe.boolean,received:n.parsedType}),Te}return _r(t.data)}}nu.create=e=>new nu({typeName:Ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Me(e)});class Io extends Be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pe.date){const o=this._getOrReturnCtx(t);return he(o,{code:ne.invalid_type,expected:pe.date,received:o.parsedType}),Te}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return he(o,{code:ne.invalid_date}),Te}const n=new dr;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ne.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),he(s,{code:ne.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):Ye.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ne.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ne.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Io.create=e=>new Io({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ee.ZodDate,...Me(e)});class uh extends Be{_parse(t){if(this._getType(t)!==pe.symbol){const n=this._getOrReturnCtx(t);return he(n,{code:ne.invalid_type,expected:pe.symbol,received:n.parsedType}),Te}return _r(t.data)}}uh.create=e=>new uh({typeName:Ee.ZodSymbol,...Me(e)});class su extends Be{_parse(t){if(this._getType(t)!==pe.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:ne.invalid_type,expected:pe.undefined,received:n.parsedType}),Te}return _r(t.data)}}su.create=e=>new su({typeName:Ee.ZodUndefined,...Me(e)});class au extends Be{_parse(t){if(this._getType(t)!==pe.null){const n=this._getOrReturnCtx(t);return he(n,{code:ne.invalid_type,expected:pe.null,received:n.parsedType}),Te}return _r(t.data)}}au.create=e=>new au({typeName:Ee.ZodNull,...Me(e)});class ul extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return _r(t.data)}}ul.create=e=>new ul({typeName:Ee.ZodAny,...Me(e)});class go extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return _r(t.data)}}go.create=e=>new go({typeName:Ee.ZodUnknown,...Me(e)});class Is extends Be{_parse(t){const r=this._getOrReturnCtx(t);return he(r,{code:ne.invalid_type,expected:pe.never,received:r.parsedType}),Te}}Is.create=e=>new Is({typeName:Ee.ZodNever,...Me(e)});class dh extends Be{_parse(t){if(this._getType(t)!==pe.undefined){const n=this._getOrReturnCtx(t);return he(n,{code:ne.invalid_type,expected:pe.void,received:n.parsedType}),Te}return _r(t.data)}}dh.create=e=>new dh({typeName:Ee.ZodVoid,...Me(e)});class Ln extends Be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==pe.array)return he(r,{code:ne.invalid_type,expected:pe.array,received:r.parsedType}),Te;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(i||l)&&(he(r,{code:i?ne.too_big:ne.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(he(r,{code:ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(he(r,{code:ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>s.type._parseAsync(new cs(r,i,r.path,l)))).then(i=>dr.mergeArray(n,i));const o=[...r.data].map((i,l)=>s.type._parseSync(new cs(r,i,r.path,l)));return dr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Ln({...this._def,minLength:{value:t,message:Ne.toString(r)}})}max(t,r){return new Ln({...this._def,maxLength:{value:t,message:Ne.toString(r)}})}length(t,r){return new Ln({...this._def,exactLength:{value:t,message:Ne.toString(r)}})}nonempty(t){return this.min(1,t)}}Ln.create=(e,t)=>new Ln({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Me(t)});function ni(e){if(e instanceof St){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=os.create(ni(n))}return new St({...e._def,shape:()=>t})}else return e instanceof Ln?new Ln({...e._def,type:ni(e.element)}):e instanceof os?os.create(ni(e.unwrap())):e instanceof Da?Da.create(ni(e.unwrap())):e instanceof us?us.create(e.items.map(t=>ni(t))):e}class St extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ye.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==pe.object){const u=this._getOrReturnCtx(t);return he(u,{code:ne.invalid_type,expected:pe.object,received:u.parsedType}),Te}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Is&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=o[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new cs(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Is){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(he(s,{code:ne.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new cs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>dr.mergeObjectSync(n,u)):dr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ne.errToObj,new St({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o,i,l;const c=(i=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Ne.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new St({...this._def,unknownKeys:"strip"})}passthrough(){return new St({...this._def,unknownKeys:"passthrough"})}extend(t){return new St({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new St({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ee.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new St({...this._def,catchall:t})}pick(t){const r={};return Ye.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new St({...this._def,shape:()=>r})}omit(t){const r={};return Ye.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new St({...this._def,shape:()=>r})}deepPartial(){return ni(this)}partial(t){const r={};return Ye.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new St({...this._def,shape:()=>r})}required(t){const r={};return Ye.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof os;)o=o._def.innerType;r[n]=o}}),new St({...this._def,shape:()=>r})}keyof(){return jP(Ye.objectKeys(this.shape))}}St.create=(e,t)=>new St({shape:()=>e,unknownKeys:"strip",catchall:Is.create(),typeName:Ee.ZodObject,...Me(t)});St.strictCreate=(e,t)=>new St({shape:()=>e,unknownKeys:"strict",catchall:Is.create(),typeName:Ee.ZodObject,...Me(t)});St.lazycreate=(e,t)=>new St({shape:e,unknownKeys:"strip",catchall:Is.create(),typeName:Ee.ZodObject,...Me(t)});class ou extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new sn(l.ctx.common.issues));return he(r,{code:ne.invalid_union,unionErrors:i}),Te}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new sn(c));return he(r,{code:ne.invalid_union,unionErrors:l}),Te}}get options(){return this._def.options}}ou.create=(e,t)=>new ou({options:e,typeName:Ee.ZodUnion,...Me(t)});const ys=e=>e instanceof cu?ys(e.schema):e instanceof Bn?ys(e.innerType()):e instanceof uu?[e.value]:e instanceof Ma?e.options:e instanceof du?Ye.objectValues(e.enum):e instanceof fu?ys(e._def.innerType):e instanceof su?[void 0]:e instanceof au?[null]:e instanceof os?[void 0,...ys(e.unwrap())]:e instanceof Da?[null,...ys(e.unwrap())]:e instanceof t0||e instanceof mu?ys(e.unwrap()):e instanceof hu?ys(e._def.innerType):[];class _m extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pe.object)return he(r,{code:ne.invalid_type,expected:pe.object,received:r.parsedType}),Te;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(he(r,{code:ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const o of r){const i=ys(o.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of i){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,o)}}return new _m({typeName:Ee.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Me(n)})}}function Ay(e,t){const r=ea(e),n=ea(t);if(e===t)return{valid:!0,data:e};if(r===pe.object&&n===pe.object){const s=Ye.objectKeys(t),o=Ye.objectKeys(e).filter(l=>s.indexOf(l)!==-1),i={...e,...t};for(const l of o){const c=Ay(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===pe.array&&n===pe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const i=e[o],l=t[o],c=Ay(i,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===pe.date&&n===pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class iu extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(Ty(o)||Ty(i))return Te;const l=Ay(o.value,i.value);return l.valid?((Ry(o)||Ry(i))&&r.dirty(),{status:r.value,value:l.data}):(he(n,{code:ne.invalid_intersection_types}),Te)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}iu.create=(e,t,r)=>new iu({left:e,right:t,typeName:Ee.ZodIntersection,...Me(r)});class us extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==pe.array)return he(n,{code:ne.invalid_type,expected:pe.array,received:n.parsedType}),Te;if(n.data.length<this._def.items.length)return he(n,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&n.data.length>this._def.items.length&&(he(n,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new cs(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>dr.mergeArray(r,i)):dr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new us({...this._def,rest:t})}}us.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new us({items:e,typeName:Ee.ZodTuple,rest:null,...Me(t)})};class lu extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==pe.object)return he(n,{code:ne.invalid_type,expected:pe.object,received:n.parsedType}),Te;const s=[],o=this._def.keyType,i=this._def.valueType;for(const l in n.data)s.push({key:o._parse(new cs(n,l,n.path,l)),value:i._parse(new cs(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?dr.mergeObjectAsync(r,s):dr.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Be?new lu({keyType:t,valueType:r,typeName:Ee.ZodRecord,...Me(n)}):new lu({keyType:An.create(),valueType:t,typeName:Ee.ZodRecord,...Me(r)})}}class fh extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==pe.map)return he(n,{code:ne.invalid_type,expected:pe.map,received:n.parsedType}),Te;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new cs(n,l,n.path,[u,"key"])),value:o._parse(new cs(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Te;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Te;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}fh.create=(e,t,r)=>new fh({valueType:t,keyType:e,typeName:Ee.ZodMap,...Me(r)});class Mo extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==pe.set)return he(n,{code:ne.invalid_type,expected:pe.set,received:n.parsedType}),Te;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(he(n,{code:ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(he(n,{code:ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Te;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>o._parse(new cs(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new Mo({...this._def,minSize:{value:t,message:Ne.toString(r)}})}max(t,r){return new Mo({...this._def,maxSize:{value:t,message:Ne.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Mo.create=(e,t)=>new Mo({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Me(t)});class Ai extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pe.function)return he(r,{code:ne.invalid_type,expected:pe.function,received:r.parsedType}),Te;function n(l,c){return lh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ih(),cl].filter(u=>!!u),issueData:{code:ne.invalid_arguments,argumentsError:c}})}function s(l,c){return lh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ih(),cl].filter(u=>!!u),issueData:{code:ne.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof dl){const l=this;return _r(async function(...c){const u=new sn([]),d=await l._def.args.parseAsync(c,o).catch(v=>{throw u.addIssue(n(c,v)),u}),f=await Reflect.apply(i,this,d);return await l._def.returns._def.type.parseAsync(f,o).catch(v=>{throw u.addIssue(s(f,v)),u})})}else{const l=this;return _r(function(...c){const u=l._def.args.safeParse(c,o);if(!u.success)throw new sn([n(c,u.error)]);const d=Reflect.apply(i,this,u.data),f=l._def.returns.safeParse(d,o);if(!f.success)throw new sn([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ai({...this._def,args:us.create(t).rest(go.create())})}returns(t){return new Ai({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Ai({args:t||us.create([]).rest(go.create()),returns:r||go.create(),typeName:Ee.ZodFunction,...Me(n)})}}class cu extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}cu.create=(e,t)=>new cu({getter:e,typeName:Ee.ZodLazy,...Me(t)});class uu extends Be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return he(r,{received:r.data,code:ne.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:t.data}}get value(){return this._def.value}}uu.create=(e,t)=>new uu({value:e,typeName:Ee.ZodLiteral,...Me(t)});function jP(e,t){return new Ma({values:e,typeName:Ee.ZodEnum,...Me(t)})}class Ma extends Be{constructor(){super(...arguments),sc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{expected:Ye.joinValues(n),received:r.parsedType,code:ne.invalid_type}),Te}if(ch(this,sc)||xP(this,sc,new Set(this._def.values)),!ch(this,sc).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return he(r,{received:r.data,code:ne.invalid_enum_value,options:n}),Te}return _r(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ma.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ma.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}sc=new WeakMap;Ma.create=jP;class du extends Be{constructor(){super(...arguments),ac.set(this,void 0)}_parse(t){const r=Ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==pe.string&&n.parsedType!==pe.number){const s=Ye.objectValues(r);return he(n,{expected:Ye.joinValues(s),received:n.parsedType,code:ne.invalid_type}),Te}if(ch(this,ac)||xP(this,ac,new Set(Ye.getValidEnumValues(this._def.values))),!ch(this,ac).has(t.data)){const s=Ye.objectValues(r);return he(n,{received:n.data,code:ne.invalid_enum_value,options:s}),Te}return _r(t.data)}get enum(){return this._def.values}}ac=new WeakMap;du.create=(e,t)=>new du({values:e,typeName:Ee.ZodNativeEnum,...Me(t)});class dl extends Be{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pe.promise&&r.common.async===!1)return he(r,{code:ne.invalid_type,expected:pe.promise,received:r.parsedType}),Te;const n=r.parsedType===pe.promise?r.data:Promise.resolve(r.data);return _r(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}dl.create=(e,t)=>new dl({type:e,typeName:Ee.ZodPromise,...Me(t)});class Bn extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{he(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Te;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Te:c.status==="dirty"||r.value==="dirty"?yi(c.value):c});{if(r.value==="aborted")return Te;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Te:l.status==="dirty"||r.value==="dirty"?yi(l.value):l}}if(s.type==="refinement"){const i=l=>{const c=s.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Te:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Te:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!tu(i))return i;const l=s.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>tu(i)?Promise.resolve(s.transform(i.value,o)).then(l=>({status:r.value,value:l})):i);Ye.assertNever(s)}}Bn.create=(e,t,r)=>new Bn({schema:e,typeName:Ee.ZodEffects,effect:t,...Me(r)});Bn.createWithPreprocess=(e,t,r)=>new Bn({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects,...Me(r)});class os extends Be{_parse(t){return this._getType(t)===pe.undefined?_r(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}os.create=(e,t)=>new os({innerType:e,typeName:Ee.ZodOptional,...Me(t)});class Da extends Be{_parse(t){return this._getType(t)===pe.null?_r(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Da.create=(e,t)=>new Da({innerType:e,typeName:Ee.ZodNullable,...Me(t)});class fu extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===pe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fu.create=(e,t)=>new fu({innerType:e,typeName:Ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Me(t)});class hu extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ru(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new sn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hu.create=(e,t)=>new hu({innerType:e,typeName:Ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Me(t)});class hh extends Be{_parse(t){if(this._getType(t)!==pe.nan){const n=this._getOrReturnCtx(t);return he(n,{code:ne.invalid_type,expected:pe.nan,received:n.parsedType}),Te}return{status:"valid",value:t.data}}}hh.create=e=>new hh({typeName:Ee.ZodNaN,...Me(e)});const G7=Symbol("zod_brand");class t0 extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ju extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Te:o.status==="dirty"?(r.dirty(),yi(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Te:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Ju({in:t,out:r,typeName:Ee.ZodPipeline})}}class mu extends Be{_parse(t){const r=this._def.innerType._parse(t),n=s=>(tu(s)&&(s.value=Object.freeze(s.value)),s);return ru(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}mu.create=(e,t)=>new mu({innerType:e,typeName:Ee.ZodReadonly,...Me(t)});function NP(e,t={},r){return e?ul.create().superRefine((n,s)=>{var o,i;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(i=(o=l.fatal)!==null&&o!==void 0?o:r)!==null&&i!==void 0?i:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):ul.create()}const K7={object:St.lazycreate};var Ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const Y7=(e,t={message:`Input not instance of ${e.name}`})=>NP(r=>r instanceof e,t),hn=An.create,vi=Oa.create,Q7=hh.create,J7=Ia.create,SP=nu.create,oc=Io.create,Z7=uh.create,X7=su.create,eB=au.create,tB=ul.create,rB=go.create,nB=Is.create,sB=dh.create,aB=Ln.create,r0=St.create,oB=St.strictCreate,iB=ou.create,lB=_m.create,cB=iu.create,uB=us.create,dB=lu.create,fB=fh.create,hB=Mo.create,mB=Ai.create,pB=cu.create,gB=uu.create,yB=Ma.create,vB=du.create,xB=dl.create,f_=Bn.create,wB=os.create,bB=Da.create,_B=Bn.createWithPreprocess,jB=Ju.create,NB=()=>hn().optional(),SB=()=>vi().optional(),kB=()=>SP().optional(),CB={string:e=>An.create({...e,coerce:!0}),number:e=>Oa.create({...e,coerce:!0}),boolean:e=>nu.create({...e,coerce:!0}),bigint:e=>Ia.create({...e,coerce:!0}),date:e=>Io.create({...e,coerce:!0})},EB=Te;var Ot=Object.freeze({__proto__:null,defaultErrorMap:cl,setErrorMap:T7,getErrorMap:ih,makeIssue:lh,EMPTY_PATH:R7,addIssueToContext:he,ParseStatus:dr,INVALID:Te,DIRTY:yi,OK:_r,isAborted:Ty,isDirty:Ry,isValid:tu,isAsync:ru,get util(){return Ye},get objectUtil(){return Py},ZodParsedType:pe,getParsedType:ea,ZodType:Be,datetimeRegex:_P,ZodString:An,ZodNumber:Oa,ZodBigInt:Ia,ZodBoolean:nu,ZodDate:Io,ZodSymbol:uh,ZodUndefined:su,ZodNull:au,ZodAny:ul,ZodUnknown:go,ZodNever:Is,ZodVoid:dh,ZodArray:Ln,ZodObject:St,ZodUnion:ou,ZodDiscriminatedUnion:_m,ZodIntersection:iu,ZodTuple:us,ZodRecord:lu,ZodMap:fh,ZodSet:Mo,ZodFunction:Ai,ZodLazy:cu,ZodLiteral:uu,ZodEnum:Ma,ZodNativeEnum:du,ZodPromise:dl,ZodEffects:Bn,ZodTransformer:Bn,ZodOptional:os,ZodNullable:Da,ZodDefault:fu,ZodCatch:hu,ZodNaN:hh,BRAND:G7,ZodBranded:t0,ZodPipeline:Ju,ZodReadonly:mu,custom:NP,Schema:Be,ZodSchema:Be,late:K7,get ZodFirstPartyTypeKind(){return Ee},coerce:CB,any:tB,array:aB,bigint:J7,boolean:SP,date:oc,discriminatedUnion:lB,effect:f_,enum:yB,function:mB,instanceof:Y7,intersection:cB,lazy:pB,literal:gB,map:fB,nan:Q7,nativeEnum:vB,never:nB,null:eB,nullable:bB,number:vi,object:r0,oboolean:kB,onumber:SB,optional:wB,ostring:NB,pipeline:jB,preprocess:_B,promise:xB,record:dB,set:hB,strictObject:oB,string:hn,symbol:Z7,transformer:f_,tuple:uB,undefined:X7,union:iB,unknown:rB,void:sB,NEVER:EB,ZodIssueCode:ne,quotelessJson:P7,ZodError:sn});const Zu=u7,kP=m.createContext({}),it=({...e})=>a.jsx(kP.Provider,{value:{name:e.name},children:a.jsx(m7,{...e})}),jm=()=>{const e=m.useContext(kP),t=m.useContext(CP),{getFieldState:r,formState:n}=bm(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},CP=m.createContext({}),tt=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return a.jsx(CP.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:ee("space-y-2",e),...t})})});tt.displayName="FormItem";const rt=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=jm();return a.jsx(ze,{ref:r,className:ee(n&&"text-destructive",e),htmlFor:s,...t})});rt.displayName="FormLabel";const ct=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=jm();return a.jsx(is,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});ct.displayName="FormControl";const PB=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=jm();return a.jsx("p",{ref:r,id:n,className:ee("text-sm text-muted-foreground",e),...t})});PB.displayName="FormDescription";const nt=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=jm(),i=s?String(s==null?void 0:s.message):t;return i?a.jsx("p",{ref:n,id:o,className:ee("text-sm font-medium text-destructive",e),...r,children:i}):null});nt.displayName="FormMessage";function Ke(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function on(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xr(e,t){const r=Ke(e);return isNaN(t)?on(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function zn(e,t){const r=Ke(e);if(isNaN(t))return on(e,NaN);if(!t)return r;const n=r.getDate(),s=on(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const n0=6048e5,TB=864e5,EP=6e4,PP=36e5;let RB={};function Xu(){return RB}function ds(e,t){var l,c,u,d;const r=Xu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ke(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Do(e){return ds(e,{weekStartsOn:1})}function TP(e){const t=Ke(e),r=t.getFullYear(),n=on(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Do(n),o=on(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Do(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function fl(e){const t=Ke(e);return t.setHours(0,0,0,0),t}function mh(e){const t=Ke(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function On(e,t){const r=fl(e),n=fl(t),s=+r-mh(r),o=+n-mh(n);return Math.round((s-o)/TB)}function AB(e){const t=TP(e),r=on(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Do(r)}function Oy(e,t){const r=t*7;return xr(e,r)}function OB(e,t){return zn(e,t*12)}function IB(e){let t;return e.forEach(function(r){const n=Ke(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function MB(e){let t;return e.forEach(r=>{const n=Ke(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Dr(e,t){const r=fl(e),n=fl(t);return+r==+n}function s0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DB(e){if(!s0(e)&&typeof e!="number")return!1;const t=Ke(e);return!isNaN(Number(t))}function pu(e,t){const r=Ke(e),n=Ke(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function LB(e,t,r){const n=ds(e,r),s=ds(t,r),o=+n-mh(n),i=+s-mh(s);return Math.round((o-i)/n0)}function FB(e,t){const r=Ke(e),n=Ke(t),s=h_(r,n),o=Math.abs(On(r,n));r.setDate(r.getDate()-s*o);const i=+(h_(r,n)===-s),l=s*(o-i);return l===0?0:l}function h_(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function a0(e){const t=Ke(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Br(e){const t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function RP(e){const t=Ke(e),r=on(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function o0(e,t){var l,c,u,d;const r=Xu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ke(e),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function AP(e){return o0(e,{weekStartsOn:1})}const $B={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UB=(e,t,r)=>{let n;const s=$B[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pp(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const BB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WB={date:Pp({formats:BB,defaultWidth:"full"}),time:Pp({formats:zB,defaultWidth:"full"}),dateTime:Pp({formats:VB,defaultWidth:"full"})},qB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HB=(e,t,r,n)=>qB[e];function Vl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const GB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},KB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XB=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ez={ordinalNumber:XB,era:Vl({values:GB,defaultWidth:"wide"}),quarter:Vl({values:KB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vl({values:YB,defaultWidth:"wide"}),day:Vl({values:QB,defaultWidth:"wide"}),dayPeriod:Vl({values:JB,defaultWidth:"wide",formattingValues:ZB,defaultFormattingWidth:"wide"})};function Wl(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rz(l,f=>f.test(i)):tz(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function tz(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rz(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const sz=/^(\d+)(th|st|nd|rd)?/i,az=/\d+/i,oz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iz={any:[/^b/i,/^(a|c)/i]},lz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cz={any:[/1/i,/2/i,/3/i,/4/i]},uz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gz={ordinalNumber:nz({matchPattern:sz,parsePattern:az,valueCallback:e=>parseInt(e,10)}),era:Wl({matchPatterns:oz,defaultMatchWidth:"wide",parsePatterns:iz,defaultParseWidth:"any"}),quarter:Wl({matchPatterns:lz,defaultMatchWidth:"wide",parsePatterns:cz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wl({matchPatterns:uz,defaultMatchWidth:"wide",parsePatterns:dz,defaultParseWidth:"any"}),day:Wl({matchPatterns:fz,defaultMatchWidth:"wide",parsePatterns:hz,defaultParseWidth:"any"}),dayPeriod:Wl({matchPatterns:mz,defaultMatchWidth:"any",parsePatterns:pz,defaultParseWidth:"any"})},OP={code:"en-US",formatDistance:UB,formatLong:WB,formatRelative:HB,localize:ez,match:gz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yz(e){const t=Ke(e);return On(t,RP(t))+1}function IP(e){const t=Ke(e),r=+Do(t)-+AB(t);return Math.round(r/n0)+1}function MP(e,t){var d,f,h,v;const r=Ke(e),n=r.getFullYear(),s=Xu(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(h=s.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,i=on(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=ds(i,t),c=on(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=ds(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function vz(e,t){var l,c,u,d;const r=Xu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=MP(e,t),o=on(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),ds(o,t)}function DP(e,t){const r=Ke(e),n=+ds(r,t)-+vz(r,t);return Math.round(n/n0)+1}function ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Bs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ot(r+1,2)},d(e,t){return ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ot(e.getHours()%12||12,t.length)},H(e,t){return ot(e.getHours(),t.length)},m(e,t){return ot(e.getMinutes(),t.length)},s(e,t){return ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ot(s,t.length)}},ti={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},m_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Bs.y(e,t)},Y:function(e,t,r,n){const s=MP(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return ot(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):ot(o,t.length)},R:function(e,t){const r=TP(e);return ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Bs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=DP(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ot(s,t.length)},I:function(e,t,r){const n=IP(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Bs.d(e,t)},D:function(e,t,r){const n=yz(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ot(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ot(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ot(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ti.noon:n===0?s=ti.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ti.evening:n>=12?s=ti.afternoon:n>=4?s=ti.morning:s=ti.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Bs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Bs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Bs.s(e,t)},S:function(e,t){return Bs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return g_(n);case"XXXX":case"XX":return Ja(n);case"XXXXX":case"XXX":default:return Ja(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return g_(n);case"xxxx":case"xx":return Ja(n);case"xxxxx":case"xxx":default:return Ja(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+p_(n,":");case"OOOO":default:return"GMT"+Ja(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+p_(n,":");case"zzzz":default:return"GMT"+Ja(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ot(n,t.length)},T:function(e,t,r){const n=e.getTime();return ot(n,t.length)}};function p_(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+ot(o,2)}function g_(e,t){return e%60===0?(e>0?"-":"+")+ot(Math.abs(e)/60,2):Ja(e,t)}function Ja(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ot(Math.trunc(n/60),2),o=ot(n%60,2);return r+s+t+o}const y_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xz=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return y_(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",y_(n,t)).replace("{{time}}",LP(s,t))},wz={p:LP,P:xz},bz=/^D+$/,_z=/^Y+$/,jz=["D","DD","YY","YYYY"];function Nz(e){return bz.test(e)}function Sz(e){return _z.test(e)}function kz(e,t,r){const n=Cz(e,t,r);if(console.warn(n),jz.includes(e))throw new RangeError(n)}function Cz(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ez=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tz=/^'([^]*?)'?$/,Rz=/''/g,Az=/[a-zA-Z]/;function Lr(e,t,r){var d,f,h,v,p,y,x,w;const n=Xu(),s=(r==null?void 0:r.locale)??n.locale??OP,o=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(h=n.locale)==null?void 0:h.options)==null?void 0:v.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((y=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((w=(x=n.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,l=Ke(e);if(!DB(l))throw new RangeError("Invalid time value");let c=t.match(Pz).map(g=>{const b=g[0];if(b==="p"||b==="P"){const j=wz[b];return j(g,s.formatLong)}return g}).join("").match(Ez).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:Oz(g)};if(m_[b])return{isToken:!0,value:g};if(b.match(Az))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Sz(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Nz(b))&&kz(b,t,String(e));const j=m_[b[0]];return j(l,b,s.localize,u)}).join("")}function Oz(e){const t=e.match(Tz);return t?t[1].replace(Rz,"'"):e}function Iz(e){const t=Ke(e),r=t.getFullYear(),n=t.getMonth(),s=on(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Mz(e){return Math.trunc(+Ke(e)/1e3)}function Dz(e){const t=Ke(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Lz(e,t){return LB(Dz(e),Br(e),t)+1}function Iy(e,t){const r=Ke(e),n=Ke(t);return r.getTime()>n.getTime()}function FP(e,t){const r=Ke(e),n=Ke(t);return+r<+n}function i0(e,t){const r=Ke(e),n=Ke(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Fz(e,t){const r=Ke(e),n=Ke(t);return r.getFullYear()===n.getFullYear()}function Tp(e,t){return xr(e,-t)}function Md(e,t){const n=zz(e);let s;if(n.date){const c=Vz(n.date,2);s=Wz(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,l;if(n.time&&(i=qz(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(l=Hz(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+i+l)}const Dd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$z=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Uz=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bz=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zz(e){const t={},r=e.split(Dd.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Dd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Dd.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Dd.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Vz(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function Wz(e,t){if(t===null)return new Date(NaN);const r=e.match($z);if(!r)return new Date(NaN);const n=!!r[4],s=ql(r[1]),o=ql(r[2])-1,i=ql(r[3]),l=ql(r[4]),c=ql(r[5])-1;if(n)return Jz(t,l,c)?Gz(t,l,c):new Date(NaN);{const u=new Date(0);return!Yz(t,o,i)||!Qz(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,i)),u)}}function ql(e){return e?parseInt(e):1}function qz(e){const t=e.match(Uz);if(!t)return NaN;const r=Rp(t[1]),n=Rp(t[2]),s=Rp(t[3]);return Zz(r,n,s)?r*PP+n*EP+s*1e3:NaN}function Rp(e){return e&&parseFloat(e.replace(",","."))||0}function Hz(e){if(e==="Z")return 0;const t=e.match(Bz);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Xz(n,s)?r*(n*PP+s*EP):NaN}function Gz(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,o=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const Kz=[31,null,31,30,31,30,31,31,30,31,30,31];function $P(e){return e%400===0||e%4===0&&e%100!==0}function Yz(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Kz[t]||($P(e)?29:28))}function Qz(e,t){return t>=1&&t<=($P(e)?366:365)}function Jz(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Zz(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Xz(e,t){return t>=0&&t<=59}function Ap(e,t){const r=Ke(e),n=r.getFullYear(),s=r.getDate(),o=on(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=Iz(o);return r.setMonth(t,Math.min(s,i)),r}function v_(e,t){const r=Ke(e);return isNaN(+r)?on(e,NaN):(r.setFullYear(t),r)}var Pe=function(){return Pe=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Pe.apply(this,arguments)};function e9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function UP(e,t,r){for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function ed(e){return e.mode==="multiple"}function td(e){return e.mode==="range"}function Nm(e){return e.mode==="single"}var t9={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function r9(e,t){return Lr(e,"LLLL y",t)}function n9(e,t){return Lr(e,"d",t)}function s9(e,t){return Lr(e,"LLLL",t)}function a9(e){return"".concat(e)}function o9(e,t){return Lr(e,"cccccc",t)}function i9(e,t){return Lr(e,"yyyy",t)}var l9=Object.freeze({__proto__:null,formatCaption:r9,formatDay:n9,formatMonthCaption:s9,formatWeekNumber:a9,formatWeekdayName:o9,formatYearCaption:i9}),c9=function(e,t,r){return Lr(e,"do MMMM (EEEE)",r)},u9=function(){return"Month: "},d9=function(){return"Go to next month"},f9=function(){return"Go to previous month"},h9=function(e,t){return Lr(e,"cccc",t)},m9=function(e){return"Week n. ".concat(e)},p9=function(){return"Year: "},g9=Object.freeze({__proto__:null,labelDay:c9,labelMonthDropdown:u9,labelNext:d9,labelPrevious:f9,labelWeekNumber:m9,labelWeekday:h9,labelYearDropdown:p9});function y9(){var e="buttons",t=t9,r=OP,n={},s={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:l9,labels:g9,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:l,mode:"default"}}function v9(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Br(n):t&&(o=new Date(t,0,1)),s?i=a0(s):r&&(i=new Date(r,11,31)),{fromDate:o?fl(o):void 0,toDate:i?fl(i):void 0}}var BP=m.createContext(void 0);function x9(e){var t,r=e.initialProps,n=y9(),s=v9(r),o=s.fromDate,i=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(Nm(r)||ed(r)||td(r))&&(c=r.onSelect);var u=Pe(Pe(Pe({},n),r),{captionLayout:l,classNames:Pe(Pe({},n.classNames),r.classNames),components:Pe({},r.components),formatters:Pe(Pe({},n.formatters),r.formatters),fromDate:o,labels:Pe(Pe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Pe(Pe({},n.modifiers),r.modifiers),modifiersClassNames:Pe(Pe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Pe(Pe({},n.styles),r.styles),toDate:i});return a.jsx(BP.Provider,{value:u,children:e.children})}function yt(){var e=m.useContext(BP);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function zP(e){var t=yt(),r=t.locale,n=t.classNames,s=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function w9(e){return a.jsx("svg",Pe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function VP(e){var t,r,n=e.onChange,s=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,u=yt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:w9;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function b9(e){var t,r=yt(),n=r.fromDate,s=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(Fz(n,s))for(var h=Br(n),v=n.getMonth();v<=s.getMonth();v++)f.push(Ap(h,v));else for(var h=Br(new Date),v=0;v<=11;v++)f.push(Ap(h,v));var p=function(x){var w=Number(x.target.value),g=Ap(Br(e.displayMonth),w);e.onChange(g)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:VP;return a.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(x){return a.jsx("option",{value:x.getMonth(),children:l(x,{locale:i})},x.getMonth())})})}function _9(e){var t,r=e.displayMonth,n=yt(),s=n.fromDate,o=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var v=s.getFullYear(),p=o.getFullYear(),y=v;y<=p;y++)h.push(v_(RP(new Date),y));var x=function(g){var b=v_(Br(r),Number(g.target.value));e.onChange(b)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:VP;return a.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(g){return a.jsx("option",{value:g.getFullYear(),children:d(g,{locale:i})},g.getFullYear())})})}function j9(e,t){var r=m.useState(e),n=r[0],s=r[1],o=t===void 0?n:t;return[o,s]}function N9(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&pu(o,s)<0){var u=-1*(c-1);s=zn(o,u)}return i&&pu(s,i)<0&&(s=i),Br(s)}function S9(){var e=yt(),t=N9(e),r=j9(t,e.month),n=r[0],s=r[1],o=function(i){var l;if(!e.disableNavigation){var c=Br(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,o]}function k9(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Br(e),o=Br(zn(s,n)),i=pu(o,s),l=[],c=0;c<i;c++){var u=zn(s,c);l.push(u)}return r&&(l=l.reverse()),l}function C9(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,l=Br(e);if(!r)return zn(l,i);var c=pu(r,e);if(!(c<o))return zn(l,i)}}function E9(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,l=Br(e);if(!r)return zn(l,-i);var c=pu(l,r);if(!(c<=0))return zn(l,-i)}}var WP=m.createContext(void 0);function P9(e){var t=yt(),r=S9(),n=r[0],s=r[1],o=k9(n,t),i=C9(n,t),l=E9(n,t),c=function(f){return o.some(function(h){return i0(f,h)})},u=function(f,h){c(f)||(h&&FP(f,h)?s(zn(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return a.jsx(WP.Provider,{value:d,children:e.children})}function rd(){var e=m.useContext(WP);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function x_(e){var t,r=yt(),n=r.classNames,s=r.styles,o=r.components,i=rd().goToMonth,l=function(d){i(zn(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:zP,u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(b9,{onChange:l,displayMonth:e.displayMonth}),a.jsx(_9,{onChange:l,displayMonth:e.displayMonth})]})}function T9(e){return a.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function R9(e){return a.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ph=m.forwardRef(function(e,t){var r=yt(),n=r.classNames,s=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),l=Pe(Pe({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",Pe({},e,{ref:t,type:"button",className:i,style:l}))});function A9(e){var t,r,n=yt(),s=n.dir,o=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var h=u(e.previousMonth,{locale:o}),v=[i.nav_button,i.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:o}),y=[i.nav_button,i.nav_button_next].join(" "),x=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:R9,w=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:T9;return a.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(ph,{name:"previous-month","aria-label":h,className:v,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(x,{className:i.nav_icon,style:l.nav_icon}):a.jsx(w,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(ph,{name:"next-month","aria-label":p,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(w,{className:i.nav_icon,style:l.nav_icon}):a.jsx(x,{className:i.nav_icon,style:l.nav_icon})})]})}function w_(e){var t=yt().numberOfMonths,r=rd(),n=r.previousMonth,s=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(p){return i0(e.displayMonth,p)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&o(n)},v=function(){s&&o(s)};return a.jsx(A9,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:v})}function O9(e){var t,r=yt(),n=r.classNames,s=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:zP,u;return s?u=a.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=a.jsx(x_,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(x_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(w_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(w_,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:o.caption,children:u})}function I9(e){var t=yt(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function M9(e,t,r){for(var n=r?Do(new Date):ds(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=xr(n,o);s.push(i)}return s}function D9(){var e=yt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=M9(s,o,i);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function L9(){var e,t=yt(),r=t.classNames,n=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:D9;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(o,{})})}function F9(e){var t=yt(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var l0=m.createContext(void 0);function $9(e){if(!ed(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(l0.Provider,{value:t,children:e.children})}return a.jsx(U9,{initialProps:e.initialProps,children:e.children})}function U9(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,o=t.max,i=function(u,d,f){var h,v;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var p=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var y=!!(!d.selected&&o&&(n==null?void 0:n.length)===o);if(!y){var x=n?UP([],n):[];if(d.selected){var w=x.findIndex(function(g){return Dr(u,g)});x.splice(w,1)}else x.push(u);(v=t.onSelect)===null||v===void 0||v.call(t,x,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=o&&n.length>o-1,f=n.some(function(h){return Dr(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return a.jsx(l0.Provider,{value:c,children:r})}function c0(){var e=m.useContext(l0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function B9(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Dr(s,e)&&Dr(n,e)?void 0:Dr(s,e)?{from:s,to:void 0}:Dr(n,e)?void 0:Iy(n,e)?{from:e,to:s}:{from:n,to:e}:s?Iy(e,s)?{from:s,to:e}:{from:e,to:s}:n?FP(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var u0=m.createContext(void 0);function z9(e){if(!td(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(u0.Provider,{value:t,children:e.children})}return a.jsx(V9,{initialProps:e.initialProps,children:e.children})}function V9(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},o=s.from,i=s.to,l=t.min,c=t.max,u=function(v,p,y){var x,w;(x=t.onDayClick)===null||x===void 0||x.call(t,v,p,y);var g=B9(v,n);(w=t.onSelect)===null||w===void 0||w.call(t,g,v,p,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],Dr(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:Tp(o,l-1),before:xr(o,l-1)}),o&&i&&d.disabled.push({after:o,before:xr(o,l-1)}),!o&&i&&d.disabled.push({after:Tp(i,l-1),before:xr(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:xr(o,-c+1)}),d.disabled.push({after:xr(o,c-1)})),o&&i){var f=On(i,o)+1,h=c-f;d.disabled.push({before:Tp(o,h)}),d.disabled.push({after:xr(i,h)})}!o&&i&&(d.disabled.push({before:xr(i,-c+1)}),d.disabled.push({after:xr(i,c-1)}))}return a.jsx(u0.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function d0(){var e=m.useContext(u0);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function sf(e){return Array.isArray(e)?UP([],e):e!==void 0?[e]:[]}function W9(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=sf(s)}),t}var Vn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Vn||(Vn={}));var q9=Vn.Selected,ps=Vn.Disabled,H9=Vn.Hidden,G9=Vn.Today,Op=Vn.RangeEnd,Ip=Vn.RangeMiddle,Mp=Vn.RangeStart,K9=Vn.Outside;function Y9(e,t,r){var n,s=(n={},n[q9]=sf(e.selected),n[ps]=sf(e.disabled),n[H9]=sf(e.hidden),n[G9]=[e.today],n[Op]=[],n[Ip]=[],n[Mp]=[],n[K9]=[],n);return e.fromDate&&s[ps].push({before:e.fromDate}),e.toDate&&s[ps].push({after:e.toDate}),ed(e)?s[ps]=s[ps].concat(t.modifiers[ps]):td(e)&&(s[ps]=s[ps].concat(r.modifiers[ps]),s[Mp]=r.modifiers[Mp],s[Ip]=r.modifiers[Ip],s[Op]=r.modifiers[Op]),s}var qP=m.createContext(void 0);function Q9(e){var t=yt(),r=c0(),n=d0(),s=Y9(t,r,n),o=W9(t.modifiers),i=Pe(Pe({},s),o);return a.jsx(qP.Provider,{value:i,children:e.children})}function HP(){var e=m.useContext(qP);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function J9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Z9(e){return!!(e&&typeof e=="object"&&"from"in e)}function X9(e){return!!(e&&typeof e=="object"&&"after"in e)}function eV(e){return!!(e&&typeof e=="object"&&"before"in e)}function tV(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function rV(e,t){var r,n=t.from,s=t.to;if(n&&s){var o=On(s,n)<0;o&&(r=[s,n],n=r[0],s=r[1]);var i=On(e,n)>=0&&On(s,e)>=0;return i}return s?Dr(s,e):n?Dr(n,e):!1}function nV(e){return s0(e)}function sV(e){return Array.isArray(e)&&e.every(s0)}function aV(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(nV(r))return Dr(e,r);if(sV(r))return r.includes(e);if(Z9(r))return rV(e,r);if(tV(r))return r.dayOfWeek.includes(e.getDay());if(J9(r)){var n=On(r.before,e),s=On(r.after,e),o=n>0,i=s<0,l=Iy(r.before,r.after);return l?i&&o:o||i}return X9(r)?On(e,r.after)>0:eV(r)?On(r.before,e)>0:typeof r=="function"?r(e):!1})}function f0(e,t,r){var n=Object.keys(t).reduce(function(o,i){var l=t[i];return aV(e,l)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),r&&!i0(e,r)&&(s.outside=!0),s}function oV(e,t){for(var r=Br(e[0]),n=a0(e[e.length-1]),s,o,i=r;i<=n;){var l=f0(i,t),c=!l.disabled&&!l.hidden;if(!c){i=xr(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),s||(s=i),i=xr(i,1)}return o||s}var iV=365;function GP(e,t){var r=t.moveBy,n=t.direction,s=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:xr,week:Oy,month:zn,year:OB,startOfWeek:function(x){return s.ISOWeek?Do(x):ds(x,{locale:f,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?AP(x):o0(x,{locale:f,weekStartsOn:c})}},v=h[r](e,n==="after"?1:-1);n==="before"&&u?v=IB([u,v]):n==="after"&&d&&(v=MB([d,v]));var p=!0;if(o){var y=f0(v,o);p=!y.disabled&&!y.hidden}return p?v:l.count>iV?l.lastFocused:GP(v,{moveBy:r,direction:n,context:s,modifiers:o,retry:Pe(Pe({},l),{count:l.count+1})})}var KP=m.createContext(void 0);function lV(e){var t=rd(),r=HP(),n=m.useState(),s=n[0],o=n[1],i=m.useState(),l=i[0],c=i[1],u=oV(t.displayMonths,r),d=s??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(s),o(void 0)},h=function(x){o(x)},v=yt(),p=function(x,w){if(s){var g=GP(s,{moveBy:x,direction:w,context:v,modifiers:r});Dr(s,g)||(t.goToDate(g,s),h(g))}},y={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return a.jsx(KP.Provider,{value:y,children:e.children})}function h0(){var e=m.useContext(KP);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function cV(e,t){var r=HP(),n=f0(e,r,t);return n}var m0=m.createContext(void 0);function uV(e){if(!Nm(e.initialProps)){var t={selected:void 0};return a.jsx(m0.Provider,{value:t,children:e.children})}return a.jsx(dV,{initialProps:e.initialProps,children:e.children})}function dV(e){var t=e.initialProps,r=e.children,n=function(o,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,l)},s={selected:t.selected,onDayClick:n};return a.jsx(m0.Provider,{value:s,children:r})}function YP(){var e=m.useContext(m0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function fV(e,t){var r=yt(),n=YP(),s=c0(),o=d0(),i=h0(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,v=i.focusMonthBefore,p=i.focusMonthAfter,y=i.focusYearBefore,x=i.focusYearAfter,w=i.focusStartOfWeek,g=i.focusEndOfWeek,b=function(M){var k,P,W,V;Nm(r)?(k=n.onDayClick)===null||k===void 0||k.call(n,e,t,M):ed(r)?(P=s.onDayClick)===null||P===void 0||P.call(s,e,t,M):td(r)?(W=o.onDayClick)===null||W===void 0||W.call(o,e,t,M):(V=r.onDayClick)===null||V===void 0||V.call(r,e,t,M)},j=function(M){var k;h(e),(k=r.onDayFocus)===null||k===void 0||k.call(r,e,t,M)},S=function(M){var k;f(),(k=r.onDayBlur)===null||k===void 0||k.call(r,e,t,M)},N=function(M){var k;(k=r.onDayMouseEnter)===null||k===void 0||k.call(r,e,t,M)},_=function(M){var k;(k=r.onDayMouseLeave)===null||k===void 0||k.call(r,e,t,M)},C=function(M){var k;(k=r.onDayPointerEnter)===null||k===void 0||k.call(r,e,t,M)},E=function(M){var k;(k=r.onDayPointerLeave)===null||k===void 0||k.call(r,e,t,M)},T=function(M){var k;(k=r.onDayTouchCancel)===null||k===void 0||k.call(r,e,t,M)},I=function(M){var k;(k=r.onDayTouchEnd)===null||k===void 0||k.call(r,e,t,M)},F=function(M){var k;(k=r.onDayTouchMove)===null||k===void 0||k.call(r,e,t,M)},R=function(M){var k;(k=r.onDayTouchStart)===null||k===void 0||k.call(r,e,t,M)},A=function(M){var k;(k=r.onDayKeyUp)===null||k===void 0||k.call(r,e,t,M)},U=function(M){var k;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?y():v();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?x():p();break;case"Home":M.preventDefault(),M.stopPropagation(),w();break;case"End":M.preventDefault(),M.stopPropagation(),g();break}(k=r.onDayKeyDown)===null||k===void 0||k.call(r,e,t,M)},L={onClick:b,onFocus:j,onBlur:S,onKeyDown:U,onKeyUp:A,onMouseEnter:N,onMouseLeave:_,onPointerEnter:C,onPointerLeave:E,onTouchCancel:T,onTouchEnd:I,onTouchMove:F,onTouchStart:R};return L}function hV(){var e=yt(),t=YP(),r=c0(),n=d0(),s=Nm(e)?t.selected:ed(e)?r.selected:td(e)?n.selected:void 0;return s}function mV(e){return Object.values(Vn).includes(e)}function pV(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(mV(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function gV(e,t){var r=Pe({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Pe(Pe({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function yV(e,t,r){var n,s,o,i=yt(),l=h0(),c=cV(e,t),u=fV(e,c),d=hV(),f=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Dr(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=pV(i,c).join(" "),v=gV(i,c),p=!!(c.outside&&!i.showOutsideDays||c.hidden),y=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:F9,x=a.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),w={style:v,className:h,children:x,role:"gridcell"},g=l.focusTarget&&Dr(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&Dr(l.focusedDay,e),j=Pe(Pe(Pe({},w),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||g?0:-1,n)),u),S={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:w};return S}function vV(e){var t=m.useRef(null),r=yV(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(ph,Pe({name:"day",ref:t},r.buttonProps)):a.jsx("div",Pe({},r.divProps))}function xV(e){var t=e.number,r=e.dates,n=yt(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(v){s(t,r,v)};return a.jsx(ph,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:h,children:d})}function wV(e){var t,r,n=yt(),s=n.styles,o=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:vV,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:xV,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:e.displayMonth,date:f})},Mz(f))})]})}function b_(e,t,r){for(var n=r!=null&&r.ISOWeek?AP(t):o0(t,r),s=r!=null&&r.ISOWeek?Do(e):ds(e,r),o=On(n,s),i=[],l=0;l<=o;l++)i.push(xr(s,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?IP(d):DP(d,r),h=u.find(function(v){return v.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function bV(e,t){var r=b_(Br(e),a0(e),t);if(t!=null&&t.useFixedWeeks){var n=Lz(e,t);if(n<6){var s=r[r.length-1],o=s.dates[s.dates.length-1],i=Oy(o,6-n),l=b_(Oy(o,1),i,t);r.push.apply(r,l)}}return r}function _V(e){var t,r,n,s=yt(),o=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,v=s.ISOWeek,p=bV(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:v,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),y=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:L9,x=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:wV,w=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:I9;return a.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&a.jsx(y,{}),a.jsx("tbody",{className:i.tbody,style:l.tbody,children:p.map(function(g){return a.jsx(x,{displayMonth:e.displayMonth,dates:g.dates,weekNumber:g.weekNumber},g.weekNumber)})}),a.jsx(w,{displayMonth:e.displayMonth})]})}function jV(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var NV=jV()?m.useLayoutEffect:m.useEffect,Dp=!1,SV=0;function __(){return"react-day-picker-".concat(++SV)}function kV(e){var t,r=e??(Dp?__():null),n=m.useState(r),s=n[0],o=n[1];return NV(function(){s===null&&o(__())},[]),m.useEffect(function(){Dp===!1&&(Dp=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function CV(e){var t,r,n=yt(),s=n.dir,o=n.classNames,i=n.styles,l=n.components,c=rd().displayMonths,u=kV(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],h=i.month,v=e.displayIndex===0,p=e.displayIndex===c.length-1,y=!v&&!p;s==="rtl"&&(t=[v,p],p=t[0],v=t[1]),v&&(f.push(o.caption_start),h=Pe(Pe({},h),i.caption_start)),p&&(f.push(o.caption_end),h=Pe(Pe({},h),i.caption_end)),y&&(f.push(o.caption_between),h=Pe(Pe({},h),i.caption_between));var x=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:O9;return a.jsxs("div",{className:f.join(" "),style:h,children:[a.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(_V,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function EV(e){var t=yt(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function PV(e){var t,r,n=e.initialProps,s=yt(),o=h0(),i=rd(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Pe(Pe({},s.styles.root),s.style),h=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,y){var x;return Pe(Pe({},p),(x={},x[y]=n[y],x))},{}),v=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:EV;return a.jsx("div",Pe({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:a.jsx(v,{children:i.displayMonths.map(function(p,y){return a.jsx(CV,{displayIndex:y,displayMonth:p},y)})})}))}function TV(e){var t=e.children,r=e9(e,["children"]);return a.jsx(x9,{initialProps:r,children:a.jsx(P9,{children:a.jsx(uV,{initialProps:r,children:a.jsx($9,{initialProps:r,children:a.jsx(z9,{initialProps:r,children:a.jsx(Q9,{children:a.jsx(lV,{children:t})})})})})})})}function RV(e){return a.jsx(TV,Pe({},e,{children:a.jsx(PV,{initialProps:e})}))}function ic({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(RV,{showOutsideDays:r,className:ee("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ee(al({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ee(al({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(Mv,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Fh,{className:"h-4 w-4"})},...n})}ic.displayName="Calendar";const QP=({value:e,onChange:t,onValueChange:r,bucketName:n="avatars"})=>{const[s,o]=m.useState(null),[i,l]=m.useState(!1),[c,u]=m.useState(null),{toast:d}=Wn();m.useEffect(()=>{(async()=>{if(e)try{console.log(`Fetching image from bucket: ${n}, path: ${e}`);const{data:p}=z.storage.from(n).getPublicUrl(e);p!=null&&p.publicUrl&&u(p.publicUrl)}catch(p){console.error("Error fetching image:",p)}else u(null)})()},[e,n]);const f=async v=>{var y;const p=((y=v.target.files)==null?void 0:y[0])||null;if(p){if(p.size>5*1024*1024){d({title:"Error",description:"File size must be less than 5MB",variant:"destructive"});return}if(!["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"].includes(p.type)){d({title:"Error",description:"File must be an image (JPEG, PNG, GIF, WEBP or SVG)",variant:"destructive"});return}l(!0);try{console.log(`Attempting to upload to bucket: ${n}`);const{data:w,error:g}=await z.storage.listBuckets();if(g?console.error("Error fetching bucket list:",g):console.log("Available Buckets:",w.map(T=>T.name)),!(w==null?void 0:w.some(T=>T.name===n))){console.error(`Bucket "${n}" does not exist`),d({title:"Error",description:`Storage bucket "${n}" does not exist. Please contact administrator.`,variant:"destructive"}),l(!1);return}const j=p.name.split(".").pop(),S=`${Date.now()}.${j}`;console.log(`Uploading ${S} to bucket: ${n}`);const{data:N,error:_}=await z.storage.from(n).upload(S,p);if(_){console.error("Error uploading image:",_),d({title:"Error",description:"Failed to upload image. Please try again.",variant:"destructive"}),l(!1);return}const C=new FileReader;C.onloadend=()=>{o(C.result)},C.readAsDataURL(p);const{data:E}=z.storage.from(n).getPublicUrl(S);u(E.publicUrl),t(p),r(S),d({title:"Success",description:"Image uploaded successfully"})}catch(w){console.error("Unexpected error during upload:",w),d({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{l(!1)}}else o(null),u(null),t(null),r("")},h=async()=>{if(e)try{l(!0);const{error:v}=await z.storage.from(n).remove([e]);v&&(console.error("Error removing image:",v),d({title:"Warning",description:"Could not remove the image from storage, but it has been removed from the form."}))}catch(v){console.error("Unexpected error during removal:",v)}finally{l(!1),o(null),u(null),t(null),r("")}else o(null),u(null),t(null),r("")};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(J,{type:"button",variant:"outline",onClick:()=>{var v;return(v=document.getElementById("image-upload"))==null?void 0:v.click()},className:"flex items-center gap-2",disabled:i,children:[a.jsx(Uv,{className:"h-4 w-4"}),i?"Uploading...":"Upload Image"]}),(e||s)&&a.jsxs(J,{type:"button",variant:"outline",onClick:h,className:"flex items-center gap-2",disabled:i,children:[a.jsx(Pu,{className:"h-4 w-4"}),"Remove"]}),a.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:f,className:"hidden",disabled:i})]}),i&&a.jsx("div",{className:"text-sm text-gray-500",children:"Uploading image..."}),s&&a.jsx("div",{className:"relative w-full h-48 overflow-hidden rounded-md border border-gray-200",children:a.jsx("img",{src:s,alt:"Preview",className:"w-full h-full object-cover"})}),!s&&c&&a.jsx("div",{className:"relative w-full h-48 overflow-hidden rounded-md border border-gray-200",children:a.jsx("img",{src:c,alt:"Uploaded image",className:"w-full h-full object-cover"})}),e&&!s&&!c&&a.jsxs("p",{className:"text-sm text-gray-500",children:["File selected: ",e]})]})},AV=r0({tournamentName:hn().min(2,{message:"Tournament name must be at least 2 characters."}),description:hn().optional(),startDate:oc(),endDate:oc(),regStartDate:oc(),regEndDate:oc(),gameId:vi(),teamSize:vi(),totalTeams:vi(),prize1:hn().optional(),prize2:hn().optional(),prize3:hn().optional(),additionalPrizes:hn().optional(),loungeId:vi(),coverImage:hn().optional()}),OV=()=>{const[e,t]=K.useState(!1),[r,n]=m.useState(null),{user:s,loading:o}=jt(),{roleId:i,isLoungeAdmin:l,isAdmin:c,loading:u}=Sr(),d=nr(),f=new Date;f.setDate(f.getDate()+1);const h=new Date;h.setDate(h.getDate()+7);const v=Yu({resolver:Qu(AV),defaultValues:{tournamentName:"",description:"",startDate:f,endDate:h,regStartDate:new Date,regEndDate:f,gameId:0,teamSize:1,totalTeams:16,prize1:"",prize2:"",prize3:"",additionalPrizes:"",loungeId:0,coverImage:""}}),{data:p,isLoading:y}=Ft({queryKey:["userLounge",s==null?void 0:s.id],queryFn:async()=>{if(!s||!l)return null;const{data:N,error:_}=await z.from("lounges").select("*").eq("user_id",s.id).single();if(_)throw _;return N},enabled:!!s&&l&&!o&&!u});m.useEffect(()=>{p&&l&&v&&v.setValue("loungeId",p.id)},[p,l,v]);const{data:x=[],isLoading:w}=Ft({queryKey:["games"],queryFn:async()=>{const{data:N,error:_}=await z.from("games").select("*").order("game_name",{ascending:!0});if(_)throw _;return N||[]},enabled:!!s&&!o&&!u}),{data:g=[],isLoading:b}=Ft({queryKey:["lounges"],queryFn:async()=>{if(!s||!c)return[];const{data:N,error:_}=await z.from("lounges").select("*").eq("active",!0);if(_)throw _;return N||[]},enabled:!!s&&c&&!o&&!u}),j=N=>{n(N),N?v.setValue("coverImage",N.name):v.setValue("coverImage","")};async function S(N){t(!0);try{if(!s){Y("Not authenticated",{description:"You must be logged in to host a tournament."});return}if(N.endDate<=N.startDate){Y.error("Invalid dates",{description:"End date must be after start date"}),t(!1);return}if(N.regEndDate>N.startDate){Y.error("Invalid dates",{description:"Registration must end before the tournament starts"}),t(!1);return}let _=null;if(r){const L=r.name.split(".").pop(),M=`${N.tournamentName.replace(/\s+/g,"-")}-${Date.now()}.${L}`,{data:k,error:P}=await z.storage.from("tournament-covers").upload(M,r);if(P)throw console.error("Error uploading image:",P),Y.error("Failed to upload cover image"),P;_=M}const C=new Date(N.startDate);C.setHours(0,0,0,0);const E=new Date(N.endDate);E.setHours(23,59,59,999);const T=new Date(N.regStartDate);T.setHours(0,0,0,0);const I=new Date(N.regEndDate);I.setHours(23,59,59,999);const{error:F}=await z.from("tournaments").insert({tournament_name:N.tournamentName,description:N.description,start_date:C.toISOString(),end_date:E.toISOString(),reg_start_date:T.toISOString(),reg_end_date:I.toISOString(),game_id:N.gameId,added_by:s.id,cover_image:_,lounge_id:N.loungeId});if(F)throw console.error("Error creating tournament:",F),F;const{data:R,error:A}=await z.from("tournaments").select("id").eq("tournament_name",N.tournamentName).eq("added_by",s.id).single();if(A)throw console.error("Error fetching tournament ID:",A),A;const{error:U}=await z.from("tournament_details").insert({tournament_id:R.id,format_type:"elimination",players_per_team:N.teamSize,number_of_teams:N.totalTeams,prize_1:N.prize1,prize_2:N.prize2,prize_3:N.prize3,additional_prizes:N.additionalPrizes});if(U)throw console.error("Error creating tournament details:",U),U;Y("Tournament created!",{description:"Your tournament has been successfully created."}),d("/tournaments")}catch(_){Y.error("Error",{description:_.message||"Failed to create tournament. Please try again."})}finally{t(!1)}}return a.jsxs("div",{className:"flex flex-col min-h-screen bg-[#121212]",children:[a.jsx(He,{}),a.jsxs("div",{className:"flex-grow container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-100",children:"Host a Tournament"}),a.jsxs(Se,{className:"mb-8 bg-[#1a1a1a] border-gray-800",children:[a.jsx(qt,{children:a.jsx(Ht,{className:"text-gray-100",children:"Tournament Details"})}),a.jsx(Ie,{children:a.jsx(Zu,{...v,children:a.jsxs("form",{onSubmit:v.handleSubmit(S),className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"bg-[#222222] p-6 rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-100",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(it,{control:v.control,name:"tournamentName",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Tournament Name"}),a.jsx(ct,{children:a.jsx(we,{placeholder:"Enter tournament name",className:"bg-[#333333] border-gray-700 text-gray-200",...N})}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"gameId",render:({field:N})=>{var _;return a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Game"}),a.jsxs(ol,{onValueChange:C=>N.onChange(Number(C)),value:(_=N.value)==null?void 0:_.toString(),disabled:w||e,children:[a.jsx(Ao,{className:"bg-[#333333] border-gray-700 text-gray-200",children:a.jsx(il,{placeholder:"Select a game"})}),a.jsx(Oo,{className:"bg-[#252525] border-gray-700",children:x.map(C=>a.jsx(Zr,{value:C.id.toString(),className:"text-gray-200 hover:bg-gray-700",children:C.game_name},C.id))})]}),a.jsx(nt,{})]})}}),a.jsx(it,{control:v.control,name:"description",render:({field:N})=>a.jsxs(tt,{className:"col-span-1 md:col-span-2",children:[a.jsx(rt,{className:"text-gray-300",children:"Description"}),a.jsx(ct,{children:a.jsx(Aa,{placeholder:"Provide details about your tournament",className:"min-h-[100px] bg-[#333333] border-gray-700 text-gray-200",...N})}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"coverImage",render:({field:N})=>a.jsxs(tt,{className:"col-span-1 md:col-span-2",children:[a.jsx(rt,{className:"text-gray-300",children:"Cover Image"}),a.jsx(ct,{children:a.jsx(QP,{value:N.value||"",onChange:j,onValueChange:N.onChange,bucketName:"tournament-covers"})}),a.jsx(nt,{})]})})]})]}),a.jsxs("div",{className:"bg-[#222222] p-6 rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-100",children:"Dates"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(it,{control:v.control,name:"startDate",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Start Date"}),a.jsxs(rc,{children:[a.jsx(nc,{asChild:!0,children:a.jsx(ct,{children:a.jsx(J,{variant:"outline",className:ee("w-full pl-3 text-left font-normal bg-[#333333] border-gray-700 text-gray-200",!N.value&&"text-muted-foreground"),children:N.value?Lr(N.value,"PPP"):a.jsx("span",{children:"Pick a date"})})})}),a.jsx(gi,{className:"w-auto p-0 bg-[#252525] border-gray-700",align:"start",children:a.jsx(ic,{mode:"single",selected:N.value,onSelect:N.onChange,disabled:_=>_<new Date,initialFocus:!0,className:"bg-[#252525] text-gray-200"})})]}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"endDate",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"End Date"}),a.jsxs(rc,{children:[a.jsx(nc,{asChild:!0,children:a.jsx(ct,{children:a.jsx(J,{variant:"outline",className:ee("w-full pl-3 text-left font-normal bg-[#333333] border-gray-700 text-gray-200",!N.value&&"text-muted-foreground"),children:N.value?Lr(N.value,"PPP"):a.jsx("span",{children:"Pick a date"})})})}),a.jsx(gi,{className:"w-auto p-0 bg-[#252525] border-gray-700",align:"start",children:a.jsx(ic,{mode:"single",selected:N.value,onSelect:N.onChange,disabled:_=>_<new Date,initialFocus:!0,className:"bg-[#252525] text-gray-200"})})]}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"regStartDate",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Registration Start Date"}),a.jsxs(rc,{children:[a.jsx(nc,{asChild:!0,children:a.jsx(ct,{children:a.jsx(J,{variant:"outline",className:ee("w-full pl-3 text-left font-normal bg-[#333333] border-gray-700 text-gray-200",!N.value&&"text-muted-foreground"),children:N.value?Lr(N.value,"PPP"):a.jsx("span",{children:"Pick a date"})})})}),a.jsx(gi,{className:"w-auto p-0 bg-[#252525] border-gray-700",align:"start",children:a.jsx(ic,{mode:"single",selected:N.value,onSelect:N.onChange,disabled:_=>_<new Date,initialFocus:!0,className:"bg-[#252525] text-gray-200"})})]}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"regEndDate",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Registration End Date"}),a.jsxs(rc,{children:[a.jsx(nc,{asChild:!0,children:a.jsx(ct,{children:a.jsx(J,{variant:"outline",className:ee("w-full pl-3 text-left font-normal bg-[#333333] border-gray-700 text-gray-200",!N.value&&"text-muted-foreground"),children:N.value?Lr(N.value,"PPP"):a.jsx("span",{children:"Pick a date"})})})}),a.jsx(gi,{className:"w-auto p-0 bg-[#252525] border-gray-700",align:"start",children:a.jsx(ic,{mode:"single",selected:N.value,onSelect:N.onChange,disabled:_=>_<new Date,initialFocus:!0,className:"bg-[#252525] text-gray-200"})})]}),a.jsx(nt,{})]})})]})]}),a.jsxs("div",{className:"bg-[#222222] p-6 rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-100",children:"Team Configuration"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(it,{control:v.control,name:"teamSize",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Players per Team"}),a.jsx(ct,{children:a.jsx(we,{type:"number",placeholder:"Enter players per team",className:"bg-[#333333] border-gray-700 text-gray-200",...N,onChange:_=>N.onChange(Number(_.target.value))})}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"totalTeams",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Total Number of Teams"}),a.jsx(ct,{children:a.jsx(we,{type:"number",placeholder:"Enter total number of teams",className:"bg-[#333333] border-gray-700 text-gray-200",...N,onChange:_=>N.onChange(Number(_.target.value))})}),a.jsx(nt,{})]})})]})]}),a.jsxs("div",{className:"bg-[#222222] p-6 rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-100",children:"Prizes"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(it,{control:v.control,name:"prize1",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Prize for 1st Place"}),a.jsx(ct,{children:a.jsx(we,{placeholder:"Enter prize for 1st place",className:"bg-[#333333] border-gray-700 text-gray-200",...N})}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"prize2",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Prize for 2nd Place"}),a.jsx(ct,{children:a.jsx(we,{placeholder:"Enter prize for 2nd place",className:"bg-[#333333] border-gray-700 text-gray-200",...N})}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"prize3",render:({field:N})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Prize for 3rd Place"}),a.jsx(ct,{children:a.jsx(we,{placeholder:"Enter prize for 3rd place",className:"bg-[#333333] border-gray-700 text-gray-200",...N})}),a.jsx(nt,{})]})}),a.jsx(it,{control:v.control,name:"additionalPrizes",render:({field:N})=>a.jsxs(tt,{className:"col-span-1 md:col-span-3",children:[a.jsx(rt,{className:"text-gray-300",children:"Additional Prizes"}),a.jsx(ct,{children:a.jsx(Aa,{placeholder:"Enter information about additional prizes",className:"min-h-[80px] bg-[#333333] border-gray-700 text-gray-200",...N})}),a.jsx(nt,{})]})})]})]}),a.jsxs("div",{className:"bg-[#222222] p-6 rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-100",children:"Location"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(it,{control:v.control,name:"loungeId",render:({field:N})=>{var _;return a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Gaming Lounge"}),a.jsx("div",{className:"relative",children:l?a.jsxs("div",{children:[a.jsx(we,{value:(p==null?void 0:p.lounge_name)||"Loading your lounge...",className:"bg-[#333333] border-gray-700 text-gray-200",disabled:!0}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"As a Lounge Admin, you can only create tournaments for your own lounge."})]}):c?a.jsxs(ol,{onValueChange:C=>N.onChange(Number(C)),value:((_=N.value)==null?void 0:_.toString())||"",disabled:b||e,children:[a.jsx(Ao,{className:"bg-[#333333] border-gray-700 text-gray-200",children:a.jsx(il,{placeholder:"Select a gaming lounge"})}),a.jsx(Oo,{className:"bg-[#252525] border-gray-700",children:g.map(C=>a.jsx(Zr,{value:C.id.toString(),className:"text-gray-200 hover:bg-gray-700",children:C.lounge_name},C.id))})]}):a.jsx("div",{className:"text-gray-400 text-sm",children:"You need to be a Lounge Admin or Admin to create tournaments."})}),a.jsx(nt,{})]})}})})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(J,{type:"submit",disabled:e||l&&!p||!l&&!c,className:"w-full md:w-auto bg-gaming-primary hover:bg-gaming-primary/90",children:e?"Submitting...":"Create Tournament"})})]})})})]})]}),a.jsx(Ge,{})]})},af=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:ee("w-full caption-bottom text-sm",e),...t})}));af.displayName="Table";const of=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:ee("[&_tr]:border-b",e),...t}));of.displayName="TableHeader";const lf=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:ee("[&_tr:last-child]:border-0",e),...t}));lf.displayName="TableBody";const IV=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IV.displayName="TableFooter";const qr=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));qr.displayName="TableRow";const or=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));or.displayName="TableHead";const Rt=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Rt.displayName="TableCell";const MV=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:ee("mt-4 text-sm text-muted-foreground",e),...t}));MV.displayName="TableCaption";const DV=r0({game_name:hn().min(1,{message:"Game name is required"}),description:hn().optional(),icon:hn().optional()}),LV=()=>{const{user:e,loading:t}=jt(),{isAdmin:r,isSuperAdmin:n,loading:s,roleId:o}=Sr(),i=nr(),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState([]),[v,p]=m.useState([]),[y,x]=m.useState({total:0,pending:0,approved:0,declined:0}),[w,g]=m.useState(""),[b,j]=m.useState(""),[S,N]=m.useState(""),[_,C]=m.useState(!0),[E,T]=m.useState(null),[I,F]=m.useState("asc"),[R,A]=m.useState(null),[U,L]=m.useState("asc"),[M,k]=m.useState(null),[P,W]=m.useState("asc"),[V,Z]=m.useState(null),[fe,le]=m.useState(!1),ke=Yu({resolver:Qu(DV),defaultValues:{game_name:"",description:"",icon:""}});m.useEffect(()=>{if(!t&&!s){if(!e){i("/login");return}if(!r&&!n){i("/");return}ge(),se(),H(),G()}},[e,t,s,r,n,i]),m.useEffect(()=>{V?ke.reset({game_name:V.game_name,description:V.description||"",icon:V.icon||""}):ke.reset({game_name:"",description:"",icon:""})},[V,ke]);const ge=async()=>{try{console.log("Fetching applications...");const{data:B,error:de}=await z.from("lounge_admin_application").select(`
          *,
          application_status (status_name),
          profiles (username, full_name, avatar_url)
        `).order("created_at",{ascending:!1});if(de)throw de;console.log("Applications data:",B),B&&(c(B),X(B))}catch(B){console.error("Error fetching applications:",B),Y.error("Failed to fetch applications")}finally{C(!1)}},H=async()=>{try{console.log("Fetching games...");const{data:B,error:de}=await z.from("games").select("*").order("game_name",{ascending:!0});if(de)throw de;console.log("Games data:",B),B&&h(B)}catch(B){console.error("Error fetching games:",B),Y.error("Failed to fetch games")}},G=async()=>{try{const{data:B,error:de}=await z.from("roles").select("*").order("id",{ascending:!0});if(de)throw de;B&&p(B)}catch(B){console.error("Error fetching roles:",B),Y.error("Failed to fetch roles")}},X=B=>{const de={total:B.length,pending:B.filter(ye=>ye.status_id===1).length,approved:B.filter(ye=>ye.status_id===2).length,declined:B.filter(ye=>ye.status_id===3).length};x(de)},se=async()=>{try{console.log("Fetching users...");const{data:B,error:de}=await z.from("profiles").select(`
          *,
          roles (role_name)
        `).order("created_at",{ascending:!1});if(de)throw de;console.log("Users data:",B),B&&d(B)}catch(B){console.error("Error fetching users:",B),Y.error("Failed to fetch users")}},ie=async(B,de)=>{try{console.log("Approving application:",B,"for user:",de);const{data:ye,error:vt}=await z.from("lounge_admin_application").select("*").eq("id",B).single();if(vt)throw console.error("Error checking application:",vt),vt;if(!ye){console.error("Application not found"),Y.error("Application not found");return}console.log("Application data found:",ye);const{error:Dt}=await z.from("lounge_admin_application").update({status_id:2,updated_at:new Date().toISOString()}).eq("id",B);if(Dt)throw console.error("Error updating application status:",Dt),Dt;console.log("Application status updated successfully");const{error:Tt}=await z.from("profiles").update({role_id:2,updated_at:new Date().toISOString()}).eq("id",de);if(Tt)throw console.error("Error updating user role:",Tt),Tt;console.log("User role updated successfully");const mr={user_id:de,lounge_name:ye.lounge_name,address:ye.lounge_location,description:ye.lounge_description||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),active:!0};console.log("Creating lounge with data:",mr);const{data:Hn,error:Cr}=await z.from("lounges").insert(mr).select().single();if(Cr)throw console.error("Error creating lounge:",Cr),Cr;console.log("Lounge created successfully:",Hn),Y.success("Application approved and lounge created successfully"),ge(),se()}catch(ye){console.error("Error approving application:",ye),Y.error("Failed to approve application")}},Q=async B=>{try{const{error:de}=await z.from("lounge_admin_application").update({status_id:3,updated_at:new Date().toISOString()}).eq("id",B);if(de)throw de;Y.success("Application rejected"),ge()}catch(de){console.error("Error rejecting application:",de),Y.error("Failed to reject application")}},je=async B=>{if(!n){Y.error("Only SuperAdmins can delete users");return}if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{const{error:de}=await z.from("profiles").delete().eq("id",B);if(de)throw de;Y.success("User deleted successfully"),se()}catch(de){console.error("Error deleting user:",de),Y.error("Failed to delete user")}},Re=async(B,de)=>{if(!n){Y.error("Only SuperAdmins can change user roles");return}try{const{error:ye}=await z.from("profiles").update({role_id:de,updated_at:new Date().toISOString()}).eq("id",B);if(ye)throw ye;Y.success("User role updated successfully"),se()}catch(ye){console.error("Error updating user role:",ye),Y.error("Failed to update user role")}},Ze=async B=>{try{if(V){const{error:de}=await z.from("games").update({game_name:B.game_name,description:B.description||null,icon:B.icon||null}).eq("id",V.id);if(de)throw de;Y.success("Game updated successfully")}else{const{error:de}=await z.from("games").insert({game_name:B.game_name,description:B.description||null,icon:B.icon||null});if(de)throw de;Y.success("Game created successfully")}le(!1),Z(null),H()}catch(de){console.error("Error saving game:",de),Y.error("Failed to save game")}},Je=async B=>{if(!n&&!r){Y.error("Only Admins can delete games");return}if(window.confirm("Are you sure you want to delete this game? This action cannot be undone."))try{const{error:de}=await z.from("games").delete().eq("id",B);if(de)throw de;Y.success("Game deleted successfully"),H()}catch(de){console.error("Error deleting game:",de),Y.error("Failed to delete game")}},mt=B=>{E===B?F(I==="asc"?"desc":"asc"):(T(B),F("asc"))},O=B=>{R===B?L(U==="asc"?"desc":"asc"):(A(B),L("asc"))},$=B=>{M===B?W(P==="asc"?"desc":"asc"):(k(B),W("asc"))},q=B=>B&&B.length>0?B.charAt(0).toUpperCase():"?",oe=[...l.filter(B=>{var Tt,mr;const de=((Tt=B.profiles)==null?void 0:Tt.username)||"",ye=((mr=B.profiles)==null?void 0:mr.full_name)||"",vt=B.lounge_name||"";return`${B.id} ${vt} ${de} ${ye}`.toLowerCase().includes(w.toLowerCase())})].sort((B,de)=>{var vt,Dt;if(!E)return 0;let ye=0;if(E==="id")ye=B.id-de.id;else if(E==="applicant"){const Tt=((vt=B.profiles)==null?void 0:vt.username)||"",mr=((Dt=de.profiles)==null?void 0:Dt.username)||"";ye=Tt.localeCompare(mr)}else E==="lounge"?ye=B.lounge_name.localeCompare(de.lounge_name):E==="date"&&(ye=new Date(B.created_at).getTime()-new Date(de.created_at).getTime());return I==="asc"?ye:-ye}),_e=[...u.filter(B=>{const de=B.username||"",ye=B.full_name||"";return`${B.id} ${de} ${ye}`.toLowerCase().includes(b.toLowerCase())})].sort((B,de)=>{if(!R)return 0;let ye=0;if(R==="id")ye=B.id.localeCompare(de.id);else if(R==="user"){const vt=B.username||"",Dt=de.username||"";ye=vt.localeCompare(Dt)}else R==="date"&&(ye=new Date(B.created_at).getTime()-new Date(de.created_at).getTime());return U==="asc"?ye:-ye}),ut=[...f.filter(B=>{const de=B.game_name||"",ye=B.description||"";return`${B.id} ${de} ${ye}`.toLowerCase().includes(S.toLowerCase())})].sort((B,de)=>{if(!M)return 0;let ye=0;return M==="id"?ye=B.id-de.id:M==="name"&&(ye=B.game_name.localeCompare(de.game_name)),P==="asc"?ye:-ye}),Xe=B=>{switch(B){case 1:return"bg-gray-100 text-gray-700";case 2:return"bg-green-100 text-green-700";case 3:return"bg-blue-100 text-blue-700";case 4:return"bg-purple-100 text-purple-700";default:return"bg-gray-100"}};return t||s?a.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col",children:[a.jsx(He,{}),a.jsx("div",{className:"flex-grow flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse p-4 rounded-lg text-gray-300",children:"Loading..."})}),a.jsx(Ge,{})]}):a.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col",children:[a.jsx(He,{}),a.jsxs("div",{className:"flex-grow container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"}),n&&a.jsxs(J,{onClick:()=>i("/admin/api-settings"),className:"flex items-center gap-2 bg-[#1a1a1a] hover:bg-[#2a2a2a] text-gray-300 border border-gray-800",children:[a.jsx(uO,{className:"h-4 w-4"}),"API Settings"]})]}),a.jsxs(hm,{defaultValue:"applications",className:"w-full",children:[a.jsxs(Bu,{className:"mb-4 bg-[#222222]",children:[a.jsx(rn,{value:"applications",className:"data-[state=active]:bg-gaming-primary data-[state=active]:text-white",children:"Gaming Lounge Applications"}),a.jsx(rn,{value:"users",className:"data-[state=active]:bg-gaming-primary data-[state=active]:text-white",children:"Users"}),a.jsx(rn,{value:"games",className:"data-[state=active]:bg-gaming-primary data-[state=active]:text-white",children:"Games"})]}),a.jsx(nn,{value:"applications",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Se,{className:"bg-[#1a1a1a] border-gray-700",children:a.jsxs(Ie,{className:"p-6 text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Total"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:y.total})]})}),a.jsx(Se,{className:"bg-[#272512] border-yellow-900",children:a.jsxs(Ie,{className:"p-6 text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-300",children:"Pending"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-300",children:y.pending})]})}),a.jsx(Se,{className:"bg-[#122716] border-green-900",children:a.jsxs(Ie,{className:"p-6 text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-green-300",children:"Approved"}),a.jsx("p",{className:"text-3xl font-bold text-green-300",children:y.approved})]})}),a.jsx(Se,{className:"bg-[#271212] border-red-900",children:a.jsxs(Ie,{className:"p-6 text-center",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-300",children:"Declined"}),a.jsx("p",{className:"text-3xl font-bold text-red-300",children:y.declined})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(vc,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),a.jsx(we,{placeholder:"Search applications...",className:"pl-8 bg-[#222222] border-gray-700 text-gray-300",value:w,onChange:B=>g(B.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Sort By"}),a.jsxs(J,{variant:"outline",className:"flex items-center gap-1 bg-[#222222] border-gray-700 text-gray-300 hover:bg-[#333333]",onClick:()=>mt(E||"date"),children:[E?E==="id"?"ID":E==="applicant"?"Applicant":E==="lounge"?"Lounge Name":"Date":"Date",a.jsx(jn,{className:"h-4 w-4"})]})]})]}),a.jsx("div",{className:"bg-[#1a1a1a] rounded-lg overflow-hidden border border-gray-800",children:a.jsxs(af,{children:[a.jsx(of,{className:"bg-[#222222]",children:a.jsxs(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:[a.jsx(or,{className:"w-[100px] cursor-pointer text-gray-400",onClick:()=>mt("id"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["ID",E==="id"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"cursor-pointer text-gray-400",onClick:()=>mt("applicant"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Applicant",E==="applicant"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"cursor-pointer text-gray-400",onClick:()=>mt("lounge"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Lounge Name",E==="lounge"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"cursor-pointer text-gray-400",onClick:()=>mt("date"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Date",E==="date"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"text-right text-gray-400",children:"Actions"})]})}),a.jsx(lf,{children:_?a.jsx(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:a.jsx(Rt,{colSpan:5,className:"text-center py-4 text-gray-400",children:"Loading applications..."})}):oe.length===0?a.jsx(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:a.jsx(Rt,{colSpan:5,className:"text-center py-4 text-gray-400",children:"No applications found"})}):oe.map(B=>{var de,ye,vt,Dt,Tt;return a.jsxs(qr,{className:B.status_id===2?"bg-[#122716]/30 hover:bg-[#122716]/50 border-gray-800":B.status_id===3?"bg-[#271212]/30 hover:bg-[#271212]/50 border-gray-800":"hover:bg-[#1d1d1d] border-gray-800",children:[a.jsxs(Rt,{className:"font-medium text-white",children:["#",B.id]}),a.jsx(Rt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ko,{children:(de=B.profiles)!=null&&de.avatar_url?a.jsx(Co,{avatarUrl:B.profiles.avatar_url,alt:((ye=B.profiles)==null?void 0:ye.full_name)||"User"}):a.jsx(Eo,{className:"bg-gray-700 text-gray-300",children:q((vt=B.profiles)==null?void 0:vt.full_name)})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300",children:((Dt=B.profiles)==null?void 0:Dt.full_name)||"Unknown"}),a.jsx("div",{className:"text-xs text-gray-500",children:((Tt=B.profiles)==null?void 0:Tt.username)||"Unknown"})]})]})}),a.jsx(Rt,{className:"text-gray-300",children:B.lounge_name}),a.jsx(Rt,{className:"text-gray-300",children:new Date(B.created_at).toLocaleDateString()}),a.jsx(Rt,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>i(`/lounge-admin-application?view=${B.id}`),className:"hover:bg-[#333333] text-gray-300",children:a.jsx(Mg,{className:"h-4 w-4"})}),B.status_id===1&&a.jsxs(a.Fragment,{children:[a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>ie(B.id,B.user_id),className:"text-green-500 hover:text-green-400 hover:bg-green-900/30",children:a.jsx(X4,{className:"h-4 w-4"})}),a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>Q(B.id),className:"text-red-500 hover:text-red-400 hover:bg-red-900/30",children:a.jsx(eO,{className:"h-4 w-4"})})]})]})})]},B.id)})})]})})]})}),a.jsx(nn,{value:"users",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(vc,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),a.jsx(we,{placeholder:"Search users...",className:"pl-8 bg-[#222222] border-gray-700 text-gray-300",value:b,onChange:B=>j(B.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-400",children:"Sort By"}),a.jsxs(J,{variant:"outline",className:"flex items-center gap-1 bg-[#222222] border-gray-700 text-gray-300 hover:bg-[#333333]",onClick:()=>O(R||"date"),children:[R?R==="id"?"ID":R==="user"?"User":"Registration Date":"Registration Date",a.jsx(jn,{className:"h-4 w-4"})]})]})]}),a.jsx("div",{className:"bg-[#1a1a1a] rounded-lg overflow-hidden border border-gray-800",children:a.jsxs(af,{children:[a.jsx(of,{className:"bg-[#222222]",children:a.jsxs(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:[a.jsx(or,{className:"w-[100px] cursor-pointer text-gray-400",onClick:()=>O("id"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["ID",R==="id"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"cursor-pointer text-gray-400",onClick:()=>O("user"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["User",R==="user"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"text-gray-400",children:"Role"}),a.jsx(or,{className:"cursor-pointer text-gray-400",onClick:()=>O("date"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Registration Date",R==="date"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"text-right text-gray-400",children:"Actions"})]})}),a.jsx(lf,{children:_?a.jsx(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:a.jsx(Rt,{colSpan:5,className:"text-center py-4 text-gray-400",children:"Loading users..."})}):_e.length===0?a.jsx(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:a.jsx(Rt,{colSpan:5,className:"text-center py-4 text-gray-400",children:"No users found"})}):_e.map(B=>{var de;return a.jsxs(qr,{className:B.role_id===4?"bg-[#231239]/50 hover:bg-[#231239]/70 border-gray-800":B.role_id===3?"bg-[#122552]/50 hover:bg-[#122552]/70 border-gray-800":B.role_id===2?"bg-[#122716]/50 hover:bg-[#122716]/70 border-gray-800":"hover:bg-[#1d1d1d] border-gray-800",children:[a.jsxs(Rt,{className:"font-medium text-white",children:["#",B.id.substring(0,6),"..."]}),a.jsx(Rt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ko,{children:B.avatar_url?a.jsx(Co,{avatarUrl:B.avatar_url,alt:B.full_name||"User"}):a.jsx(Eo,{className:"bg-gray-700 text-gray-300",children:q(B.full_name)})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-300",children:B.full_name||"Unknown"}),a.jsx("div",{className:"text-xs text-gray-500",children:B.username||"Unknown"})]})]})}),a.jsx(Rt,{children:a.jsx("div",{className:`px-2 py-1 rounded-full text-xs inline-block font-medium
                              ${Xe(B.role_id)}`,children:((de=B.roles)==null?void 0:de.role_name)||"Unknown"})}),a.jsx(Rt,{className:"text-gray-300",children:new Date(B.created_at).toLocaleDateString()}),a.jsx(Rt,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{i(`/profile/${B.id}`)},className:"hover:bg-[#333333] text-gray-300",children:a.jsx(Mg,{className:"h-4 w-4"})}),n&&a.jsxs(cm,{children:[a.jsx(um,{asChild:!0,children:a.jsx(J,{variant:"ghost",size:"sm",className:"text-blue-400 hover:text-blue-300 hover:bg-blue-900/30",children:a.jsx(Si,{className:"h-4 w-4"})})}),a.jsx($u,{className:"bg-[#222222] border-gray-700",children:v.map(ye=>a.jsx(Zs,{onClick:()=>Re(B.id,ye.id),className:B.role_id===ye.id?"bg-gray-800 font-bold text-white":"text-gray-300 hover:bg-[#333333]",children:ye.role_name},ye.id))})]}),n&&B.role_id!==4&&a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>je(B.id),className:"text-red-500 hover:text-red-400 hover:bg-red-900/30",children:a.jsx(el,{className:"h-4 w-4"})})]})})]},B.id)})})]})})]})}),a.jsx(nn,{value:"games",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"relative w-full sm:w-64",children:[a.jsx(vc,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),a.jsx(we,{placeholder:"Search games...",className:"pl-8 bg-[#222222] border-gray-700 text-gray-300",value:S,onChange:B=>N(B.target.value)})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(J,{onClick:()=>{Z(null),le(!0)},className:"flex items-center gap-1 bg-gaming-primary hover:bg-gaming-primary/90",children:[a.jsx(Fv,{className:"h-4 w-4"}),"Add Game"]})})]}),a.jsx("div",{className:"bg-[#1a1a1a] rounded-lg overflow-hidden border border-gray-800",children:a.jsxs(af,{children:[a.jsx(of,{className:"bg-[#222222]",children:a.jsxs(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:[a.jsx(or,{className:"w-[80px] cursor-pointer text-gray-400",onClick:()=>$("id"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["ID",M==="id"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"cursor-pointer text-gray-400",onClick:()=>$("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Game",M==="name"&&a.jsx(jn,{className:"h-4 w-4"})]})}),a.jsx(or,{className:"text-gray-400",children:"Description"}),a.jsx(or,{className:"text-gray-400",children:"Icon"}),a.jsx(or,{className:"text-right text-gray-400",children:"Actions"})]})}),a.jsx(lf,{children:_?a.jsx(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:a.jsx(Rt,{colSpan:5,className:"text-center py-4 text-gray-400",children:"Loading games..."})}):ut.length===0?a.jsx(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:a.jsx(Rt,{colSpan:5,className:"text-center py-4 text-gray-400",children:"No games found"})}):ut.map(B=>a.jsxs(qr,{className:"hover:bg-[#1d1d1d] border-gray-800",children:[a.jsxs(Rt,{className:"font-medium text-white",children:["#",B.id]}),a.jsx(Rt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[B.icon?a.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-[#333333] rounded-md",children:a.jsx("img",{src:B.icon,alt:B.game_name,className:"w-6 h-6"})}):a.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-[#333333] rounded-md",children:a.jsx(iO,{className:"h-4 w-4 text-gray-400"})}),a.jsx("div",{className:"font-medium text-gray-300",children:B.game_name})]})}),a.jsx(Rt,{children:a.jsx("div",{className:"max-w-xs truncate text-gray-300",children:B.description||""})}),a.jsx(Rt,{children:B.icon?a.jsx("div",{className:"max-w-xs truncate text-xs text-gray-500",children:B.icon}):a.jsx("span",{className:"text-gray-500",children:""})}),a.jsx(Rt,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{Z(B),le(!0)},className:"text-blue-400 hover:text-blue-300 hover:bg-blue-900/30",children:a.jsx(CN,{className:"h-4 w-4"})}),a.jsx(J,{variant:"ghost",size:"sm",onClick:()=>Je(B.id),className:"text-red-500 hover:text-red-400 hover:bg-red-900/30",children:a.jsx(el,{className:"h-4 w-4"})})]})})]},B.id))})]})})]})})]})]}),a.jsx(mm,{open:fe,onOpenChange:le,children:a.jsxs(zu,{className:"sm:max-w-[550px] bg-[#1a1a1a] border-gray-700 text-white",children:[a.jsxs(Vu,{children:[a.jsx(Wu,{children:V?"Edit Game":"Add New Game"}),a.jsx(qu,{className:"text-gray-400",children:V?"Update game information in the system.":"Add a new game to the platform."})]}),a.jsx(Zu,{...ke,children:a.jsxs("form",{onSubmit:ke.handleSubmit(Ze),className:"space-y-4",children:[a.jsx(it,{control:ke.control,name:"game_name",render:({field:B})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Game Name"}),a.jsx(ct,{children:a.jsx(we,{...B,className:"bg-[#222222] border-gray-700 text-gray-300"})}),a.jsx(nt,{})]})}),a.jsx(it,{control:ke.control,name:"description",render:({field:B})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Description"}),a.jsx(ct,{children:a.jsx(Aa,{...B,className:"bg-[#222222] border-gray-700 text-gray-300"})}),a.jsx(nt,{})]})}),a.jsx(it,{control:ke.control,name:"icon",render:({field:B})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Icon URL"}),a.jsx(ct,{children:a.jsx(we,{...B,placeholder:"https://example.com/icon.png",className:"bg-[#222222] border-gray-700 text-gray-300"})}),a.jsx(nt,{})]})}),a.jsxs(pm,{children:[a.jsx(J,{type:"button",variant:"outline",onClick:()=>{le(!1),Z(null)},className:"bg-[#222222] border-gray-700 text-gray-300 hover:bg-[#333333]",children:"Cancel"}),a.jsx(J,{type:"submit",className:"bg-gaming-primary hover:bg-gaming-primary/90",children:V?"Update":"Create"})]})]})})]})}),a.jsx(Ge,{})]})},FV=Ot.object({lounge_name:Ot.string().min(2,"Lounge name must be at least 2 characters"),capacity:Ot.number().min(1,"Capacity must be at least 1").optional(),active:Ot.boolean(),description:Ot.string().optional(),image_alt:Ot.string().optional(),cover_image:Ot.string().optional()}),$V=({loungeData:e,setLoungeData:t})=>{const{toast:r}=Wn(),[n,s]=m.useState(!1),[o,i]=m.useState(null);m.useState(e!=null&&e.cover_image?hx(e.cover_image):null);const l=Yu({resolver:Qu(FV),defaultValues:{lounge_name:(e==null?void 0:e.lounge_name)||"",capacity:(e==null?void 0:e.capacity)||void 0,active:(e==null?void 0:e.active)||!1,description:(e==null?void 0:e.description)||"",image_alt:"",cover_image:(e==null?void 0:e.cover_image)||""}}),c=d=>{i(d),d?l.setValue("cover_image",d.name):l.setValue("cover_image","")},u=async d=>{try{s(!0);let f=e==null?void 0:e.cover_image;if(o){const v=o.name.split(".").pop(),p=`lounge-${e.id}-${Date.now()}.${v}`,{error:y}=await z.storage.from("lounges").upload(p,o);if(y)throw console.error("Error uploading image:",y),y;f=p}const{error:h}=await z.from("lounges").update({lounge_name:d.lounge_name,capacity:d.capacity,active:d.active,description:d.description,cover_image:f,updated_at:new Date().toISOString()}).eq("id",e.id);if(h)throw h;t({...e,lounge_name:d.lounge_name,capacity:d.capacity,active:d.active,description:d.description,cover_image:f}),r({title:"Lounge Updated",description:"Lounge information has been successfully updated."})}catch(f){console.error("Error updating lounge:",f),r({title:"Update Failed",description:"Failed to update lounge information. Please try again.",variant:"destructive"})}finally{s(!1)}};return a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"bg-[#222222] border border-gray-800 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Basic Information"}),a.jsx(Zu,{...l,children:a.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(it,{control:l.control,name:"lounge_name",render:({field:d})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Lounge Name"}),a.jsx(ct,{children:a.jsx(we,{...d,placeholder:"Enter lounge name",className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx(nt,{className:"text-red-400"})]})}),a.jsx(it,{control:l.control,name:"capacity",render:({field:d})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Capacity"}),a.jsx(ct,{children:a.jsx(we,{type:"number",...d,onChange:f=>d.onChange(f.target.value?parseInt(f.target.value):void 0),value:d.value||"",placeholder:"Enter capacity",className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx(nt,{className:"text-red-400"})]})})]}),a.jsx(it,{control:l.control,name:"active",render:({field:d})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Status"}),a.jsxs(ol,{onValueChange:f=>d.onChange(f==="active"),defaultValue:d.value?"active":"inactive",children:[a.jsx(ct,{children:a.jsx(Ao,{className:"bg-[#333333] border-gray-700 text-gray-200",children:a.jsx(il,{placeholder:"Select status"})})}),a.jsxs(Oo,{className:"bg-[#222222] border-gray-700 text-gray-200",children:[a.jsx(Zr,{value:"active",children:"Active"}),a.jsx(Zr,{value:"inactive",children:"Inactive"})]})]}),a.jsx(nt,{className:"text-red-400"})]})}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-300",children:"Cover Image"}),a.jsx(it,{control:l.control,name:"cover_image",render:({field:d})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Lounge Cover Image"}),a.jsx(ct,{children:a.jsx(QP,{value:d.value,onChange:c,onValueChange:d.onChange,bucketName:"lounges"})}),a.jsx(nt,{})]})})]}),a.jsx(it,{control:l.control,name:"description",render:({field:d})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Description"}),a.jsx(ct,{children:a.jsx(Aa,{...d,placeholder:"Enter lounge description",className:"min-h-[150px] bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx(nt,{className:"text-red-400"})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx(J,{type:"submit",className:"bg-gaming-primary hover:bg-gaming-primary/90 text-white",disabled:n,children:n?"Saving...":"Save Changes"})})]})})]})})},UV=Ot.object({plan_name:Ot.string().min(2,"Plan name must be at least 2 characters"),price:Ot.number().min(0,"Price must be a positive number"),description:Ot.string().optional()}),BV=({loungeData:e,setLoungeData:t})=>{const{toast:r}=Wn(),[n,s]=m.useState(!1),[o,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState((e==null?void 0:e.lounge_pricing_plans)||[]),f=Yu({resolver:Qu(UV),defaultValues:{plan_name:"",price:0,description:""}}),h=()=>{f.reset({plan_name:"",price:0,description:""}),i(!1),c(null)},v=x=>{f.reset({plan_name:x.plan_name,price:x.price,description:x.description||""}),c(x.id),i(!0)},p=async x=>{try{s(!0);const{error:w}=await z.from("lounge_pricing_plans").delete().eq("id",x);if(w)throw w;const g=u.filter(b=>b.id!==x);d(g),t({...e,lounge_pricing_plans:g}),r({title:"Plan Deleted",description:"Pricing plan has been successfully deleted."})}catch(w){console.error("Error deleting plan:",w),r({title:"Delete Failed",description:"Failed to delete pricing plan. Please try again.",variant:"destructive"})}finally{s(!1)}},y=async x=>{try{if(s(!0),l){const{error:w}=await z.from("lounge_pricing_plans").update({plan_name:x.plan_name,price:x.price,description:x.description}).eq("id",l);if(w)throw w;const g=u.map(b=>b.id===l?{...b,plan_name:x.plan_name,price:x.price,description:x.description}:b);d(g),t({...e,lounge_pricing_plans:g}),r({title:"Plan Updated",description:"Pricing plan has been successfully updated."})}else{const{data:w,error:g}=await z.from("lounge_pricing_plans").insert({lounge_id:e.id,plan_name:x.plan_name,price:x.price,description:x.description}).select();if(g)throw g;const b=w[0],j=[...u,b];d(j),t({...e,lounge_pricing_plans:j}),r({title:"Plan Added",description:"New pricing plan has been successfully added."})}h()}catch(w){console.error("Error saving plan:",w),r({title:"Save Failed",description:"Failed to save pricing plan. Please try again.",variant:"destructive"})}finally{s(!1)}};return a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"bg-[#222222] border border-gray-800 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Pricing Plans"}),a.jsx("div",{className:"space-y-4 mb-6",children:u.length>0?u.map(x=>a.jsx(Se,{className:"shadow-sm",children:a.jsxs(Ie,{className:"p-4 flex justify-between items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-gray-200",children:x.plan_name}),a.jsxs("p",{className:"font-bold text-gaming-primary",children:["$",Number(x.price).toFixed(2)]})]}),x.description&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:x.description})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx(J,{variant:"outline",size:"icon",onClick:()=>v(x),disabled:n,className:"border-gray-700 bg-[#333333] hover:bg-[#444444] text-gray-300",children:a.jsx(CN,{className:"h-4 w-4"})}),a.jsx(J,{variant:"outline",size:"icon",className:"text-red-500 hover:text-red-400 bg-[#331515] hover:bg-[#442222] border-red-900/50",onClick:()=>p(x.id),disabled:n,children:a.jsx(el,{className:"h-4 w-4"})})]})]})},x.id)):a.jsx("div",{className:"text-center py-6 bg-[#1a1a1a] rounded-md border border-gray-800",children:a.jsx("p",{className:"text-gray-400",children:"No pricing plans yet. Add your first plan below."})})}),a.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 border border-gray-800",children:[a.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-300",children:l?"Edit Pricing Plan":"Add New Plan"}),a.jsx(Zu,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(y),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(it,{control:f.control,name:"plan_name",render:({field:x})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Plan Name"}),a.jsx(ct,{children:a.jsx(we,{...x,placeholder:"e.g., Standard (1 Hour)",className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx(nt,{className:"text-red-400"})]})}),a.jsx(it,{control:f.control,name:"price",render:({field:x})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Price"}),a.jsx(ct,{children:a.jsx(we,{type:"number",step:"0.01",...x,onChange:w=>x.onChange(parseFloat(w.target.value)),value:x.value,placeholder:"0.00",className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx(nt,{className:"text-red-400"})]})})]}),a.jsx(it,{control:f.control,name:"description",render:({field:x})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Brief Description"}),a.jsx(ct,{children:a.jsx(we,{...x,placeholder:"e.g., Basic gaming setup",className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx(nt,{className:"text-red-400"})]})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[(o||l)&&a.jsx(J,{type:"button",variant:"outline",onClick:h,disabled:n,className:"bg-[#333333] border-gray-700 text-gray-200 hover:bg-[#444444]",children:"Cancel"}),a.jsx(J,{type:"submit",className:"bg-gaming-primary hover:bg-gaming-primary/90 text-white",disabled:n,children:n?"Saving...":l?"Update Plan":a.jsxs(a.Fragment,{children:[a.jsx(Fv,{className:"h-4 w-4 mr-1"}),"Add New Pricing Plan"]})})]})]})})]})]})})};var p0="Switch",[zV,lq]=fr(p0),[VV,WV]=zV(p0),JP=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,v]=m.useState(null),p=Fe(t,b=>v(b)),y=m.useRef(!1),x=h?d||!!h.closest("form"):!0,[w=!1,g]=zr({prop:s,defaultProp:o,onChange:u});return a.jsxs(VV,{scope:r,checked:w,disabled:l,children:[a.jsx(xe.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":eT(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:ae(e.onClick,b=>{g(j=>!j),x&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),x&&a.jsx(qV,{control:h,bubbles:!y.current,name:n,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});JP.displayName=p0;var ZP="SwitchThumb",XP=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=WV(ZP,r);return a.jsx(xe.span,{"data-state":eT(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});XP.displayName=ZP;var qV=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=m.useRef(null),i=gm(r),l=Vh(t);return m.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eT(e){return e?"checked":"unchecked"}var tT=JP,HV=XP;const rT=m.forwardRef(({className:e,...t},r)=>a.jsx(tT,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(HV,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rT.displayName=tT.displayName;const GV=Ot.object({address:Ot.string().min(3,"Address must be at least 3 characters"),phone_number:Ot.string().optional(),email:Ot.string().email("Invalid email format").optional().or(Ot.literal("")),opening_hours:Ot.array(Ot.object({day:Ot.string(),opening_hour:Ot.string(),closing_hour:Ot.string(),isOpen:Ot.boolean()}))}),j_=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],KV=({loungeData:e,setLoungeData:t})=>{const{toast:r}=Wn(),[n,s]=m.useState(!1),[o,i]=m.useState([]),l=()=>{const f=(e==null?void 0:e.lounge_opening_hours)||[];return j_.map(h=>{var p,y;const v=f.find(x=>x.day===h);return v?{day:h,opening_hour:((p=v.opening_hour)==null?void 0:p.slice(0,5))||"09:00",closing_hour:((y=v.closing_hour)==null?void 0:y.slice(0,5))||"18:00",isOpen:!0}:{day:h,opening_hour:"09:00",closing_hour:"18:00",isOpen:!1}})},c=Yu({resolver:Qu(GV),defaultValues:{address:(e==null?void 0:e.address)||"",phone_number:(e==null?void 0:e.phone_number)||"",email:(e==null?void 0:e.email)||"",opening_hours:l()}});m.useEffect(()=>{if(e){const f=l();i(f.map(h=>h.isOpen))}},[e]),m.useEffect(()=>{if(e){const f=l();c.reset({address:e.address||"",phone_number:e.phone_number||"",email:e.email||"",opening_hours:f}),i(f.map(h=>h.isOpen))}},[e]);const u=async f=>{try{s(!0);const{error:h}=await z.from("lounges").update({address:f.address,phone_number:f.phone_number,email:f.email,updated_at:new Date().toISOString()}).eq("id",e.id);if(h)throw h;await z.from("lounge_opening_hours").delete().eq("lounge_id",e.id);const v=f.opening_hours.filter(p=>p.isOpen);if(v.length>0){const{error:p}=await z.from("lounge_opening_hours").insert(v.map(y=>({lounge_id:e.id,day:y.day,opening_hour:y.opening_hour,closing_hour:y.closing_hour})));if(p)throw p}t({...e,address:f.address,phone_number:f.phone_number,email:f.email,lounge_opening_hours:v.map(p=>({lounge_id:e.id,day:p.day,opening_hour:p.opening_hour,closing_hour:p.closing_hour}))}),r({title:"Location Updated",description:"Lounge location and hours have been successfully updated."})}catch(h){console.error("Error updating location:",h),r({title:"Update Failed",description:"Failed to update location information. Please try again.",variant:"destructive"})}finally{s(!1)}},d=(f,h)=>{const v=[...c.getValues("opening_hours")];v[f].isOpen=h,c.setValue("opening_hours",v);const p=[...o];p[f]=h,i(p)};return a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"bg-[#222222] border border-gray-800 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Location & Hours"}),a.jsxs("div",{className:"bg-[#1a1a1a] rounded-md p-4 mb-6 flex flex-col items-center justify-center min-h-[200px] border border-gray-800",children:[a.jsx(kN,{className:"h-10 w-10 mb-2 text-gray-400"}),a.jsx("p",{className:"text-gray-400",children:"Map preview will be added in a future update"})]}),a.jsx(Zu,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-6",children:[a.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 border border-gray-800",children:[a.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-300",children:"Edit Location and Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(it,{control:c.control,name:"address",render:({field:f})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Location"}),a.jsx(ct,{children:a.jsx(we,{...f,placeholder:"Full address",className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx(nt,{className:"text-red-400"})]})}),a.jsx(it,{control:c.control,name:"phone_number",render:({field:f})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Phone Number"}),a.jsx(ct,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Lv,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx(we,{...f,className:"pl-10 bg-[#333333] border-gray-700 text-gray-200",placeholder:"+1 (555) 123-4567"})]})}),a.jsx(nt,{className:"text-red-400"})]})}),a.jsx(it,{control:c.control,name:"email",render:({field:f})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-gray-300",children:"Email"}),a.jsx(ct,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Dv,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx(we,{...f,className:"pl-10 bg-[#333333] border-gray-700 text-gray-200",placeholder:"contact@example.com"})]})}),a.jsx(nt,{className:"text-red-400"})]})})]})]}),a.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 border border-gray-800",children:[a.jsx("h3",{className:"text-lg font-medium mb-4 text-gray-300",children:"Edit Hours"}),a.jsx("div",{className:"space-y-4",children:j_.map((f,h)=>a.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(ze,{className:"text-gray-300",children:f})}),a.jsx("div",{className:"col-span-4 sm:col-span-3",children:a.jsx(we,{type:"time",value:c.watch(`opening_hours.${h}.opening_hour`),onChange:v=>{const p=[...c.getValues("opening_hours")];p[h].opening_hour=v.target.value,c.setValue("opening_hours",p)},className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx("div",{className:"col-span-1 text-center text-gray-400",children:a.jsx("span",{children:"to"})}),a.jsx("div",{className:"col-span-4 sm:col-span-3",children:a.jsx(we,{type:"time",value:c.watch(`opening_hours.${h}.closing_hour`),onChange:v=>{const p=[...c.getValues("opening_hours")];p[h].closing_hour=v.target.value,c.setValue("opening_hours",p)},className:"bg-[#333333] border-gray-700 text-gray-200"})}),a.jsx("div",{className:"col-span-1 sm:col-span-3 flex justify-end sm:justify-center",children:a.jsx(rT,{checked:o[h],onCheckedChange:v=>d(h,v),className:"transition-all duration-200 data-[state=checked]:bg-gaming-primary"})})]},f))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(J,{type:"submit",className:"bg-gaming-primary hover:bg-gaming-primary/90 text-white",disabled:n,children:n?"Saving...":"Save Changes"})})]})})]})})},YV=({currentSection:e})=>{const t=nr(),{toast:r}=Wn(),[n,s]=m.useState(!1),o=async()=>{try{s(!0);const{error:i}=await z.from("lounge_pricing_plans").delete().eq("lounge_id",(await z.from("lounges").select("id").single()).data.id);if(i)throw i;const{error:l}=await z.from("lounge_opening_hours").delete().eq("lounge_id",(await z.from("lounges").select("id").single()).data.id);if(l)throw l;const{error:c}=await z.from("lounges").delete().eq("id",(await z.from("lounges").select("id").single()).data.id);if(c)throw c;r({title:"Lounge Deleted",description:"Your lounge has been permanently deleted."}),t("/gaming-lounges")}catch(i){console.error("Error deleting lounge:",i),r({title:"Error",description:"Failed to delete lounge. Please try again later.",variant:"destructive"})}finally{s(!1)}};return a.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 border border-gray-800 shadow-lg",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gaming-primary",children:"Navigation"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(J,{variant:e==="info"?"default":"ghost",className:`w-full justify-start ${e==="info"?"bg-gaming-primary/20 text-gaming-primary":"text-gray-300"}`,onClick:()=>t("/lounge/manage/info"),children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),"Basic Info"]}),a.jsxs(J,{variant:e==="pricing"?"default":"ghost",className:`w-full justify-start ${e==="pricing"?"bg-gaming-primary/20 text-gaming-primary":"text-gray-300"}`,onClick:()=>t("/lounge/manage/pricing"),children:[a.jsx(rO,{className:"h-4 w-4 mr-2"}),"Pricing"]}),a.jsxs(J,{variant:e==="location"?"default":"ghost",className:`w-full justify-start ${e==="location"?"bg-gaming-primary/20 text-gaming-primary":"text-gray-300"}`,onClick:()=>t("/lounge/manage/location"),children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Location & Hours"]})]}),a.jsxs("div",{className:"mt-8 bg-red-900/20 rounded-lg p-4 border border-red-900/30",children:[a.jsxs("h3",{className:"text-red-400 font-medium flex items-center mb-2",children:[a.jsx($v,{className:"h-4 w-4 mr-2"}),"Danger Zone"]}),a.jsxs(ky,{children:[a.jsx(Cy,{asChild:!0,children:a.jsxs(J,{variant:"destructive",className:"w-full mt-2 bg-red-900/50 hover:bg-red-900/80 border border-red-700/50",children:[a.jsx(el,{className:"h-4 w-4 mr-2"}),"Delete Lounge"]})}),a.jsxs(Qf,{className:"bg-[#1a1a1a] border-gray-800 text-gray-100",children:[a.jsxs(Jf,{children:[a.jsx(Xf,{children:"Are you absolutely sure?"}),a.jsx(eh,{className:"text-gray-400",children:"This action cannot be undone. This will permanently delete your lounge and all associated data including pricing plans and hours."})]}),a.jsxs(Zf,{children:[a.jsx(rh,{className:"bg-gray-800 text-gray-200 hover:bg-gray-700",children:"Cancel"}),a.jsx(th,{onClick:o,disabled:n,className:"bg-red-900/60 hover:bg-red-900 text-white",children:n?"Deleting...":"Delete Lounge"})]})]})]})]})]})},N_=()=>{const{section:e="info"}=Nl(),{user:t,loading:r}=jt(),{isLoungeAdmin:n,loading:s}=Sr(),[o,i]=m.useState(null),[l,c]=m.useState(!0),u=nr(),{toast:d}=Wn();m.useEffect(()=>{if(!r&&!t){console.log("User not authenticated, redirecting to login"),u("/login");return}},[t,r,u]),m.useEffect(()=>{if(r||!t)return;(async()=>{try{console.log("Fetching lounge data for user:",t.id);const{data:v,error:p}=await z.from("lounges").select(`
            *,
            lounge_pricing_plans(*),
            lounge_opening_hours(*)
          `).eq("user_id",t.id).single();if(p){console.error("Error fetching lounge data:",p),p.code==="PGRST116"?(console.log("No lounge found for user"),d({title:"No Lounge Found",description:"You don't have any lounge to manage.",variant:"destructive"}),u("/")):d({title:"Error",description:"Could not load lounge information. Please try again later.",variant:"destructive"});return}v?(console.log("Lounge data found:",v),i(v)):(console.log("No lounge found for user (data is null)"),d({title:"No Lounge Found",description:"You don't have any lounge to manage.",variant:"destructive"}),u("/"))}catch(v){console.error("Unexpected error:",v),d({title:"Error",description:"An unexpected error occurred.",variant:"destructive"})}finally{c(!1)}})()},[t,r,u,d]),m.useEffect(()=>{r||s||(console.log("Role check: isLoungeAdmin =",n),n||(console.log("User is not a lounge admin, redirecting"),d({title:"Access Denied",description:"You don't have permission to access this page.",variant:"destructive"}),u("/")))},[n,r,s,u,d]);const f=()=>{if(l||!o)return a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-gaming-primary border-opacity-50 rounded-full border-t-transparent"})});switch(e){case"pricing":return a.jsx(BV,{loungeData:o,setLoungeData:i});case"location":return a.jsx(KV,{loungeData:o,setLoungeData:i});case"info":default:return a.jsx($V,{loungeData:o,setLoungeData:i})}};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-[#121212] to-[#1a1a20]",children:[a.jsx(He,{}),a.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8 mb-10",children:[a.jsxs("div",{className:"flex items-center mb-6 cursor-pointer group",onClick:()=>u("/gaming-lounges"),children:[a.jsx(Cu,{className:"h-5 w-5 mr-2 text-gaming-primary group-hover:translate-x-[-5px] transition-transform"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-100",children:"Edit Lounge"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(YV,{currentSection:e}),a.jsx("div",{className:"md:col-span-3 bg-[#1a1a1a] rounded-lg border border-gray-800 p-6 shadow-lg",children:f()})]})]}),a.jsx(Ge,{})]})},QV=()=>{const e=za();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var JV="Separator",S_="horizontal",ZV=["horizontal","vertical"],nT=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=S_,...s}=e,o=XV(n)?n:S_,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(xe.div,{"data-orientation":o,...l,...s,ref:t})});nT.displayName=JV;function XV(e){return ZV.includes(e)}var sT=nT;const ns=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(sT,{ref:s,decorative:r,orientation:t,className:ee("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ns.displayName=sT.displayName;const eW=Dh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tW({className:e,variant:t,...r}){return a.jsx("div",{className:ee(eW({variant:t}),e),...r})}const rW=({teams:e,results:t,tournamentId:r,bracketId:n,isOwner:s=!1})=>{const o=m.useRef(null),[i,l]=m.useState(!1),[c,u]=m.useState(null),[d,f]=m.useState(0),h=5,{user:v}=jt(),p=()=>!e||!Array.isArray(e)||e.length===0?(console.error("[JQueryBracket] Invalid teams data:",e),u("Invalid bracket data: teams are missing or invalid"),!1):(console.log("[JQueryBracket] Teams for validation:",JSON.stringify(e)),console.log("[JQueryBracket] Results for validation:",JSON.stringify(t)),!0),y=async()=>{console.log("[JQueryBracket] Preparing valid results structure with input:",JSON.stringify(t));let S=[];if(n&&r){console.log(`[JQueryBracket] Attempting to fetch match scores from database for bracket ${n}`);const{data:I,error:F}=await z.from("tournament_matches").select(`
          id, round_number, match_number, team1_score, team2_score, winner_id,
          team1:teams!team1_id(team_name),
          team2:teams!team2_id(team_name)
        `).eq("bracket_id",n).eq("tournament_id",r).order("round_number",{ascending:!0}).order("match_number",{ascending:!0});F?console.error("[JQueryBracket] Error fetching match scores from DB:",F):I&&I.length>0?(console.log(`[JQueryBracket] Retrieved ${I.length} match scores from database:`,JSON.stringify(I)),S=I,S.sort((R,A)=>R.round_number!==A.round_number?R.round_number-A.round_number:R.match_number-A.match_number),console.log("[JQueryBracket] Sorted matches:",JSON.stringify(S))):console.log("[JQueryBracket] No match scores found in database")}const N=e.length,_=S.length>0?Math.max(...S.map(I=>I.round_number)):0,C=Math.ceil(Math.log2(Math.max(N,2))),E=Math.max(_,C);console.log(`[JQueryBracket] Team count: ${N}, DB Max Round: ${_}, Calculated Rounds: ${C}, Final Rounds: ${E}`);const T=[[]];if(S.length>0){console.log(`[JQueryBracket] Building results from ${S.length} database matches for ${E} rounds`);for(let I=0;I<E;I++){const F=I+1;T[0][I]=[];const R=S.filter(A=>A.round_number===F);console.log(`[JQueryBracket] Round ${F} has ${R.length} matches in DB`),R.forEach((A,U)=>{T[0][I]||(T[0][I]=[]);const L=[A.team1_score??null,A.team2_score??null];T[0][I].push(L),console.log(`[JQueryBracket] Added score from DB for R${F}M${A.match_number}:`,L)})}}else if(t&&Array.isArray(t)){console.log("[JQueryBracket] No DB matches, extracting from provided results:",JSON.stringify(t));let I=t;Array.isArray(t[0])&&Array.isArray(t[0][0])&&Array.isArray(t[0][0][0])&&(I=t[0],console.log("[JQueryBracket] Flattened one level of nesting"));for(let R=0;R<I.length;R++)Array.isArray(I[R])&&(T[0][R]=[...I[R]],console.log(`[JQueryBracket] Copied scores for round ${R+1} from existing results`));const F=T[0].length;if(F<E){console.log(`[JQueryBracket] Adding ${E-F} missing rounds to results structure`);for(let R=F;R<E;R++){T[0][R]=[];const A=Math.pow(2,E-R-1);for(let U=0;U<A;U++)T[0][R][U]=[null,null];console.log(`[JQueryBracket] Added empty round ${R+1} with ${T[0][R].length} matches`)}}}else{console.log("[JQueryBracket] No existing results or DB matches, creating new structure for",E,"rounds");for(let I=0;I<E;I++){T[0][I]=[];const F=Math.pow(2,E-I-1);console.log(`[JQueryBracket] Round ${I+1} needs ${F} matches`);for(let R=0;R<F;R++)T[0][I][R]=[null,null],console.log(`[JQueryBracket] Initialized empty score for R${I+1}M${R+1}`)}}return console.log("[JQueryBracket] Final processed results:",JSON.stringify(T)),T},x=async(S,N,_,C)=>{if(console.log("[JQueryBracket] Debug match save:",{tournamentId:r,bracketId:n,user:v}),console.log("[JQueryBracket] Match details:",{round:S,match:N}),console.log("[JQueryBracket] Raw score inputs:",{team1Score:_,team2Score:C}),!s){console.log("[JQueryBracket] Non-owner tried to save scores"),Y.info("Your changes are only visible to you. Log in as an admin to save changes.");return}if(!r||!n||!v){console.error("[JQueryBracket] Missing required information when saving match result"),Y.error("Missing required information to save match results");return}let E=null,T=null;if(console.log(`[JQueryBracket] Original scores: ${_} - ${C}`),typeof _=="string"&&_.includes(",")){const I=_.split(",");if(console.log("[JQueryBracket] Special format detected, parts:",I),I.length>=2&&(E=parseInt(I[0]),isNaN(E)&&(E=null),I[1]&&I[1].trim()!=="")){const F=I[1].replace(/[^0-9]/g,"").trim();F!==""&&(T=parseInt(F),isNaN(T)&&(T=null),console.log(`[JQueryBracket] Extracted second score from team1Score: ${T}`))}}if(E===null&&_!==null)if(Array.isArray(_)){const I=_[0];E=typeof I=="number"&&!isNaN(I)?I:null}else typeof _=="string"&&!_.includes(",")?(E=parseInt(_),isNaN(E)&&(E=null)):typeof _=="number"&&(E=isNaN(_)?null:_);if(T===null&&C!==null)if(Array.isArray(C)){const I=C[0];T=typeof I=="number"&&!isNaN(I)?I:null}else if(typeof C=="string"){const I=C.replace(/[^0-9]/g,"").trim();I!==""&&(T=parseInt(I),isNaN(T)&&(T=null))}else typeof C=="number"&&(T=isNaN(C)?null:C);if(console.log(`[JQueryBracket] Saving match result for tournament ${r}, bracket ${n}`),console.log(`[JQueryBracket] Round ${S+1}, match ${N+1}, scores: ${_}-${C}`),console.log(`[JQueryBracket] Parsed scores: ${E}-${T}`),E===null&&T===null){console.warn("[JQueryBracket] Both scores are null after parsing, skipping save"),Y.warning("Failed to parse valid scores");return}try{const{data:I,error:F}=await z.from("tournament_matches").select("id, team1_id, team2_id").eq("tournament_id",r).eq("bracket_id",n).eq("round_number",S+1).eq("match_number",N+1).maybeSingle();let R=I;if(F||!R){console.log("[JQueryBracket] Match not found, creating a new one for round",S+1,"match",N+1);let V=null,Z=null;if(S>0){const ke=S-1,ge=N*2,H=N*2+1,{data:G}=await z.from("tournament_matches").select("winner_id").eq("tournament_id",r).eq("bracket_id",n).eq("round_number",ke+1).eq("match_number",ge+1).maybeSingle(),{data:X}=await z.from("tournament_matches").select("winner_id").eq("tournament_id",r).eq("bracket_id",n).eq("round_number",ke+1).eq("match_number",H+1).maybeSingle();G!=null&&G.winner_id&&(V=G.winner_id),X!=null&&X.winner_id&&(Z=X.winner_id)}const{data:fe,error:le}=await z.from("tournament_matches").insert({tournament_id:r,bracket_id:n,round_number:S+1,match_number:N+1,team1_id:V,team2_id:Z,status:"scheduled"}).select("id, team1_id, team2_id").single();if(le){console.error("Error creating match:",le),Y.error("Failed to create match data");return}R=fe}let A=null;E!==null&&T!==null&&(E>T?A=R.team1_id:T>E&&(A=R.team2_id));const{error:U}=await z.from("tournament_matches").update({team1_score:E,team2_score:T,winner_id:A,status:E!==null&&T!==null?"completed":"scheduled",updated_at:new Date().toISOString()}).eq("id",R.id);if(U){console.error("Error updating match scores:",U),Y.error("Failed to update match scores");return}const{data:L,error:M}=await z.from("tournament_brackets").select("bracket_data").eq("id",n).single();if(M){console.error("Error fetching bracket data:",M),Y.error("Failed to fetch current bracket data");return}const k=JSON.parse(JSON.stringify(L.bracket_data));k.results||(k.results=[[]]);let P=k.results;for(;Array.isArray(P)&&Array.isArray(P[0])&&Array.isArray(P[0][0])&&Array.isArray(P[0][0][0]);)P=P[0];for(Array.isArray(P[0])||(P=[P]),Array.isArray(P[0][0])||(P=[P]);P.length<=S;)P.push([]);for(;P[S].length<=N;)P[S].push([null,null]);P[S][N]=[E,T],k.results=P,console.log("Updated bracket data:",JSON.stringify(k));const{error:W}=await z.from("tournament_brackets").update({bracket_data:k,updated_at:new Date().toISOString()}).eq("id",n);if(W){console.error("Error updating bracket data:",W),Y.error("Failed to update tournament bracket");return}console.log("Bracket data updated successfully"),await w(S,N,A),S===P.length-1&&N===0&&E!==null&&T!==null?Y.success("Tournament final scores recorded!"):Y.success("Match scores saved successfully")}catch(I){console.error("Error saving match result:",I),Y.error("Failed to save match result")}},w=async(S,N,_)=>{var C;if(!(!r||!n||!_))try{const E=S+1,T=Math.floor(N/2);if(E>=(((C=t[0])==null?void 0:C.length)||0))return;const I=N%2===0,{data:F,error:R}=await z.from("tournament_matches").select("id").eq("tournament_id",r).eq("bracket_id",n).eq("round_number",E+1).eq("match_number",T+1).single();if(R){const{error:A}=await z.from("tournament_matches").insert({tournament_id:r,bracket_id:n,round_number:E+1,match_number:T+1,[I?"team1_id":"team2_id"]:_,status:"scheduled"});A&&console.error("Error creating next match:",A)}else{const{error:A}=await z.from("tournament_matches").update({[I?"team1_id":"team2_id"]:_,updated_at:new Date().toISOString()}).eq("id",F.id);A&&console.error("Error updating next match:",A)}}catch(E){console.error("Error updating next matches:",E)}},g=()=>typeof window>"u"||typeof window.jQuery>"u"?(u("jQuery is not loaded properly"),!1):typeof window.jQuery.fn.bracket!="function"?(u("jQuery Bracket plugin is not loaded properly"),!1):!0,b=()=>{const S="jquery-bracket-dark-theme";let N=document.getElementById(S);N?N.textContent="":(N=document.createElement("style"),N.id=S,document.head.appendChild(N));const _=`
      .jQBracket .bracket {
        background-color: transparent !important;
        color: #FFFFFF !important;
      }

      .jQBracket .team {
        background-color: #1a1a1a !important;
        border-radius: 3px !important;
        color: #FFFFFF !important;
        border-color: #444 !important;
      }

      .jQBracket .team.win {
        background-color: #1F2937 !important;
        color: #9b87f5 !important;
        font-weight: bold !important;
      }

      .jQBracket .team.lose {
        background-color: #282828 !important;
        color: #888 !important;
      }

      .jQBracket .connector {
        border-color: #5e5e5e !important;
      }

      .jQBracket .connector .line,
      .jQBracket .connector .branch {
        border-color: #5e5e5e !important;
      }

      .jQBracket .bubble {
        background-color: #333 !important;
        color: #FFF !important;
        border-color: #5e5e5e !important;
      }

      .jQBracket .score {
        background-color: #1a1a1a !important;
        color: #FFF !important;
        border-color: #444 !important;
      }

      .jQBracket .score.win {
        background-color: #2C3443 !important;
        color: #9b87f5 !important;
        font-weight: bold !important;
      }

      .jQBracket .score.lose {
        background-color: #282828 !important;
        color: #888 !important;
      }

      .jQBracket input {
        background-color: #2a2a2a !important;
        color: #FFF !important;
        border: 1px solid #555 !important;
      }

      .jQBracket .highlight,
      .jQBracket .highlightWinner {
        background-color: #292C31 !important;
        color: #9b87f5 !important;
      }

      .jQBracket .label {
        color: #9b87f5 !important;
        font-weight: bold !important;
      }

      .jQBracket .round {
        color: #9b87f5 !important;
        font-weight: bold !important;
      }

      .jQBracket .finals {
        color: #9b87f5 !important;
        font-weight: bold !important;
      }
      
      .jQBracket .tools {
        background-color: #1a1a1a !important;
      }

      .jQBracket .np .connector,
      .jQBracket .np .connector .line,
      .jQBracket .np .connector .branch {
        border-color: #5e5e5e !important;
      }

      /* Additions for better visibility */
      .tournament-bracket {
        background-color: transparent !important;
        border-radius: 8px;
        padding: 10px;
      }

      .jQBracket {
        font-family: system-ui, -apple-system, sans-serif !important;
        user-select: none;
      }
    `;N.textContent=_,console.log("[JQueryBracket] Applied dark theme styles to tournament bracket")},j=async()=>{var S;if(o.current)try{if(!p())return;b();const N=await y(),_=window.jQuery,C=_(o.current);C.empty();let E=[...e];const T=((S=N[0][0])==null?void 0:S.length)||0;if(console.log(`[JQueryBracket] Teams count: ${E.length}, DB match count: ${T}`),T>E.length){console.log(`[JQueryBracket] Adding ${T-E.length} dummy teams to match DB data`);for(let R=E.length;R<T;R++)E.push(["Team "+(R*2+1),"Team "+(R*2+2)])}console.log("[JQueryBracket] Teams data for bracket:",JSON.stringify(E)),console.log("[JQueryBracket] Results data for bracket:",JSON.stringify(N));let I=N;Array.isArray(N[0][0][0])&&Array.isArray(N[0][0][0][0])&&(I=N[0],console.log("[JQueryBracket] Flattened excessive nesting in results"));const F={teamWidth:150,scoreWidth:30,matchMargin:30,roundMargin:50,skipConsolationRound:!0};F.init={teams:E,results:I},console.log("[JQueryBracket] Final config for bracket:",JSON.stringify(F.init)),F.decorator={edit:function(){return _('<input type="number" min="0">').css({width:"30px",height:"20px",fontSize:"12px",padding:"0 2px",backgroundColor:"#2a2a2a",color:"#FFFFFF",border:"1px solid #555"})},render:function(R,A){return A&&R.append(A),R}},F.save=function(R){if(console.log("[JQueryBracket] Save callback triggered with data:",JSON.stringify(R)),!R||!R.results){console.error("[JQueryBracket] Invalid data structure in save callback");return}const A=N;for(let U=0;U<R.results[0].length;U++){const L=R.results[0][U];if(L)for(let M=0;M<L.length;M++){const k=L[M];let P=[null,null];if(A&&A[0]&&A[0][U]&&A[0][U][M]&&(P=A[0][U][M]),JSON.stringify(k)!==JSON.stringify(P)){console.log(`[JQueryBracket] Match updated: Round ${U}, Match ${M}`),console.log(`[JQueryBracket] Old result: ${JSON.stringify(P)}, New result: ${JSON.stringify(k)}`);const W=k==null?void 0:k[0],V=k==null?void 0:k[1];x(U,M,W,V);return}}}console.warn("[JQueryBracket] Could not determine which match was updated")};try{C.bracket(F),console.log("[JQueryBracket] Tournament bracket rendered successfully"),setTimeout(()=>{b()},100),l(!0),u(null)}catch(R){console.error("[JQueryBracket] Error initializing bracket:",R),u(`Error initializing bracket: ${R instanceof Error?R.message:String(R)}`);return}}catch(N){console.error("[JQueryBracket] Error rendering tournament bracket:",N),u(`Error rendering tournament bracket: ${N instanceof Error?N.message:String(N)}`);return}};return m.useEffect(()=>{if(!i){if(console.log("[JQueryBracket] Attempting to render bracket, retry count:",d),console.log("[JQueryBracket] Teams:",e),console.log("[JQueryBracket] Results:",t),g()){b(),j();const S=setTimeout(()=>{b()},500);return()=>clearTimeout(S)}else if(d<h){const S=setTimeout(()=>{f(N=>N+1)},500);return()=>clearTimeout(S)}}},[e,t,d,i,r,n,s]),m.useEffect(()=>{i&&o.current&&(console.log("[JQueryBracket] Tournament data changed, re-rendering bracket"),l(!1))},[r,n,JSON.stringify(e),JSON.stringify(t)]),m.useEffect(()=>{const S=document.createElement("style");return S.id="jquery-bracket-global-styles",S.textContent=`
      /* Global bracket styles */
      .jQBracket * {
        box-sizing: content-box !important;
      }
    `,document.head.appendChild(S),()=>{const N=document.getElementById("jquery-bracket-global-styles");N&&N.remove();const _=document.getElementById("jquery-bracket-dark-theme");_&&_.remove()}},[]),a.jsxs("div",{className:"jquery-bracket-container my-8",children:[a.jsx("div",{ref:o,className:"tournament-bracket w-full overflow-auto"}),c&&!i&&a.jsx("div",{className:"text-red-500 text-center py-2",children:c}),!i&&!c&&a.jsx("div",{className:"text-center py-6",children:"Loading tournament bracket..."}),!s&&i&&a.jsx("div",{className:"text-sm text-yellow-500 text-center mt-2",children:"You can interact with the bracket, but changes will only be visible to you."}),s&&i&&a.jsx("div",{className:"text-sm text-green-500 text-center mt-2",children:"You can update match scores by clicking on scores in the bracket."})]})},nW=async(e,t)=>{var r;if(!t)return console.log("No OpenAI API key provided, falling back to local generation"),Y.error("Missing OpenAI API key"),null;if(e.length<3)return console.log("Less than 3 teams. Using local generation instead of OpenAI."),null;try{console.log(`Generating brackets with OpenAI for ${e.length} teams`),Y.info(`Using AI to optimize brackets for ${e.length} teams...`);const n=e.map(d=>({id:d.id,name:d.name,elo:d.elo})),s=`I need to create fair tournament brackets for ${e.length} teams. 
    Here is the team information with their ELO ratings: ${JSON.stringify(n)}
    
    Please generate optimal tournament brackets that balance competition by matching teams based on their ELO ratings.
    Make sure higher ELO teams face lower ELO teams in the first round for balance.
    If there is an odd number of teams, some team might need a bye in the first round.
    
    Return only a valid JSON object with this exact structure:
    {
      "teams": [["Team A", "Team B"], ["Team C", "Team D"], ...],
      "results": [[[null, null], [null, null], ...]]
    }
    
    The "teams" array should contain pairs of team names for the first round.
    The "results" array should be properly structured for a tournament bracket with enough rounds based on the number of teams.`;console.log("Sending request to OpenAI API");const o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a tournament bracket generator assistant. Return ONLY valid JSON for bracket structures."},{role:"user",content:s}],temperature:.2})});if(!o.ok){const d=await o.json();throw console.error("OpenAI API error:",d),new Error(`OpenAI API error: ${((r=d.error)==null?void 0:r.message)||"Unknown error"}`)}const l=(await o.json()).choices[0].message.content;console.log("OpenAI response received:",l.substring(0,100)+"...");let c=l.match(/```json\s*([\s\S]*?)\s*```/)||l.match(/```\s*([\s\S]*?)\s*```/)||[null,l],u=JSON.parse(c[1]||l);if(!Array.isArray(u.teams)||!Array.isArray(u.results))throw new Error("Invalid bracket structure returned from OpenAI");return u.teams=u.teams.map(d=>d.map(f=>{if(!f||f.toLowerCase()==="bye")return"BYE";const h=e.find(v=>v.name.toLowerCase()===f.toLowerCase()||f.toLowerCase().includes(v.name.toLowerCase()));return h?h.name:f})),console.log("OpenAI generated brackets successfully:",u),Y.success("AI-optimized brackets generated successfully"),u}catch(n){return console.error("Error generating brackets with OpenAI:",n),Y.error(`Failed to generate brackets with AI: ${n instanceof Error?n.message:String(n)}`),null}},k_=e=>{console.log("Generating bracket locally with teams:",e),Y.info("Using standard bracket generation algorithm"),e.sort((s,o)=>o.elo-s.elo);const t=[];for(let s=0;s<Math.floor(e.length/2);s++){const o=e[s],i=e[e.length-1-s];t.push([o.name,i.name])}if(e.length%2!==0){const s=e[Math.floor(e.length/2)];t.push([s.name,"BYE"])}const r=Math.ceil(Math.log2(e.length)),n=[];for(let s=0;s<r;s++){const o=[],i=Math.pow(2,r-s-1);for(let l=0;l<i;l++)o.push([null,null]);n.push(o)}return{teams:t,results:[n]}},sW=({tournamentId:e,initialBracketData:t})=>{const{user:r,session:n}=jt(),{isLoungeAdmin:s,isAdmin:o,isSuperAdmin:i}=Sr(),[l,c]=m.useState(!0),[u,d]=m.useState(null),[f,h]=m.useState(!1),[v,p]=m.useState(!1),[y,x]=m.useState(!1),[w,g]=m.useState(null),[b,j]=m.useState(!1),[S,N]=m.useState(null),[_,C]=m.useState({teams:[],results:[[[]]]});m.useEffect(()=>{if(!r)return;(async()=>{var A,U;try{const{data:L,error:M}=await z.from("tournaments").select("added_by, lounge_id, lounges(user_id), end_date, reg_end_date").eq("id",e).single();console.log("Tournament data:",L);const k=L&&(L.added_by===r.id||((A=L.lounges)==null?void 0:A.user_id)===r.id);console.log("User ID:",r.id),console.log("Added by:",L==null?void 0:L.added_by),console.log("Lounge user ID:",(U=L==null?void 0:L.lounges)==null?void 0:U.user_id),console.log("isTournamentOwner:",k),x(!!k);const{data:P}=await z.from("tournament_brackets").select("id").eq("tournament_id",e).limit(1),W=(L==null?void 0:L.end_date)&&new Date(L.end_date)<new Date,V=(L==null?void 0:L.reg_end_date)&&new Date(L.reg_end_date)<new Date;if(console.log("Bracket exists:",(P==null?void 0:P.length)>0),console.log("Registration ended:",V),console.log("Tournament ended:",W),p((!P||P.length===0)&&!W),o||i||y){const{data:Z,error:fe}=await z.from("system_settings").select("setting_value").eq("setting_name","OPENAI_API_KEY").single();fe?(console.log("No API key found or error fetching key:",fe),g(null)):Z!=null&&Z.setting_value&&(console.log("API key found and set (hidden for security)"),g(Z.setting_value)),j(!0)}}catch(L){console.error("Error checking bracket conditions:",L),j(!0)}})()},[e,r,o,i,y]),m.useEffect(()=>{if(console.log("TournamentBracket mounting, tournamentId:",e),c(!0),d(null),t){console.log("Using provided initialBracketData:",t);try{if(typeof t=="object"&&t!==null&&"teams"in t&&"results"in t&&Array.isArray(t.teams)){z.from("tournament_brackets").select("id").eq("tournament_id",e).order("generated_at",{ascending:!1}).limit(1).single().then(({data:M})=>{M!=null&&M.id&&N(M.id)}),console.log("Teams before formatting:",JSON.stringify(t.teams)),console.log("Results before processing:",JSON.stringify(t.results));const A=E(t.teams),U=Array.isArray(t.results)?t.results:[[[]]],L=T(A,U);console.log("Final teams structure:",A),console.log("Final results structure:",L),C({teams:A,results:L}),c(!1);return}}catch(A){console.error("Error processing initialBracketData:",A)}}return(async()=>{try{const{data:A,error:U}=await z.from("tournament_brackets").select("id, bracket_data, is_finalized").eq("tournament_id",e).order("generated_at",{ascending:!1}).limit(1).single();if(console.log("Bracket fetch result:",{data:A,error:U}),U){console.error("Error fetching bracket data:",U),c(!1),d("No bracket generated yet");return}if(A&&A.bracket_data){const L=A.bracket_data;if(typeof L=="object"&&L!==null&&"teams"in L&&"results"in L&&Array.isArray(L.teams)){console.log("Raw bracket data:",L),N(A.id),console.log("Teams before formatting:",JSON.stringify(L.teams)),console.log("Results before processing:",JSON.stringify(L.results));const M=E(L.teams),k=Array.isArray(L.results)?L.results:[[[]]],P=T(M,k);console.log("Final teams structure:",M),console.log("Final results structure:",P),C({teams:M,results:P})}else throw new Error("Invalid bracket data structure");c(!1)}else c(!1),d("No bracket data available")}catch(A){console.error("Error fetching bracket data:",A),c(!1),d(`Error loading tournament bracket: ${A instanceof Error?A.message:String(A)}`)}})(),()=>{console.log("TournamentBracket unmounting")}},[e,t]);const E=R=>{if(!Array.isArray(R))return console.error("Teams data is not an array:",R),[];const A=R.map((U,L)=>{if(console.log(`Processing matchup ${L}:`,U),Array.isArray(U)&&U.length===2)return[String(U[0]||""),String(U[1]||"")];if(U&&typeof U=="object"&&"team1"in U&&"team2"in U)return[String(U.team1||""),String(U.team2||"")];if(L%2===0&&L+1<R.length){const M=typeof R[L]=="string"?R[L]:R[L]&&typeof R[L]=="object"&&"name"in R[L]?R[L].name:`Team ${L+1}`,k=typeof R[L+1]=="string"?R[L+1]:R[L+1]&&typeof R[L+1]=="object"&&"name"in R[L+1]?R[L+1].name:`Team ${L+2}`;return[String(M||""),String(k||"")]}else return L%2===1?null:[String(U||""),""]}).filter(Boolean);return console.log("Verified team pairings:",A),A},T=(R,A)=>{console.log("Ensuring valid results structure with input:",A),(!Array.isArray(A)||A.length===0)&&(A=[[[]]]),Array.isArray(A[0])||(A[0]=[[]]);const U=R.length,L=Math.ceil(Math.log2(U));console.log(`Calculating rounds for ${U} teams: ${L} rounds needed`);const M=[[]];for(let k=0;k<L;k++){const P=Math.pow(2,L-k-1);console.log(`Round ${k+1} should have ${P} matches`),M[0][k]||(M[0][k]=[]);let W=[];A[0]&&Array.isArray(A[0][k])&&A[0][k].length>0&&(W=A[0][k],console.log(`Found ${W.length} existing matches in round ${k+1}`));for(let V=0;V<P;V++)V<W.length&&Array.isArray(W[V])&&W[V].length===2?(M[0][k][V]=W[V],console.log(`Preserved match ${V+1} in round ${k+1}: [${W[V]}]`)):(M[0][k][V]=[null,null],console.log(`Created empty match ${V+1} in round ${k+1}`));console.log(`Round ${k+1} now has ${M[0][k].length} matches`)}return console.log("Produced valid results structure:",M),M},I=()=>{Y.info("Reloading tournament bracket..."),c(!0),d(null),z.from("tournament_brackets").select("id, bracket_data").eq("tournament_id",e).order("generated_at",{ascending:!1}).limit(1).then(({data:R,error:A})=>{if(A)d(`Error reloading bracket: ${A.message}`),Y.error("Failed to reload tournament bracket");else if(R&&R.length>0&&R[0].bracket_data){const U=R[0].bracket_data;if(typeof U=="object"&&U!==null&&"teams"in U&&"results"in U){N(R[0].id);const L=E(U.teams),M=Array.isArray(U.results)?U.results:[[[]]],k=T(L,M);C({teams:L,results:k}),Y.success("Tournament bracket reloaded successfully")}else d("Invalid bracket data structure"),Y.error("Failed to process bracket data")}else d("No bracket data available"),Y.error("No bracket data found");c(!1)})},F=async()=>{if(!r||!n){Y.error("You need to be logged in to generate brackets");return}h(!0),d(null);try{console.log("Starting bracket generation for tournament ID:",e),console.log("User ID:",r.id);const{data:R,error:A}=await z.from("tournaments").select(`
          id,
          tournament_name,
          tournament_details (
            number_of_teams,
            players_per_team
          )
        `).eq("id",e).single();if(A)throw new Error(`Failed to get tournament details: ${A.message}`);console.log("Tournament data:",R);const{data:U,error:L}=await z.from("teams").select(`
          id,
          team_name,
          average_elo,
          tournament_registrations!inner (id)
        `).eq("tournament_id",e).eq("tournament_registrations.is_completed",!0);if(L)throw new Error(`Failed to get registered teams: ${L.message}`);if(console.log("Registered teams count:",(U==null?void 0:U.length)||0),console.log("Registered teams:",U),!U||U.length<2)throw new Error("Not enough teams registered for bracket generation (minimum 2 required)");const M=U.map(le=>({id:le.id,name:le.team_name,elo:le.average_elo||1e3}));console.log(`Preparing bracket for ${M.length} teams`),console.log("OpenAI key available:",!!w);let k;M.length>2&&w?(console.log("Attempting AI-powered bracket generation"),Y.info("Generating optimized brackets with AI..."),k=await nW(M,w),k||(console.log("AI generation failed or returned null, falling back to local generation"),Y.info("Falling back to local bracket generation"),k=k_(M))):(w?M.length<=2&&(console.log("Only 2 or fewer teams, using local generation"),Y.info("Using standard bracket generation for small tournament")):(console.log("No OpenAI API key available, using local generation"),Y.info("No AI API key found. Using standard bracket generation")),k=k_(M)),console.log("Generated bracket data:",k),k&&k.teams&&(console.log("Verifying team pairings before storing"),k.teams=E(k.teams));const{data:P,error:W}=await z.from("tournament_brackets").insert({tournament_id:e,bracket_data:k,generated_by:r.id}).select("id").single();if(W)throw new Error(`Failed to store bracket data: ${W.message}`);console.log("Bracket stored with ID:",P.id);const V=P.id,Z=[],fe=k.teams;if(fe.forEach((le,ke)=>{const ge=le[0],H=le[1],G=M.find(se=>se.name===ge),X=M.find(se=>se.name===H);console.log(`Match ${ke+1}: ${ge} vs ${H}`),console.log("Team objects: ",{team1:G,team2:X}),Z.push({tournament_id:e,bracket_id:V,round_number:1,match_number:ke+1,team1_id:(G==null?void 0:G.id)||null,team2_id:(X==null?void 0:X.id)||null,status:"scheduled"})}),console.log(`Creating ${Z.length} tournament matches`),console.log("Match data to insert:",Z),Z.length>0){const{error:le}=await z.from("tournament_matches").insert(Z);if(le)throw new Error(`Failed to create tournament matches: ${le.message}`)}C({teams:fe,results:k.results}),Y.success("Tournament bracket generated successfully!"),p(!1)}catch(R){console.error("Error generating bracket:",R),d(`Failed to generate bracket: ${R instanceof Error?R.message:String(R)}`),Y.error(`Failed to generate bracket: ${R instanceof Error?R.message:String(R)}`)}finally{h(!1)}};return a.jsx(Se,{className:"p-4",children:a.jsxs("div",{className:"w-full min-h-[400px] border-2 border-gray-200 rounded-lg",children:[u&&!f&&a.jsxs("div",{className:"w-full h-full min-h-[400px] flex flex-col items-center justify-center p-4",children:[a.jsx(vl,{className:"h-10 w-10 text-red-500 mb-4"}),a.jsx("p",{className:"text-red-500 mb-4 text-center",children:u}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(J,{onClick:I,variant:"outline",children:[a.jsx(zw,{className:"mr-2 h-4 w-4"})," Try Again"]}),(y||o||i)&&v&&a.jsxs(J,{onClick:F,variant:"default",className:"bg-gaming-primary",children:[a.jsx(cr,{className:"mr-2 h-4 w-4"})," Generate Bracket"]})]})]}),(l||f)&&!u&&a.jsx("div",{className:"w-full h-full min-h-[400px] flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(wr,{className:"h-8 w-8 animate-spin mb-2"}),a.jsx("p",{children:f?"Generating tournament bracket...":"Loading tournament bracket..."})]})}),!l&&!u&&!f&&_&&_.teams.length>0&&a.jsxs("div",{className:"w-full overflow-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Tournament Bracket"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(J,{variant:"outline",size:"sm",onClick:I,children:[a.jsx(zw,{className:"mr-2 h-4 w-4"})," Refresh"]}),(y||o||i)&&v&&a.jsxs(J,{onClick:F,variant:"default",size:"sm",className:"bg-gaming-primary",disabled:f,children:[a.jsx(cr,{className:"mr-2 h-4 w-4"})," Generate Bracket"]})]})]}),a.jsx(rW,{teams:_.teams,results:_.results,tournamentId:e,bracketId:S||void 0,isOwner:y||o||i})]}),(o||i)&&b&&a.jsx("div",{className:"mt-4 p-2 text-xs border-t border-gray-800 pt-2",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${w?"bg-green-500":"bg-yellow-500"}`}),a.jsxs("span",{className:"text-gray-400",children:["AI Bracket Generation: ",w?"Available":"Not configured"]}),!w&&a.jsx("span",{className:"text-gray-500 ml-1",children:"(Set API key in Admin API Settings)"})]})})]})})},aW=({players:e})=>{var o;const t=e.find(i=>i.rank===1);console.log("Winner data:",t);const r=(o=t==null?void 0:t.user_id)==null?void 0:o.match(/team-(\d+)/),n=r?parseInt(r[1]):null;console.log("Extracted team ID:",n);const{data:s}=Ft({queryKey:["team-members",n],queryFn:async()=>{if(!n)return[];const{data:i,error:l}=await z.from("team_members").select(`
          user_id,
          is_captain,
          profiles:user_id(username, avatar_url)
        `).eq("team_id",n);if(l)throw l;return console.log("Team members raw data:",i),i||[]},enabled:!!n});return m.useEffect(()=>{s&&(console.log("Team members:",s),s.forEach((i,l)=>{var c;console.log(`Team member ${l+1}:`,{userId:i.user_id,isCaptain:i.is_captain,username:(c=i.profiles)==null?void 0:c.username})}))},[s]),t?a.jsx("div",{className:"flex flex-col items-center w-full",children:a.jsx("div",{className:"w-full max-w-md mx-auto bg-gradient-to-b from-yellow-900/20 to-yellow-800/10 rounded-lg p-6 border border-yellow-800/50",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"bg-yellow-500/20 rounded-full p-4 mb-4",children:a.jsx(cr,{className:"h-10 w-10 text-yellow-500"})}),a.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"Tournament Winner"}),a.jsx("div",{className:"flex items-center gap-3 mb-4",children:a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-xl font-bold text-white",children:t.name}),a.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Team"})]})}),s&&s.length>0&&a.jsxs("div",{className:"w-full mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:"Team Members"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.map((i,l)=>{var c;return a.jsxs("div",{className:"flex items-center gap-2 bg-black/20 rounded-md p-2",children:[a.jsx(ro,{userId:i.user_id,size:"sm"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-white",children:((c=i.profiles)==null?void 0:c.username)||"Unknown User"}),i.is_captain&&a.jsx("span",{className:"text-xs bg-yellow-900/60 text-yellow-400 px-2 py-0.5 rounded-full w-fit",children:"Captain"})]})]},i.user_id)})})]})]})})}):a.jsx("div",{className:"text-center py-8 text-gray-400",children:"No winner has been declared yet."})},oW=({tournamentId:e,tournamentName:t,startDate:r,endDate:n,status:s,roundNumber:o,winners:i,bracketData:l})=>{const{isAdmin:c,isLoungeAdmin:u}=Sr(),[d,f]=m.useState(!1),[h,v]=m.useState(s),[p,y]=m.useState(i),x=l&&l.results&&l.results[0]&&l.results[0].length>=o&&l.results[0][o-1]&&l.results[0][o-1][0]&&Array.isArray(l.results[0][o-1][0])&&l.results[0][o-1][0].length===2&&l.results[0][o-1][0].some(_=>_!==null),w=async()=>{if(console.log("Attempting to determine the winning team..."),!l||!l.results)return console.log("Missing bracket data or results"),null;try{const{data:_,error:C}=await z.from("tournament_matches").select("winner_id, team1_id, team2_id, team1_score, team2_score").eq("tournament_id",e).eq("round_number",o).eq("match_number",1).maybeSingle();if(_&&_.winner_id)return console.log("Found winner ID directly from match data:",_.winner_id),_.winner_id;if(_&&_.team1_score!==null&&_.team2_score!==null){const A=_.team1_score>_.team2_score?_.team1_id:_.team2_id;return console.log("Calculated winner from match scores:",A),A}const E=l.results[0][o-1];if(!E||!E[0]||!Array.isArray(E[0]))return console.log("Invalid final round structure in bracket data:",E),null;const[T,I]=E[0];if(T===null||I===null)return console.log("Final match scores not set yet:",T,I),null;const F=T>I?0:1;console.log(`Winner index based on scores ${T} vs ${I}: ${F}`);const{data:R}=await z.from("tournament_matches").select("team1_id, team2_id").eq("tournament_id",e).eq("round_number",o).eq("match_number",1).maybeSingle();if(R){const A=F===0?R.team1_id:R.team2_id;return console.log("Winning team ID from database:",A),A}return console.log("Could not determine winner from available data"),null}catch(_){return console.error("Error determining winner:",_),null}},g=async()=>{f(!0);try{const _=await w();if(!_){console.error("Could not determine the winner. Team ID:",_),Y.error("Could not determine the winner"),f(!1);return}console.log("Winning team ID:",_);const{data:C,error:E}=await z.from("team_members").select("user_id").eq("team_id",_);if(E){console.error("Error getting winning team members:",E),Y.error("Error retrieving winners"),f(!1);return}console.log("Winning team members:",C);const{data:T,error:I}=await z.from("tournament_registrations").select("team_id").eq("tournament_id",e).eq("is_completed",!0);if(I){console.error("Error getting teams:",I),Y.error("Error retrieving teams"),f(!1);return}console.log("All participating teams:",T);const F=[];for(const L of C){const M=z.rpc("update_player_stats",{p_user_id:L.user_id,p_elo_change:100,p_add_win:!0,p_tournament_played:!0});F.push(M)}const R=T.map(L=>L.team_id).filter(L=>L!==_);console.log("Participating team IDs (excluding winner):",R);for(const L of R){const{data:M}=await z.from("team_members").select("user_id").eq("team_id",L);if(M){console.log(`Team ${L} members:`,M);for(const k of M){const P=z.rpc("update_player_stats",{p_user_id:k.user_id,p_elo_change:50,p_add_win:!1,p_tournament_played:!0});F.push(P)}}}const{error:A}=await z.from("tournaments").update({status:"completed",winner_team_id:_}).eq("id",e);if(A){console.error("Error updating tournament status:",A),Y.error("Failed to update tournament status"),f(!1);return}await Promise.all(F),console.log("All player stats updated successfully");const{data:U}=await z.from("teams").select("team_name").eq("id",_).single();if(console.log("Winner team data:",U),U){const L={rank:1,user_id:`team-${_}`,name:U.team_name,elo_rating:0,win_rate:"100%",win_streak:1,tournaments_played:1};y([L]),v("completed"),Y.success("Tournament completed successfully!")}}catch(_){console.error("Error completing tournament:",_),Y.error("An error occurred while completing the tournament")}finally{f(!1)}},b=_=>{try{const C=Md(_);return Lr(C,"MMM d, yyyy")}catch{return _}},j=()=>{try{const _=Md(r),C=Md(n);return FB(C,_)}catch{return 0}},S=_=>{try{const C=Md(_);return Lr(C,"MMMM d, yyyy")+" at "+Lr(C,"hh:mm a")}catch{return _}},N=(c||u)&&h!=="completed"&&x;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t}),a.jsx("div",{className:"flex items-center mt-2 sm:mt-0",children:a.jsxs(tW,{variant:"outline",className:`
              ${h==="upcoming"?"bg-blue-900/20 text-blue-400 border-blue-800":""}
              ${h==="in_progress"?"bg-green-900/20 text-green-400 border-green-800":""}
              ${h==="completed"?"bg-purple-900/20 text-purple-400 border-purple-800":""}
              px-3 py-1
            `,children:[h==="upcoming"&&"Upcoming",h==="in_progress"&&"In Progress",h==="completed"&&"Completed"]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Eu,{className:"h-4 w-4 mr-2 text-gray-500"}),a.jsxs("span",{children:[b(r)," - ",b(n)]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(_o,{className:"h-4 w-4 mr-2 text-gray-500"}),a.jsxs("span",{children:["Round ",o]})]})]}),N&&a.jsx("div",{className:"flex justify-end",children:a.jsxs(J,{variant:"outline",className:"flex items-center gap-2 bg-green-900/20 text-green-400 border-green-800 hover:bg-green-900/40",onClick:g,disabled:d,children:[a.jsx(yl,{className:"h-4 w-4"}),d?"Processing...":"Complete Tournament"]})}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-[#1d1d2d] p-6 rounded-lg",children:[a.jsxs("h3",{className:"text-xl font-medium flex items-center text-blue-400",children:[a.jsx(_o,{className:"h-5 w-5 mr-2 text-blue-400"}),"Tournament Status"]}),a.jsxs("div",{className:"mt-5 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("div",{className:"text-gray-400",children:"Status"}),a.jsxs("div",{className:`font-medium ${h==="in_progress"?"text-green-400":h==="completed"?"text-purple-400":"text-blue-400"}`,children:[h==="upcoming"&&"Upcoming",h==="in_progress"&&"In Progress",h==="completed"&&"Completed"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("div",{className:"text-gray-400",children:"Current Round"}),a.jsx("div",{className:"font-medium",children:o})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("div",{className:"text-gray-400",children:"Start Date"}),a.jsx("div",{className:"font-medium",children:S(r)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("div",{className:"text-gray-400",children:"End Date"}),a.jsx("div",{className:"font-medium",children:S(n)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("div",{className:"text-gray-400",children:"Duration"}),a.jsxs("div",{className:"font-medium",children:[j()," days"]})]})]})]}),a.jsxs("div",{className:"bg-[#1d1d2d] p-6 rounded-lg",children:[a.jsxs("h3",{className:"text-xl font-medium flex items-center text-purple-400",children:[a.jsx(cr,{className:"h-5 w-5 mr-2 text-purple-400"}),"Tournament Results"]}),a.jsx("div",{className:"mt-5",children:h==="completed"&&p&&p.length>0?a.jsx("div",{className:"mt-4",children:a.jsx(aW,{players:p})}):a.jsxs("div",{className:"text-center py-10 text-gray-400",children:[a.jsx(Xi,{className:"h-10 w-10 mx-auto mb-4 text-gray-500"}),a.jsx("p",{children:"Tournament is still in progress. The winner will be displayed here once the tournament is completed."})]})})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-[#1d1d2d] rounded-lg overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-[#252535]",children:a.jsx("h3",{className:"text-lg font-medium",children:"Tournament Bracket"})}),a.jsx(sW,{tournamentId:e,initialBracketData:l,status:h})]})})]})},iW=()=>{const{tournamentId:e}=Nl(),{data:t,isLoading:r}=Ft({queryKey:["tournament-progress",e],queryFn:async()=>{if(!e)throw Y.error("Invalid tournament ID"),new Error("Tournament ID is required");const u=parseInt(e);if(isNaN(u))throw Y.error("Invalid tournament ID format"),new Error("Tournament ID must be a valid number");const{data:d,error:f}=await z.from("tournaments").select(`
          id,
          tournament_name,
          start_date,
          end_date,
          winner_team_id,
          status,
          tournament_details (
            number_of_teams,
            players_per_team
          )
        `).eq("id",u).single();if(f)throw Y.error("Failed to load tournament details"),f;console.log("[TournamentProgressPage] Fetching bracket data from database for tournament:",u);const{data:h,error:v}=await z.from("tournament_brackets").select("id, bracket_data, is_finalized").eq("tournament_id",u).order("generated_at",{ascending:!1}).limit(1).single();console.log("[TournamentProgressPage] Retrieved bracket data from DB:",h?JSON.stringify(h.bracket_data):"No bracket data");let p=1,y=[],x=null;if(h!=null&&h.id){console.log("[TournamentProgressPage] Fetching all match scores from tournament_matches table for bracket:",h.id);const{data:w,error:g}=await z.from("tournament_matches").select(`
            id,
            round_number,
            match_number,
            team1_id,
            team2_id,
            team1_score,
            team2_score,
            winner_id,
            team1:teams!team1_id(team_name),
            team2:teams!team2_id(team_name)
          `).eq("bracket_id",h.id).order("round_number",{ascending:!0}).order("match_number",{ascending:!0});if(g)console.error("[TournamentProgressPage] Error fetching match scores:",g.message);else{if(console.log("[TournamentProgressPage] Retrieved matches data:",JSON.stringify(w)),x=h.bracket_data,console.log("[TournamentProgressPage] Original bracket data structure:",JSON.stringify(x)),w&&w.length>0){if(console.log(`[TournamentProgressPage] Found ${w.length} match records in database`),console.log("[TournamentProgressPage] Database match structure sample:",JSON.stringify(w[0])),x&&typeof x=="object"){x.results?Array.isArray(x.results)||(x.results=[[]]):x.results=[[]],Array.isArray(x.results[0])||(x.results[0]=[]);const j=Math.max(...w.map(S=>S.round_number));console.log("[TournamentProgressPage] Maximum round number from database:",j);for(let S=0;S<j;S++)x.results[0][S]||(x.results[0][S]=[]);w.forEach(S=>{const N=S.round_number-1,_=S.match_number-1;x.results[0][N]||(x.results[0][N]=[]),S.team1_score!==null&&S.team2_score!==null&&(console.log(`[TournamentProgressPage] Adding score from DB: Round ${S.round_number}, Match ${S.match_number}, Score: [${S.team1_score}, ${S.team2_score}]`),x.results[0][N][_]=[S.team1_score,S.team2_score])}),console.log("[TournamentProgressPage] Updated bracket data with DB scores:",JSON.stringify(x.results))}}else console.log("[TournamentProgressPage] No match records found in database");if(x&&typeof x=="object"&&"results"in x&&Array.isArray(x.results)&&Array.isArray(x.results[0])&&Array.isArray(x.results[0][0])&&x.results[0][0].length>0&&(console.log("[TournamentProgressPage] Found deeply nested results structure"),console.log("[TournamentProgressPage] Results depth structure:",`results: ${Array.isArray(x.results)}, results[0]: ${Array.isArray(x.results[0])}, results[0][0]: ${Array.isArray(x.results[0][0])}, results[0][0][0]: ${Array.isArray(x.results[0][0][0])}`),Array.isArray(x.results[0]))){let j=0;for(let S=0;S<x.results[0].length;S++){const N=x.results[0][S];Array.isArray(N)&&N.some(_=>Array.isArray(_)&&_.some(C=>C!==null))&&(j=S+1,console.log(`[TournamentProgressPage] Found scores in round ${S+1}:`,JSON.stringify(N)))}j>0?(p=j,console.log("[TournamentProgressPage] Set round number to:",p)):(p=x.results[0].length||1,console.log("[TournamentProgressPage] No scores found, defaulting to round:",p))}const{data:b}=await z.from("tournament_matches").select("round_number").eq("bracket_id",h.id).order("round_number",{ascending:!1}).limit(1).single();if(b){const j=b.round_number;console.log("[TournamentProgressPage] Round number from DB matches:",j),p=Math.max(p,j),console.log("[TournamentProgressPage] Final round number:",p)}}}else v&&console.log("[TournamentProgressPage] No bracket found or error:",v);if(d.winner_team_id){console.log("[TournamentProgressPage] Tournament has a winner team ID:",d.winner_team_id);const{data:w}=await z.from("teams").select("team_name").eq("id",d.winner_team_id).single();w&&(y=[{rank:1,user_id:`team-${d.winner_team_id}`,name:w.team_name,elo_rating:0,win_rate:"100%",win_streak:1,tournaments_played:1}],console.log("[TournamentProgressPage] Setting winner data:",y))}return{...d,roundNumber:p,winners:y,bracketData:x}}});if(r)return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] text-gray-100",children:[a.jsx(He,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-[#252530] rounded w-1/4"}),a.jsx("div",{className:"h-96 bg-[#252530] rounded"}),a.jsx("div",{className:"h-32 bg-[#252530] rounded"})]})}),a.jsx(Ge,{})]});const n=new Date,s=t?new Date(t.start_date):null,o=t?new Date(t.end_date):null,i=(t==null?void 0:t.winner_team_id)||o&&n>o,l=!i&&s&&n>=s,c=(t==null?void 0:t.status)||(i?"completed":l?"in_progress":"upcoming");return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] text-gray-100",children:[a.jsx(He,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx(Se,{className:"bg-[#1a1a1a] border-gray-800 p-6",children:t&&a.jsx(oW,{tournamentId:t.id,tournamentName:t.tournament_name,startDate:t.start_date,endDate:t.end_date,status:c,roundNumber:t.roundNumber||1,winners:t.winners||[],bracketData:t.bracketData})})}),a.jsx(Ge,{})]})},lW=()=>a.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-[#121212] to-[#1a1a20]",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs(Se,{className:"w-full max-w-4xl mx-auto p-6 bg-[#1a1a1a] border-gray-800 shadow-lg",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4 text-gaming-primary",children:"Contact Us"}),a.jsx("p",{className:"text-gray-300 mb-8",children:"Have questions about our gaming tournaments or need support? Our team is available and ready to assist you through any of the contact methods below."}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsx(Se,{className:"p-6 bg-[#252530] border-gray-700 hover:border-gaming-primary/50 transition-colors duration-300 transform hover:translate-y-[-5px]",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Dv,{className:"h-6 w-6 text-gaming-primary"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-100",children:"Email Support"}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"For general inquiries and support requests:"}),a.jsx("a",{href:"mailto:support@email.com",className:"text-gaming-primary hover:text-gaming-secondary transition-colors",children:"support@email.com"})]})]})}),a.jsx(Se,{className:"p-6 bg-[#252530] border-gray-700 hover:border-gaming-primary/50 transition-colors duration-300 transform hover:translate-y-[-5px]",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Lv,{className:"h-6 w-6 text-gaming-primary"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-100",children:"Phone Support"}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Call our customer service team:"}),a.jsx("a",{href:"tel:+96112345678",className:"text-gaming-primary hover:text-gaming-secondary transition-colors",children:"+961 12345678"})]})]})}),a.jsx(Se,{className:"p-6 bg-[#252530] border-gray-700 hover:border-gaming-primary/50 transition-colors duration-300 transform hover:translate-y-[-5px]",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(_o,{className:"h-6 w-6 text-gaming-primary"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-100",children:"Support Hours"}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Our team is available:"}),a.jsx("p",{className:"text-gray-300",children:"Monday - Friday: 9AM - 6PM (EST)"})]})]})}),a.jsx(Se,{className:"p-6 bg-[#252530] border-gray-700 hover:border-gaming-primary/50 transition-colors duration-300 transform hover:translate-y-[-5px]",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Ca,{className:"h-6 w-6 text-gaming-primary"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-2 text-gray-100",children:"Office Location"}),a.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Visit our headquarters:"}),a.jsx("p",{className:"text-gray-300",children:"123 street, beirut"})]})]})})]}),a.jsxs(Se,{className:"mt-10 p-6 bg-[#252530] border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gaming-primary",children:"Find Us on the Map"}),a.jsx("div",{className:"w-full aspect-video rounded overflow-hidden border border-gray-800",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7877.736593722222!2d35.48842160586736!3d33.885011830750756!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x151f1721587e1d6d%3A0xaa7f5769dc576d98!2sLebanese%20International%20University!5e0!3m2!1sen!2slb!4v1748305394654!5m2!1sen!2slb",className:"w-full h-full",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})}),a.jsx(Ge,{})]});var g0="Collapsible",[cW,aT]=fr(g0),[uW,y0]=cW(g0),oT=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=zr({prop:n,defaultProp:s,onChange:i});return a.jsx(uW,{scope:r,disabled:o,contentId:en(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:a.jsx(xe.div,{"data-state":x0(c),"data-disabled":o?"":void 0,...l,ref:t})})});oT.displayName=g0;var iT="CollapsibleTrigger",lT=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=y0(iT,r);return a.jsx(xe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":x0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:ae(e.onClick,s.onOpenToggle)})});lT.displayName=iT;var v0="CollapsibleContent",cT=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=y0(v0,e.__scopeCollapsible);return a.jsx(hr,{present:r||s.open,children:({present:o})=>a.jsx(dW,{...n,ref:t,present:o})})});cT.displayName=v0;var dW=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=y0(v0,r),[l,c]=m.useState(n),u=m.useRef(null),d=Fe(t,u),f=m.useRef(0),h=f.current,v=m.useRef(0),p=v.current,y=i.open||l,x=m.useRef(y),w=m.useRef();return m.useEffect(()=>{const g=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(g)},[]),Kt(()=>{const g=u.current;if(g){w.current=w.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();f.current=b.height,v.current=b.width,x.current||(g.style.transitionDuration=w.current.transitionDuration,g.style.animationName=w.current.animationName),c(n)}},[i.open,n]),a.jsx(xe.div,{"data-state":x0(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!y,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:y&&s})});function x0(e){return e?"open":"closed"}var fW=oT,hW=lT,mW=cT,Ls="Accordion",pW=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[w0,gW,yW]=Su(Ls),[Sm,cq]=fr(Ls,[yW,aT]),b0=aT(),uT=K.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return a.jsx(w0.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(bW,{...o,ref:t}):a.jsx(wW,{...s,ref:t})})});uT.displayName=Ls;var[dT,vW]=Sm(Ls),[fT,xW]=Sm(Ls,{collapsible:!1}),wW=K.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=zr({prop:r,defaultProp:n,onChange:s});return a.jsx(dT,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:K.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(fT,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(hT,{...i,ref:t})})})}),bW=K.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i=[],l]=zr({prop:r,defaultProp:n,onChange:s}),c=K.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=K.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(dT,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(fT,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(hT,{...o,ref:t})})})}),[_W,km]=Sm(Ls),hT=K.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,l=K.useRef(null),c=Fe(l,t),u=gW(r),f=Cl(s)==="ltr",h=ae(e.onKeyDown,v=>{var C;if(!pW.includes(v.key))return;const p=v.target,y=u().filter(E=>{var T;return!((T=E.ref.current)!=null&&T.disabled)}),x=y.findIndex(E=>E.ref.current===p),w=y.length;if(x===-1)return;v.preventDefault();let g=x;const b=0,j=w-1,S=()=>{g=x+1,g>j&&(g=b)},N=()=>{g=x-1,g<b&&(g=j)};switch(v.key){case"Home":g=b;break;case"End":g=j;break;case"ArrowRight":o==="horizontal"&&(f?S():N());break;case"ArrowDown":o==="vertical"&&S();break;case"ArrowLeft":o==="horizontal"&&(f?N():S());break;case"ArrowUp":o==="vertical"&&N();break}const _=g%w;(C=y[_].ref.current)==null||C.focus()});return a.jsx(_W,{scope:r,disabled:n,direction:s,orientation:o,children:a.jsx(w0.Slot,{scope:r,children:a.jsx(xe.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:h})})})}),gh="AccordionItem",[jW,_0]=Sm(gh),mT=K.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=km(gh,r),i=vW(gh,r),l=b0(r),c=en(),u=n&&i.value.includes(n)||!1,d=o.disabled||e.disabled;return a.jsx(jW,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(fW,{"data-orientation":o.orientation,"data-state":wT(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});mT.displayName=gh;var pT="AccordionHeader",gT=K.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=km(Ls,r),o=_0(pT,r);return a.jsx(xe.h3,{"data-orientation":s.orientation,"data-state":wT(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});gT.displayName=pT;var My="AccordionTrigger",yT=K.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=km(Ls,r),o=_0(My,r),i=xW(My,r),l=b0(r);return a.jsx(w0.ItemSlot,{scope:r,children:a.jsx(hW,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...n,ref:t})})});yT.displayName=My;var vT="AccordionContent",xT=K.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=km(Ls,r),o=_0(vT,r),i=b0(r);return a.jsx(mW,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});xT.displayName=vT;function wT(e){return e?"open":"closed"}var NW=uT,SW=mT,kW=gT,bT=yT,_T=xT;const CW=NW,jT=m.forwardRef(({className:e,...t},r)=>a.jsx(SW,{ref:r,className:ee("border-b",e),...t}));jT.displayName="AccordionItem";const NT=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(kW,{className:"flex",children:a.jsxs(bT,{ref:n,className:ee("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Lh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));NT.displayName=bT.displayName;const ST=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(_T,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:ee("pb-4 pt-0",e),children:t})}));ST.displayName=_T.displayName;const EW=()=>{const e=[{question:"How do I join a tournament?",answer:"To join a tournament, navigate to the Tournaments page, select the tournament you're interested in, and click the 'Register' button. You'll need to have an account and meet the tournament requirements to participate."},{question:"What happens if I disconnect during a match?",answer:"If you disconnect during a match, you have a 5-minute window to reconnect. If you cannot reconnect within this timeframe, the match may be forfeited. Contact the tournament admin immediately if you experience technical difficulties."},{question:"How are rankings calculated?",answer:"Rankings are calculated based on your performance in tournaments and matches. You earn points based on your placement in tournaments, with additional factors such as the tournament tier and number of participants affecting the points awarded."},{question:"Can I create my own tournament?",answer:"Yes! If you are a registered user, you can create and host your own tournaments. Go to the 'Host Tournament' page to set up your tournament details, including format, rules, and prizes."},{question:"What are Gaming Lounges?",answer:"Gaming Lounges are physical locations where players can compete in tournaments and practice their skills. These venues provide high-quality gaming equipment and a competitive environment for both casual and professional players."}];return a.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-[#121212] to-[#1a1a20]",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs(Se,{className:"max-w-4xl mx-auto p-6 bg-[#1a1a1a] border-gray-800 shadow-lg",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-gaming-primary",children:"Frequently Asked Questions"}),a.jsx(CW,{type:"single",collapsible:!0,className:"space-y-4",children:e.map((t,r)=>a.jsxs(jT,{value:`item-${r}`,className:"border-gray-800 bg-[#252530]/50 rounded-md",children:[a.jsx(NT,{className:"text-left text-lg font-semibold px-4 py-2 hover:bg-[#252540]/50 rounded-t-md text-gray-100",children:t.question}),a.jsx(ST,{className:"text-gray-300 px-4 pb-3",children:t.answer})]},r))})]})}),a.jsx(Ge,{})]})},PW=()=>a.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-[#121212] to-[#1a1a20]",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs(Se,{className:"max-w-4xl mx-auto p-6 bg-[#1a1a1a] border-gray-800 shadow-lg",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-gaming-primary",children:"Terms of Service"}),a.jsxs("div",{className:"space-y-6 text-gray-300",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"1. Acceptance of Terms"}),a.jsx("p",{children:"By accessing and using this gaming tournament platform, you agree to be bound by these Terms of Service and all applicable laws and regulations."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"2. Tournament Participation"}),a.jsx("p",{children:"Participants must be at least 13 years old to participate in tournaments. Some tournaments may have additional age restrictions. Players must follow all tournament rules and guidelines."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"3. Account Responsibilities"}),a.jsx("p",{children:"You are responsible for maintaining the security of your account and any activities that occur under your account. Sharing accounts or using multiple accounts is prohibited."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"4. Fair Play"}),a.jsx("p",{children:"Cheating, exploitation of bugs, or any form of unfair advantage is strictly prohibited. Violations may result in immediate disqualification and account suspension."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"5. Prizes and Payments"}),a.jsx("p",{children:"Prize distribution is subject to verification of eligibility and compliance with these terms. Winners are responsible for any applicable taxes on prizes."})]})]})]})}),a.jsx(Ge,{})]}),TW=()=>a.jsxs("div",{className:"min-h-screen flex flex-col bg-[#121212]",children:[a.jsx(He,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:a.jsxs(Se,{className:"max-w-4xl mx-auto p-6 bg-[#1a1a1a] border-gray-800",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-100",children:"Privacy Policy"}),a.jsxs("div",{className:"space-y-6 text-gray-400",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"Information We Collect"}),a.jsx("p",{children:"We collect information that you provide directly to us, including your name, email address, and gaming preferences. We also collect data about your tournament participation and performance."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"How We Use Your Information"}),a.jsx("p",{children:"We use your information to manage tournaments, provide customer support, and improve our services. We may also use your data to send you important updates about tournaments and platform features."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"Data Security"}),a.jsx("p",{children:"We implement appropriate security measures to protect your personal information from unauthorized access, alteration, or disclosure."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"Your Rights"}),a.jsx("p",{children:"You have the right to access, correct, or delete your personal information. You can also opt out of promotional communications while maintaining your tournament participation."})]}),a.jsx(ns,{className:"bg-gray-800"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-100 mb-3",children:"Contact Us"}),a.jsx("p",{children:"If you have any questions about our privacy practices, please contact us through our support channels listed on our Contact page."})]})]})]})}),a.jsx(Ge,{})]}),RW=({onKeySet:e})=>{const[t,r]=m.useState(""),[n,s]=m.useState(!1),[o,i]=m.useState(null);m.useEffect(()=>{(async()=>{try{const{data:u,error:d}=await z.from("system_settings").select("setting_value").eq("setting_name","OPENAI_API_KEY").single();if(u!=null&&u.setting_value){const f=u.setting_value.substring(0,3)+"".repeat(u.setting_value.length-6)+u.setting_value.substring(u.setting_value.length-3);i(f)}}catch(u){console.error("Error checking for existing API key:",u)}})()},[]);const l=async c=>{if(c.preventDefault(),!t.trim()||t.length<10){Y.error("Please enter a valid API key");return}s(!0);try{const{data:u}=await z.from("system_settings").select("id").eq("setting_name","OPENAI_API_KEY").single();let d;if(u?d=await z.from("system_settings").update({setting_value:t,updated_at:new Date().toISOString()}).eq("setting_name","OPENAI_API_KEY"):d=await z.from("system_settings").insert({setting_name:"OPENAI_API_KEY",setting_value:t,is_encrypted:!1}),d.error)throw d.error;Y.success("API key saved successfully");const f=t.substring(0,3)+"".repeat(t.length-6)+t.substring(t.length-3);i(f),r(""),e&&e(t)}catch(u){console.error("Error saving API key:",u),Y.error("Failed to save API key")}finally{s(!1)}};return a.jsxs(Se,{children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"OpenAI API Key"}),a.jsx(ja,{children:"Set your OpenAI API key to enable AI-powered bracket generation"})]}),a.jsxs(Ie,{children:[o?a.jsx("div",{className:"mb-4 p-3 bg-gray-800 rounded border border-gray-700",children:a.jsxs("p",{className:"text-sm text-gray-300",children:["API key is set: ",a.jsx("span",{className:"font-mono truncate max-w-full inline-block",children:o})]})}):a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"No API key is currently set. Add one below."}),a.jsx("form",{onSubmit:l,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"apiKey",className:"text-sm font-medium",children:o?"Update API Key":"API Key"}),a.jsx(we,{id:"apiKey",placeholder:"sk-...",value:t,onChange:c=>r(c.target.value),type:"password",className:"bg-gray-900 border-gray-700"})]}),a.jsx(J,{type:"submit",disabled:n,className:"w-full bg-gaming-primary hover:bg-gaming-primary/90",children:n?"Saving...":o?"Update API Key":"Save API Key"})]})})]}),a.jsx(bs,{className:"flex-col items-start border-t border-gray-800 pt-4",children:a.jsx("p",{className:"text-xs text-gray-400",children:"Your API key is stored securely. It's used only for generating tournament brackets."})})]})},AW=()=>{const[e,t]=m.useState({host:"",port:"587",username:"",password:"",fromEmail:"",fromName:"Gaming Tournament Platform"}),[r,n]=m.useState(!1),[s,o]=m.useState(!1),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,v]=m.useState(!1);m.useEffect(()=>{(async()=>{try{const{data:b}=await z.from("system_settings").select("setting_value").eq("setting_name","SMTP_HOST").single(),{data:j}=await z.from("system_settings").select("setting_value").eq("setting_name","SMTP_PORT").single(),{data:S}=await z.from("system_settings").select("setting_value").eq("setting_name","SMTP_USER").single(),{data:N}=await z.from("system_settings").select("setting_value").eq("setting_name","SMTP_FROM_EMAIL").single(),{data:_}=await z.from("system_settings").select("setting_value").eq("setting_name","SMTP_FROM_NAME").single();b!=null&&b.setting_value&&(t({host:b.setting_value,port:(j==null?void 0:j.setting_value)||"587",username:(S==null?void 0:S.setting_value)||"",password:"",fromEmail:(N==null?void 0:N.setting_value)||"",fromName:(_==null?void 0:_.setting_value)||"Gaming Tournament Platform"}),u(!0))}catch(b){console.error("Error checking for existing SMTP settings:",b)}})()},[]);const p=g=>{const{name:b,value:j}=g.target;t(S=>({...S,[b]:j}))},y=async(g,b)=>{const{data:j}=await z.from("system_settings").select("id").eq("setting_name",g).single();return j?z.from("system_settings").update({setting_value:b,updated_at:new Date().toISOString()}).eq("setting_name",g):z.from("system_settings").insert({setting_name:g,setting_value:b,is_encrypted:g==="SMTP_PASSWORD"})},x=async g=>{if(g.preventDefault(),!e.host||!e.port||!e.username||!e.fromEmail){Y.error("Please fill in all required fields");return}n(!0);try{await Promise.all([y("SMTP_HOST",e.host),y("SMTP_PORT",e.port),y("SMTP_USER",e.username),y("SMTP_FROM_EMAIL",e.fromEmail),y("SMTP_FROM_NAME",e.fromName)]),e.password&&await y("SMTP_PASSWORD",e.password),Y.success("SMTP settings saved successfully"),u(!0),v(!0)}catch(b){console.error("Error saving SMTP settings:",b),Y.error("Failed to save SMTP settings")}finally{n(!1)}},w=async()=>{if(!i){Y.error("Please enter a test email address");return}o(!0);try{if(!await iF(i))throw new Error("Failed to send test email");Y.success("Test email sent successfully!")}catch(g){console.error("Error sending test email:",g),Y.error(`Failed to send test email: ${g.message}`)}finally{o(!1)}};return a.jsxs(Se,{children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"Email SMTP Settings"}),a.jsx(ja,{children:"Configure your SMTP settings to send custom password reset emails"})]}),a.jsxs(Ie,{children:[c&&a.jsx("div",{className:"mb-4 p-3 bg-green-900/20 rounded border border-green-700",children:a.jsx("p",{className:"text-sm text-green-400",children:"SMTP settings are configured. You can update them below."})}),a.jsx("div",{className:"mb-4 p-3 bg-amber-900/20 rounded border border-amber-700",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(vl,{className:"h-5 w-5 text-amber-500 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-amber-500",children:"Important Setup Note"}),a.jsx("p",{className:"text-xs text-amber-400/90 mt-1",children:"Email sending requires EmailJS service configuration. After saving your SMTP settings, you'll need to update the EmailJS settings in the code."}),a.jsxs(mm,{children:[a.jsx(Bx,{asChild:!0,children:a.jsx(J,{variant:"outline",size:"sm",className:"mt-2 h-8 text-xs border-amber-700 bg-amber-950/50 hover:bg-amber-950",children:"Learn More"})}),a.jsx(zu,{children:a.jsxs(Vu,{children:[a.jsx(Wu,{children:"Setting up EmailJS for SMTP Emails"}),a.jsx(qu,{children:a.jsxs("div",{className:"mt-4 space-y-4 text-left",children:[a.jsx("p",{children:"This application uses EmailJS to send emails from the browser. To make it work:"}),a.jsxs("ol",{className:"list-decimal pl-5 space-y-2",children:[a.jsxs("li",{children:["Sign up at ",a.jsx("a",{href:"https://www.emailjs.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"EmailJS.com"}),"."]}),a.jsx("li",{children:"Create a new service with your SMTP settings."}),a.jsxs("li",{children:["Create an email template that includes ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"{{to_email}}"}),", ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"{{subject}}"}),", and ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"{{message_html}}"})," variables."]}),a.jsxs("li",{children:["Update the ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"EMAILJS_SERVICE_ID"}),", ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"EMAILJS_TEMPLATE_ID"}),", and ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"EMAILJS_USER_ID"})," constants in the ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"emailService.ts"})," file."]})]}),a.jsx("p",{className:"bg-gray-800 p-3 rounded text-gray-300 text-sm",children:"Please contact your developer to help with this final configuration step."})]})})]})})]})]})]})}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"host",children:"SMTP Server Host *"}),a.jsx(we,{id:"host",name:"host",placeholder:"smtp.gmail.com",value:e.host,onChange:p,className:"bg-gray-900 border-gray-700"}),a.jsx("p",{className:"text-xs text-gray-400",children:"For Gmail: smtp.gmail.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"port",children:"SMTP Port *"}),a.jsx(we,{id:"port",name:"port",placeholder:"587",value:e.port,onChange:p,className:"bg-gray-900 border-gray-700"}),a.jsx("p",{className:"text-xs text-gray-400",children:"For Gmail: 587 (TLS) or 465 (SSL)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"username",children:"SMTP Username *"}),a.jsx(we,{id:"username",name:"username",placeholder:"your.email@gmail.com",value:e.username,onChange:p,className:"bg-gray-900 border-gray-700"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Usually your full email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ze,{htmlFor:"password",children:["SMTP Password ",c&&"(leave blank to keep current password)"]}),a.jsxs("div",{className:"relative",children:[a.jsx(we,{id:"password",name:"password",type:d?"text":"password",placeholder:c?"":"Enter SMTP password",value:e.password,onChange:p,className:"bg-gray-900 border-gray-700 pr-10"}),a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-300",onClick:()=>f(!d),children:d?a.jsx(nO,{size:16}):a.jsx(Mg,{size:16})})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"For Gmail, use an App Password (requires 2FA to be enabled on your Google account)"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"fromEmail",children:"From Email Address *"}),a.jsx(we,{id:"fromEmail",name:"fromEmail",placeholder:"noreply@yourdomain.com",value:e.fromEmail,onChange:p,className:"bg-gray-900 border-gray-700"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{htmlFor:"fromName",children:"From Name"}),a.jsx(we,{id:"fromName",name:"fromName",placeholder:"Gaming Tournament Platform",value:e.fromName,onChange:p,className:"bg-gray-900 border-gray-700"})]})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:a.jsxs(J,{type:"submit",disabled:r,className:"flex-1 bg-gaming-primary hover:bg-gaming-primary/90",children:[r&&a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Saving...":"Save SMTP Settings"]})})]}),c&&a.jsxs("div",{className:"mt-6 border-t border-gray-800 pt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-4",children:"Test Email Configuration"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx(ze,{htmlFor:"testEmail",className:"sr-only",children:"Test Email Address"}),a.jsx(we,{id:"testEmail",type:"email",value:i,onChange:g=>l(g.target.value),placeholder:"Enter email address for testing",className:"bg-gray-900 border-gray-700 w-full"})]}),a.jsxs(J,{type:"button",variant:"outline",onClick:w,disabled:s||!i,className:"border-gray-700",children:[s&&a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Sending...":"Send Test Email"]})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This will send a test email to verify your SMTP configuration."})]}),h&&a.jsxs("div",{className:"mt-6 border-t border-gray-800 pt-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Configuration Required"}),a.jsx("p",{className:"text-sm text-orange-400 mb-4",children:"IMPORTANT: For emails to work, you must update the EmailJS settings in src/utils/emailService.ts"}),a.jsxs("div",{className:"bg-gray-900 p-4 rounded border border-gray-700 text-sm font-mono overflow-auto",children:[a.jsx("p",{className:"text-green-400",children:"// Update these values in emailService.ts with your EmailJS information"}),a.jsx("p",{className:"text-gray-300",children:"const EMAILJS_SERVICE_ID = 'service_id';"}),a.jsx("p",{className:"text-gray-300",children:"const EMAILJS_TEMPLATE_ID = 'template_id';"}),a.jsx("p",{className:"text-gray-300",children:"const EMAILJS_USER_ID = 'user_id';"})]})]})]}),a.jsx(bs,{className:"flex-col items-start border-t border-gray-800 pt-4",children:a.jsx("p",{className:"text-xs text-gray-400",children:"For Gmail, you'll need to create an App Password. Go to your Google Account > Security > 2-Step Verification > App passwords."})})]})},OW=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs(Se,{children:[a.jsxs(qt,{children:[a.jsx(Ht,{children:"API Settings"}),a.jsx(ja,{children:"Manage API keys and integrations for your gaming platform"})]}),a.jsx(Ie,{children:a.jsxs(hm,{defaultValue:"openai",className:"w-full",children:[a.jsxs(Bu,{className:"grid w-full grid-cols-3",children:[a.jsx(rn,{value:"openai",children:"OpenAI"}),a.jsx(rn,{value:"smtp",children:"Email (SMTP)"}),a.jsx(rn,{value:"other",children:"Other Services"})]}),a.jsx(nn,{value:"openai",children:a.jsx("div",{className:"mt-6",children:a.jsx(RW,{})})}),a.jsx(nn,{value:"smtp",children:a.jsx("div",{className:"mt-6",children:a.jsx(AW,{})})}),a.jsx(nn,{value:"other",children:a.jsx("div",{className:"mt-6 flex items-center justify-center p-6",children:a.jsx("p",{className:"text-gray-400",children:"No other API services configured yet"})})})]})})]})}),IW=()=>{const e=nr(),{user:t,loading:r}=jt(),{isSuperAdmin:n,loading:s,roleId:o}=Sr(),{toast:i}=Wn();return console.log("AdminApiSettingsPage - Current auth state:",{userExists:!!t,authLoading:r,roleId:o,isSuperAdmin:n,roleLoading:s}),m.useEffect(()=>{if(!r&&!t){console.log("AdminApiSettingsPage - No user found, redirecting to login"),i({title:"Unauthorized",description:"Please log in to access this page",variant:"destructive"}),e("/login");return}s||(console.log("AdminApiSettingsPage - Role check:",{roleId:o,roleIdType:typeof o,isSuperAdmin:n,strictEqualityCheck:o===4,looseEqualityCheck:o==4}),!s&&o!=null&&Number(o)!==4?(console.log("AdminApiSettingsPage - Access denied, redirecting home. RoleId:",o),i({title:"Access Denied",description:"You don't have permission to access this page. Only Super Admins can access API settings.",variant:"destructive"}),e("/")):console.log("AdminApiSettingsPage - Access granted for Super Admin"))},[t,r,n,s,e,i,o]),r||s?(console.log("AdminApiSettingsPage - Still loading auth or role data"),a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] text-gray-100 flex justify-center items-center",children:a.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-gaming-primary border-opacity-50 rounded-full border-t-transparent"})})):o!==4?(console.log("AdminApiSettingsPage - Rendering null due to insufficient permissions"),null):(console.log("AdminApiSettingsPage - Rendering API settings page for Super Admin"),a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] text-gray-100",children:[a.jsx(He,{}),a.jsxs("main",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx(J,{variant:"ghost",className:"mr-2",onClick:()=>e("/admin"),children:a.jsx(Cu,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-2xl font-bold",children:"Admin API Settings"})]}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(OW,{}),a.jsxs("div",{className:"mt-8 p-6 bg-[#1a1a1a] rounded-lg border border-gray-800",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"API Usage Guidelines"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"The OpenAI API is used for automatically generating tournament brackets based on team ELO ratings. This ensures fair and balanced tournament matchups."}),a.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"Important Notes:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-300",children:[a.jsx("li",{children:"Your API key is stored securely and used only for tournament bracket generation"}),a.jsx("li",{children:"Billing for API usage is handled through your OpenAI account"}),a.jsx("li",{children:"We use the gpt-4o-mini model to minimize costs while maintaining quality"}),a.jsx("li",{children:"Each bracket generation uses approximately 1 API request"})]})]})]})]}),a.jsx(Ge,{})]}))},MW=new b3,DW=()=>a.jsx(sI,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:a.jsx(k3,{client:MW,children:a.jsxs(a3,{children:[a.jsx(eI,{}),a.jsx(OI,{}),a.jsx(ID,{children:a.jsx(lF,{children:a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#121212] to-[#1a1a20] text-gray-100",children:a.jsxs(kD,{children:[a.jsx(ft,{path:"/",element:a.jsx(g8,{})}),a.jsx(ft,{path:"/tournaments",element:a.jsx(sU,{})}),a.jsx(ft,{path:"/tournaments/:tournamentId",element:a.jsx(aU,{})}),a.jsx(ft,{path:"/tournaments/:tournamentId/register",element:a.jsx(CU,{})}),a.jsx(ft,{path:"/rankings",element:a.jsx(PU,{})}),a.jsx(ft,{path:"/gaming-lounges",element:a.jsx(VU,{})}),a.jsx(ft,{path:"/gaming-lounges/:loungeId",element:a.jsx(WU,{})}),a.jsx(ft,{path:"/login",element:a.jsx(qU,{})}),a.jsx(ft,{path:"/sign-up",element:a.jsx(HU,{})}),a.jsx(ft,{path:"/forgot-password",element:a.jsx(GU,{})}),a.jsx(ft,{path:"/reset-password",element:a.jsx(KU,{})}),a.jsx(ft,{path:"/profile",element:a.jsx(e_,{})}),a.jsx(ft,{path:"/profile/:userId",element:a.jsx(e_,{})}),a.jsx(ft,{path:"/my-tournaments",element:a.jsx(QU,{})}),a.jsx(ft,{path:"/host-tournament",element:a.jsx(OV,{})}),a.jsx(ft,{path:"/lounge-admin-application",element:a.jsx(i7,{})}),a.jsx(ft,{path:"/admin",element:a.jsx(LV,{})}),a.jsx(ft,{path:"/lounge/manage",element:a.jsx(N_,{})}),a.jsx(ft,{path:"/lounge/manage/:section",element:a.jsx(N_,{})}),a.jsx(ft,{path:"/contact",element:a.jsx(lW,{})}),a.jsx(ft,{path:"/faq",element:a.jsx(EW,{})}),a.jsx(ft,{path:"/terms",element:a.jsx(PW,{})}),a.jsx(ft,{path:"/privacy",element:a.jsx(TW,{})}),a.jsx(ft,{path:"/tournaments/:tournamentId/progress",element:a.jsx(iW,{})}),a.jsx(ft,{path:"/admin/api-settings",element:a.jsx(IW,{})}),a.jsx(ft,{path:"*",element:a.jsx(QV,{})})]})})})})]})})});Zj(document.getElementById("root")).render(a.jsx(DW,{}));export{L_ as g};
